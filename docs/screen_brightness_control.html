<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="pdoc 7.1.1" />
    <title>screen_brightness_control API documentation</title>
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2264%22%20height%3D%2264%22%20viewBox%3D%2244.5%202.5%2015%2015%22%3E%3Cpath%20d%3D%22M49.351%2021.041c-.233-.721-.546-2.408-.772-4.076-.042-.09-.067-.187-.046-.288-.166-1.347-.277-2.625-.241-3.351-1.378-1.008-2.271-2.586-2.271-4.362%200-.976.272-1.935.788-2.774.057-.094.122-.18.184-.268-.033-.167-.052-.339-.052-.516%200-1.477%201.202-2.679%202.679-2.679.791%200%201.496.352%201.987.9a6.3%206.3%200%200%201%201.001.029c.492-.564%201.207-.929%202.012-.929%201.477%200%202.679%201.202%202.679%202.679a2.65%202.65%200%200%201-.269%201.148c.383.747.595%201.572.595%202.41%200%202.311-1.507%204.29-3.635%205.107.037.699.147%202.27.423%203.294l.137.461c.156%202.136-4.612%205.166-5.199%203.215zm.127-4.919a4.78%204.78%200%200%200%20.775-.584c-.172-.115-.505-.254-.88-.378zm.331%202.302l.828-.502c-.202-.143-.576-.328-.984-.49zm.45%202.157l.701-.403c-.214-.115-.536-.249-.891-.376l.19.779zM49.13%204.141c0%20.152.123.276.276.276s.275-.124.275-.276-.123-.276-.276-.276-.275.124-.275.276zm.735-.389a1.15%201.15%200%200%201%20.314.783%201.16%201.16%200%200%201-1.162%201.162c-.457%200-.842-.27-1.032-.653-.026.117-.042.238-.042.362a1.68%201.68%200%200%200%201.679%201.679%201.68%201.68%200%200%200%201.679-1.679c0-.843-.626-1.535-1.436-1.654zm3.076%201.654a1.68%201.68%200%200%200%201.679%201.679%201.68%201.68%200%200%200%201.679-1.679c0-.037-.009-.072-.011-.109-.21.3-.541.508-.935.508a1.16%201.16%200%200%201-1.162-1.162%201.14%201.14%200%200%201%20.474-.912c-.015%200-.03-.005-.045-.005-.926.001-1.679.754-1.679%201.68zm1.861-1.265c0%20.152.123.276.276.276s.275-.124.275-.276-.123-.276-.276-.276-.275.124-.275.276zm1.823%204.823c0-.52-.103-1.035-.288-1.52-.466.394-1.06.64-1.717.64-1.144%200-2.116-.725-2.499-1.738-.383%201.012-1.355%201.738-2.499%201.738-.867%200-1.631-.421-2.121-1.062-.307.605-.478%201.267-.478%201.942%200%202.486%202.153%204.51%204.801%204.51s4.801-2.023%204.801-4.51zm-3.032%209.156l-.146-.492c-.276-1.02-.395-2.457-.444-3.268a6.11%206.11%200%200%201-1.18.115%206.01%206.01%200%200%201-2.536-.562l.006.175c.802.215%201.848.612%202.021%201.25.079.295-.021.601-.274.837l-.598.501c.667.304%201.243.698%201.311%201.179.02.144.022.507-.393.787l-.564.365c1.285.521%201.361.96%201.381%201.126.018.142.011.496-.427.746l-.854.489c.064-1.19%201.985-2.585%202.697-3.248zM49.34%209.925c0-.667%201-.667%201%200%200%20.653.818%201.205%201.787%201.205s1.787-.552%201.787-1.205c0-.667%201-.667%201%200%200%201.216-1.25%202.205-2.787%202.205s-2.787-.989-2.787-2.205zm-.887-7.633c-.093.077-.205.114-.317.114a.5.5%200%200%201-.318-.886L49.183.397a.5.5%200%200%201%20.703.068.5.5%200%200%201-.069.703zm7.661-.065c-.086%200-.173-.022-.253-.068l-1.523-.893c-.575-.337-.069-1.2.506-.863l1.523.892a.5.5%200%200%201%20.179.685c-.094.158-.261.247-.432.247z%22%20fill%3D%22%233bb300%22/%3E%3C/svg%3E"/>


<style>/*! * Bootstrap Reboot v5.0.0 (https://getbootstrap.com/) * Copyright 2011-2021 The Bootstrap Authors * Copyright 2011-2021 Twitter, Inc. * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE) * Forked from Normalize.css, licensed MIT (https://github.com/necolas/normalize.css/blob/master/LICENSE.md) */*,::after,::before{box-sizing:border-box}@media (prefers-reduced-motion:no-preference){:root{scroll-behavior:smooth}}body{margin:0;font-family:system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans","Liberation Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-size:1rem;font-weight:400;line-height:1.5;color:#212529;background-color:#fff;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}hr{margin:1rem 0;color:inherit;background-color:currentColor;border:0;opacity:.25}hr:not([size]){height:1px}h1,h2,h3,h4,h5,h6{margin-top:0;margin-bottom:.5rem;font-weight:500;line-height:1.2}h1{font-size:calc(1.375rem + 1.5vw)}@media (min-width:1200px){h1{font-size:2.5rem}}h2{font-size:calc(1.325rem + .9vw)}@media (min-width:1200px){h2{font-size:2rem}}h3{font-size:calc(1.3rem + .6vw)}@media (min-width:1200px){h3{font-size:1.75rem}}h4{font-size:calc(1.275rem + .3vw)}@media (min-width:1200px){h4{font-size:1.5rem}}h5{font-size:1.25rem}h6{font-size:1rem}p{margin-top:0;margin-bottom:1rem}abbr[data-bs-original-title],abbr[title]{-webkit-text-decoration:underline dotted;text-decoration:underline dotted;cursor:help;-webkit-text-decoration-skip-ink:none;text-decoration-skip-ink:none}address{margin-bottom:1rem;font-style:normal;line-height:inherit}ol,ul{padding-left:2rem}dl,ol,ul{margin-top:0;margin-bottom:1rem}ol ol,ol ul,ul ol,ul ul{margin-bottom:0}dt{font-weight:700}dd{margin-bottom:.5rem;margin-left:0}blockquote{margin:0 0 1rem}b,strong{font-weight:bolder}small{font-size:.875em}mark{padding:.2em;background-color:#fcf8e3}sub,sup{position:relative;font-size:.75em;line-height:0;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}a{color:#0d6efd;text-decoration:underline}a:hover{color:#0a58ca}a:not([href]):not([class]),a:not([href]):not([class]):hover{color:inherit;text-decoration:none}code,kbd,pre,samp{font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;font-size:1em;direction:ltr;unicode-bidi:bidi-override}pre{display:block;margin-top:0;margin-bottom:1rem;overflow:auto;font-size:.875em}pre code{font-size:inherit;color:inherit;word-break:normal}code{font-size:.875em;color:#d63384;word-wrap:break-word}a>code{color:inherit}kbd{padding:.2rem .4rem;font-size:.875em;color:#fff;background-color:#212529;border-radius:.2rem}kbd kbd{padding:0;font-size:1em;font-weight:700}figure{margin:0 0 1rem}img,svg{vertical-align:middle}table{caption-side:bottom;border-collapse:collapse}caption{padding-top:.5rem;padding-bottom:.5rem;color:#6c757d;text-align:left}th{text-align:inherit;text-align:-webkit-match-parent}tbody,td,tfoot,th,thead,tr{border-color:inherit;border-style:solid;border-width:0}label{display:inline-block}button{border-radius:0}button:focus:not(:focus-visible){outline:0}button,input,optgroup,select,textarea{margin:0;font-family:inherit;font-size:inherit;line-height:inherit}button,select{text-transform:none}[role=button]{cursor:pointer}select{word-wrap:normal}select:disabled{opacity:1}[list]::-webkit-calendar-picker-indicator{display:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]:not(:disabled),[type=reset]:not(:disabled),[type=submit]:not(:disabled),button:not(:disabled){cursor:pointer}::-moz-focus-inner{padding:0;border-style:none}textarea{resize:vertical}fieldset{min-width:0;padding:0;margin:0;border:0}legend{float:left;width:100%;padding:0;margin-bottom:.5rem;font-size:calc(1.275rem + .3vw);line-height:inherit}@media (min-width:1200px){legend{font-size:1.5rem}}legend+*{clear:left}::-webkit-datetime-edit-day-field,::-webkit-datetime-edit-fields-wrapper,::-webkit-datetime-edit-hour-field,::-webkit-datetime-edit-minute,::-webkit-datetime-edit-month-field,::-webkit-datetime-edit-text,::-webkit-datetime-edit-year-field{padding:0}::-webkit-inner-spin-button{height:auto}[type=search]{outline-offset:-2px;-webkit-appearance:textfield}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-color-swatch-wrapper{padding:0}::file-selector-button{font:inherit}::-webkit-file-upload-button{font:inherit;-webkit-appearance:button}output{display:inline-block}iframe{border:0}summary{display:list-item;cursor:pointer}progress{vertical-align:baseline}[hidden]{display:none!important}</style>
<style>/*! pygments syntax highlighting */pre{line-height:125%;}td.linenos pre{color:#000000; background-color:#f0f0f0; padding-left:5px; padding-right:5px;}span.linenos{color:#000000; background-color:#f0f0f0; padding-left:5px; padding-right:5px;}td.linenos pre.special{color:#000000; background-color:#ffffc0; padding-left:5px; padding-right:5px;}span.linenos.special{color:#000000; background-color:#ffffc0; padding-left:5px; padding-right:5px;}.pdoc .hll{background-color:#ffffcc}.pdoc{background:#f8f8f8;}.pdoc .c{color:#408080; font-style:italic}.pdoc .err{border:1px solid #FF0000}.pdoc .k{color:#008000; font-weight:bold}.pdoc .o{color:#666666}.pdoc .ch{color:#408080; font-style:italic}.pdoc .cm{color:#408080; font-style:italic}.pdoc .cp{color:#BC7A00}.pdoc .cpf{color:#408080; font-style:italic}.pdoc .c1{color:#408080; font-style:italic}.pdoc .cs{color:#408080; font-style:italic}.pdoc .gd{color:#A00000}.pdoc .ge{font-style:italic}.pdoc .gr{color:#FF0000}.pdoc .gh{color:#000080; font-weight:bold}.pdoc .gi{color:#00A000}.pdoc .go{color:#888888}.pdoc .gp{color:#000080; font-weight:bold}.pdoc .gs{font-weight:bold}.pdoc .gu{color:#800080; font-weight:bold}.pdoc .gt{color:#0044DD}.pdoc .kc{color:#008000; font-weight:bold}.pdoc .kd{color:#008000; font-weight:bold}.pdoc .kn{color:#008000; font-weight:bold}.pdoc .kp{color:#008000}.pdoc .kr{color:#008000; font-weight:bold}.pdoc .kt{color:#B00040}.pdoc .m{color:#666666}.pdoc .s{color:#BA2121}.pdoc .na{color:#7D9029}.pdoc .nb{color:#008000}.pdoc .nc{color:#0000FF; font-weight:bold}.pdoc .no{color:#880000}.pdoc .nd{color:#AA22FF}.pdoc .ni{color:#999999; font-weight:bold}.pdoc .ne{color:#D2413A; font-weight:bold}.pdoc .nf{color:#0000FF}.pdoc .nl{color:#A0A000}.pdoc .nn{color:#0000FF; font-weight:bold}.pdoc .nt{color:#008000; font-weight:bold}.pdoc .nv{color:#19177C}.pdoc .ow{color:#AA22FF; font-weight:bold}.pdoc .w{color:#bbbbbb}.pdoc .mb{color:#666666}.pdoc .mf{color:#666666}.pdoc .mh{color:#666666}.pdoc .mi{color:#666666}.pdoc .mo{color:#666666}.pdoc .sa{color:#BA2121}.pdoc .sb{color:#BA2121}.pdoc .sc{color:#BA2121}.pdoc .dl{color:#BA2121}.pdoc .sd{color:#BA2121; font-style:italic}.pdoc .s2{color:#BA2121}.pdoc .se{color:#BB6622; font-weight:bold}.pdoc .sh{color:#BA2121}.pdoc .si{color:#BB6688; font-weight:bold}.pdoc .sx{color:#008000}.pdoc .sr{color:#BB6688}.pdoc .s1{color:#BA2121}.pdoc .ss{color:#19177C}.pdoc .bp{color:#008000}.pdoc .fm{color:#0000FF}.pdoc .vc{color:#19177C}.pdoc .vg{color:#19177C}.pdoc .vi{color:#19177C}.pdoc .vm{color:#19177C}.pdoc .il{color:#666666}</style>
<style>/*! pdoc */:root{--pdoc-background:#fff;}.pdoc{--text:#212529;--muted:#6c757d;--link:#3660a5;--link-hover:#1659c5;--code:#f7f7f7;--active:#fff598;--accent:#eee;--accent2:#c1c1c1;--nav-hover:rgba(255, 255, 255, 0.5);--name:#0066BB;--def:#008800;--annotation:#007020;}body{background-color:var(--pdoc-background);}html, body{width:100%;height:100%;}@media (max-width:769px){#navtoggle{cursor:pointer;position:absolute;width:50px;height:40px;top:1rem;right:1rem;border-color:var(--text);color:var(--text);display:flex;opacity:0.8;}#navtoggle:hover{opacity:1;}#togglestate + div{display:none;}#togglestate:checked + div{display:inherit;}main, header{padding:2rem 3vw;}.git-button{display:none !important;}nav input[type="search"]:valid ~ *{display:none !important;}}@media (min-width:770px){:root{--sidebar-width:clamp(12.5rem, 28vw, 22rem);}nav{position:fixed;overflow:auto;height:100vh;width:var(--sidebar-width);}main, header{padding:3rem 2rem 3rem calc(var(--sidebar-width) + 3rem);width:calc(54rem + var(--sidebar-width));max-width:100%;}#navtoggle{display:none;}}#togglestate{display:none;}nav.pdoc{--pad:1.75rem;--indent:1.5rem;background-color:var(--accent);border-right:1px solid var(--accent2);box-shadow:0 0 20px rgba(50, 50, 50, .2) inset;padding:0 0 0 var(--pad);overflow-wrap:anywhere;scrollbar-width:thin; scrollbar-color:var(--accent2) transparent }nav.pdoc::-webkit-scrollbar{width:.4rem; }nav.pdoc::-webkit-scrollbar-thumb{background-color:var(--accent2); }nav.pdoc > div{padding:var(--pad) 0;}nav.pdoc .module-list-button{display:inline-flex;align-items:center;color:var(--text);border-color:var(--muted);margin-bottom:1rem;}nav.pdoc .module-list-button:hover{border-color:var(--text);}nav.pdoc input[type=search]{display:block;outline-offset:0;width:calc(100% - var(--pad));}nav.pdoc ul{list-style:none;padding-left:0;}nav.pdoc li{display:block;margin:0;padding:.2rem 0 .2rem var(--indent);transition:all 100ms;}nav.pdoc > div > ul > li{padding-left:0;}nav.pdoc li:hover{background-color:var(--nav-hover);}nav.pdoc a, nav.pdoc a:hover{color:var(--text);}nav.pdoc a{display:block;}nav.pdoc > h2:first-of-type{margin-top:1.5rem;}nav.pdoc .class:before{content:"class ";color:var(--muted);}nav.pdoc .function:after{content:"()";color:var(--muted);}html, main{scroll-behavior:smooth;}.pdoc{color:var(--text);box-sizing:border-box;line-height:1.5;background:none;}.pdoc .pdoc-button{display:inline-block;border:solid black 1px;border-radius:2px;font-size:.75rem;padding:calc(0.5em - 1px) 1em;transition:100ms all;}.pdoc .visually-hidden{position:absolute !important;width:1px !important;height:1px !important;padding:0 !important;margin:-1px !important;overflow:hidden !important;clip:rect(0, 0, 0, 0) !important;white-space:nowrap !important;border:0 !important;}.pdoc h1, .pdoc h2, .pdoc h3{font-weight:300;margin:.3em 0;padding:.2em 0;}.pdoc a{text-decoration:none;color:var(--link);}.pdoc a:hover{color:var(--link-hover);}.pdoc blockquote{margin-left:2rem;}.pdoc pre{background-color:var(--code);border-top:1px solid var(--accent2);border-bottom:1px solid var(--accent2);margin-bottom:1em;padding:.5rem 0 .5rem .5rem;overflow-x:auto;}.pdoc code{color:var(--text);padding:.2em .4em;margin:0;font-size:85%;background-color:var(--code);border-radius:6px;}.pdoc a > code{color:inherit;}.pdoc pre > code{display:inline-block;font-size:inherit;background:none;border:none;padding:0;}.pdoc .modulename{margin-top:0;font-weight:bold;}.pdoc .modulename a{color:var(--link);transition:100ms all;}.pdoc .git-button{float:right;border:solid var(--link) 1px;}.pdoc .git-button:hover{background-color:var(--link);color:var(--pdoc-background);}.pdoc details{--shift:-40px;text-align:right;margin-top:var(--shift);margin-bottom:calc(0px - var(--shift));clear:both;filter:opacity(1);}.pdoc details:not([open]){height:0;overflow:visible;}.pdoc details > summary{font-size:.75rem;cursor:pointer;color:var(--muted);border-width:0;padding:0 .7em;display:inline-block;display:inline list-item;user-select:none;}.pdoc details > summary:focus{outline:0;}.pdoc details > div{margin-top:calc(0px - var(--shift) / 2);text-align:left;}.pdoc .docstring{margin-bottom:1.5rem;}.pdoc > section:first-of-type > .docstring{margin-bottom:3rem;}.pdoc .docstring pre{margin-left:1em;margin-right:1em;}.pdoc h1:target,.pdoc h2:target,.pdoc h3:target,.pdoc h4:target,.pdoc h5:target,.pdoc h6:target{background-color:var(--active);box-shadow:-1rem 0 0 0 var(--active);}.pdoc div:target > .attr,.pdoc section:target > .attr,.pdoc dd:target > a{background-color:var(--active);}.pdoc .attr:hover{filter:contrast(0.95);}.pdoc .headerlink{position:absolute;width:0;margin-left:-1.5rem;line-height:1.4rem;font-size:1.5rem;font-weight:normal;transition:all 100ms ease-in-out;opacity:0;}.pdoc .attr > .headerlink{margin-left:-2.5rem;}.pdoc *:hover > .headerlink,.pdoc *:target > .attr > .headerlink{opacity:1;}.pdoc .attr{display:block;color:var(--text);margin:1rem 0 .5rem;padding:.4rem 5rem .4rem 1rem;background-color:var(--accent);}.pdoc .classattr{margin-left:2rem;}.pdoc .name{color:var(--name);font-weight:bold;}.pdoc .def{color:var(--def);font-weight:bold;}.pdoc .signature{white-space:pre-wrap;}.pdoc .annotation{color:var(--annotation);}.pdoc .inherited{margin-left:2rem;}.pdoc .inherited dt{font-weight:700;}.pdoc .inherited dt, .pdoc .inherited dd{display:inline;margin-left:0;margin-bottom:.5rem;}.pdoc .inherited dd:not(:last-child):after{content:", ";}.pdoc .inherited .class:before{content:"class ";}.pdoc .inherited .function a:after{content:"()";}.pdoc .search-result .docstring{overflow:auto;max-height:25vh;}.pdoc .search-result.focused > .attr{background-color:var(--active);}.pdoc .attribution{margin-top:2rem;display:block;opacity:0.5;transition:all 200ms;filter:grayscale(100%);}.pdoc .attribution:hover{opacity:1;filter:grayscale(0%);}.pdoc .attribution img{margin-left:5px;height:35px;vertical-align:middle;width:70px;transition:all 200ms;}</style>
</head>
<body>        <nav class="pdoc">
            <label id="navtoggle" for="togglestate" class="pdoc-button"><svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'><path stroke-linecap='round' stroke="currentColor" stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/></svg></label>
            <input id="togglestate" type="checkbox">
            <div>
                        <a class="pdoc-button module-list-button" href="./../../index.html">
<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-box-arrow-in-left" viewBox="0 0 16 16">
  <path fill-rule="evenodd" d="M10 3.5a.5.5 0 0 0-.5-.5h-8a.5.5 0 0 0-.5.5v9a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 1 1 0v2A1.5 1.5 0 0 1 9.5 14h-8A1.5 1.5 0 0 1 0 12.5v-9A1.5 1.5 0 0 1 1.5 2h8A1.5 1.5 0 0 1 11 3.5v2a.5.5 0 0 1-1 0v-2z"/>
  <path fill-rule="evenodd" d="M4.146 8.354a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H14.5a.5.5 0 0 1 0 1H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3z"/>
</svg>                            &nbsp;
                            Back to homepage
                        </a>

                    <input type="search" placeholder="Search..." role="searchbox" aria-label="search"
                           pattern=".+" required>



                    <h2>Submodules</h2>
                    <ul>
                            <li><a href="screen_brightness_control/linux.html">screen_brightness_control.linux</a></li>
                            <li><a href="screen_brightness_control/windows.html">screen_brightness_control.windows</a></li>
                    </ul>

                    <h2>API Documentation</h2>
                        <ul class="memberlist">
            <li>
                    <a class="function" href="#get_brightness">get_brightness</a>
            </li>
            <li>
                    <a class="function" href="#set_brightness">set_brightness</a>
            </li>
            <li>
                    <a class="function" href="#fade_brightness">fade_brightness</a>
            </li>
            <li>
                    <a class="function" href="#list_monitors_info">list_monitors_info</a>
            </li>
            <li>
                    <a class="function" href="#list_monitors">list_monitors</a>
            </li>
            <li>
                    <a class="class" href="#EDID">EDID</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#EDID.__init__">EDID</a>
                        </li>
                        <li>
                                <a class="variable" href="#EDID.EDID_FORMAT">EDID_FORMAT</a>
                        </li>
                        <li>
                                <a class="function" href="#EDID.parse_edid">parse_edid</a>
                        </li>
                        <li>
                                <a class="function" href="#EDID.hexdump">hexdump</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#ScreenBrightnessError">ScreenBrightnessError</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#ScreenBrightnessError.__init__">ScreenBrightnessError</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#Monitor">Monitor</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#Monitor.__init__">Monitor</a>
                        </li>
                        <li>
                                <a class="variable" href="#Monitor.serial">serial</a>
                        </li>
                        <li>
                                <a class="variable" href="#Monitor.name">name</a>
                        </li>
                        <li>
                                <a class="variable" href="#Monitor.method">method</a>
                        </li>
                        <li>
                                <a class="variable" href="#Monitor.manufacturer">manufacturer</a>
                        </li>
                        <li>
                                <a class="variable" href="#Monitor.manufacturer_id">manufacturer_id</a>
                        </li>
                        <li>
                                <a class="variable" href="#Monitor.model">model</a>
                        </li>
                        <li>
                                <a class="variable" href="#Monitor.index">index</a>
                        </li>
                        <li>
                                <a class="variable" href="#Monitor.edid">edid</a>
                        </li>
                        <li>
                                <a class="function" href="#Monitor.get_identifier">get_identifier</a>
                        </li>
                        <li>
                                <a class="function" href="#Monitor.set_brightness">set_brightness</a>
                        </li>
                        <li>
                                <a class="function" href="#Monitor.get_brightness">get_brightness</a>
                        </li>
                        <li>
                                <a class="function" href="#Monitor.fade_brightness">fade_brightness</a>
                        </li>
                        <li>
                                <a class="function" href="#Monitor.get_info">get_info</a>
                        </li>
                        <li>
                                <a class="function" href="#Monitor.is_active">is_active</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="function" href="#filter_monitors">filter_monitors</a>
            </li>
            <li>
                    <a class="function" href="#flatten_list">flatten_list</a>
            </li>
    </ul>


                    <h2>Version</h2>
                    <ul id="docver_links_nojquery">
                    <li>
                    <a href="../../docver_links_redir.html">
                    Change documentation version</a></li>
                    </ul>
                    <ul class="memberlist" id="docver_links">
                    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
                    <script>
                        var docver_path_inline = "../../docver_links_inline.html";
                        $("#docver_links").load(docver_path_inline,
                            function(resp_txt, txt_status, xmlhttp_req){
                                if (txt_status=="success"){
                                    document.getElementById("docver_links_nojquery").innerHTML = "";
                                }
                                if (txt_status=="error"){
                                    document.getElementById("docver_links").setAttribute("class", "");
                                }
                        });
                    </script>
                    </ul>

                    <h2><a href="https://github.com/Crozzers/screen_brightness_control">GitHub</a></h2>
                    <ul class="memberlist">
                    <li><a href="https://github.com/Crozzers/screen_brightness_control/releases">Releases</a></li>
                    <li><a href="https://github.com/Crozzers/screen_brightness_control/issues">Issue Tracker</a></li>
                    <li><a href="https://github.com/Crozzers/screen_brightness_control/pulls">Pull Requests</a></li>
                    </ul>
                    <h2 style='border-bottom:none;'><a href='https://pypi.org/project/screen_brightness_control'>PyPi</a></h2>
                    <h2 style='border-bottom:none;'><a href='https://mit-license.org'>License</a></h2>
                    <a class="attribution" title="pdoc: Python API documentation generator" href="https://pdoc.dev">
                        built with <span class="visually-hidden">pdoc</span><img
                            alt="pdoc logo"
                            src="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20role%3D%22img%22%20aria-label%3D%22pdoc%20logo%22%20width%3D%22300%22%20height%3D%22150%22%20viewBox%3D%22-1%200%2060%2030%22%3E%3Ctitle%3Epdoc%3C/title%3E%3Cpath%20d%3D%22M29.621%2021.293c-.011-.273-.214-.475-.511-.481a.5.5%200%200%200-.489.503l-.044%201.393c-.097.551-.695%201.215-1.566%201.704-.577.428-1.306.486-2.193.182-1.426-.617-2.467-1.654-3.304-2.487l-.173-.172a3.43%203.43%200%200%200-.365-.306.49.49%200%200%200-.286-.196c-1.718-1.06-4.931-1.47-7.353.191l-.219.15c-1.707%201.187-3.413%202.131-4.328%201.03-.02-.027-.49-.685-.141-1.763.233-.721.546-2.408.772-4.076.042-.09.067-.187.046-.288.166-1.347.277-2.625.241-3.351%201.378-1.008%202.271-2.586%202.271-4.362%200-.976-.272-1.935-.788-2.774-.057-.094-.122-.18-.184-.268.033-.167.052-.339.052-.516%200-1.477-1.202-2.679-2.679-2.679-.791%200-1.496.352-1.987.9a6.3%206.3%200%200%200-1.001.029c-.492-.564-1.207-.929-2.012-.929-1.477%200-2.679%201.202-2.679%202.679A2.65%202.65%200%200%200%20.97%206.554c-.383.747-.595%201.572-.595%202.41%200%202.311%201.507%204.29%203.635%205.107-.037.699-.147%202.27-.423%203.294l-.137.461c-.622%202.042-2.515%208.257%201.727%2010.643%201.614.908%203.06%201.248%204.317%201.248%202.665%200%204.492-1.524%205.322-2.401%201.476-1.559%202.886-1.854%206.491.82%201.877%201.393%203.514%201.753%204.861%201.068%202.223-1.713%202.811-3.867%203.399-6.374.077-.846.056-1.469.054-1.537zm-4.835%204.313c-.054.305-.156.586-.242.629-.034-.007-.131-.022-.307-.157-.145-.111-.314-.478-.456-.908.221.121.432.25.675.355.115.039.219.051.33.081zm-2.251-1.238c-.05.33-.158.648-.252.694-.022.001-.125-.018-.307-.157-.217-.166-.488-.906-.639-1.573.358.344.754.693%201.198%201.036zm-3.887-2.337c-.006-.116-.018-.231-.041-.342.635.145%201.189.368%201.599.625.097.231.166.481.174.642-.03.049-.055.101-.067.158-.046.013-.128.026-.298.004-.278-.037-.901-.57-1.367-1.087zm-1.127-.497c.116.306.176.625.12.71-.019.014-.117.045-.345.016-.206-.027-.604-.332-.986-.695.41-.051.816-.056%201.211-.031zm-4.535%201.535c.209.22.379.47.358.598-.006.041-.088.138-.351.234-.144.055-.539-.063-.979-.259a11.66%2011.66%200%200%200%20.972-.573zm.983-.664c.359-.237.738-.418%201.126-.554.25.237.479.548.457.694-.006.042-.087.138-.351.235-.174.064-.694-.105-1.232-.375zm-3.381%201.794c-.022.145-.061.29-.149.401-.133.166-.358.248-.69.251h-.002c-.133%200-.306-.26-.45-.621.417.091.854.07%201.291-.031zm-2.066-8.077a4.78%204.78%200%200%201-.775-.584c.172-.115.505-.254.88-.378l-.105.962zm-.331%202.302a10.32%2010.32%200%200%201-.828-.502c.202-.143.576-.328.984-.49l-.156.992zm-.45%202.157l-.701-.403c.214-.115.536-.249.891-.376a11.57%2011.57%200%200%201-.19.779zm-.181%201.716c.064.398.194.702.298.893-.194-.051-.435-.162-.736-.398.061-.119.224-.3.438-.495zM8.87%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zm-.735-.389a1.15%201.15%200%200%200-.314.783%201.16%201.16%200%200%200%201.162%201.162c.457%200%20.842-.27%201.032-.653.026.117.042.238.042.362a1.68%201.68%200%200%201-1.679%201.679%201.68%201.68%200%200%201-1.679-1.679c0-.843.626-1.535%201.436-1.654zM5.059%205.406A1.68%201.68%200%200%201%203.38%207.085a1.68%201.68%200%200%201-1.679-1.679c0-.037.009-.072.011-.109.21.3.541.508.935.508a1.16%201.16%200%200%200%201.162-1.162%201.14%201.14%200%200%200-.474-.912c.015%200%20.03-.005.045-.005.926.001%201.679.754%201.679%201.68zM3.198%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zM1.375%208.964c0-.52.103-1.035.288-1.52.466.394%201.06.64%201.717.64%201.144%200%202.116-.725%202.499-1.738.383%201.012%201.355%201.738%202.499%201.738.867%200%201.631-.421%202.121-1.062.307.605.478%201.267.478%201.942%200%202.486-2.153%204.51-4.801%204.51s-4.801-2.023-4.801-4.51zm24.342%2019.349c-.985.498-2.267.168-3.813-.979-3.073-2.281-5.453-3.199-7.813-.705-1.315%201.391-4.163%203.365-8.423.97-3.174-1.786-2.239-6.266-1.261-9.479l.146-.492c.276-1.02.395-2.457.444-3.268a6.11%206.11%200%200%200%201.18.115%206.01%206.01%200%200%200%202.536-.562l-.006.175c-.802.215-1.848.612-2.021%201.25-.079.295.021.601.274.837.219.203.415.364.598.501-.667.304-1.243.698-1.311%201.179-.02.144-.022.507.393.787.213.144.395.26.564.365-1.285.521-1.361.96-1.381%201.126-.018.142-.011.496.427.746l.854.489c-.473.389-.971.914-.999%201.429-.018.278.095.532.316.713.675.556%201.231.721%201.653.721.059%200%20.104-.014.158-.02.207.707.641%201.64%201.513%201.64h.013c.8-.008%201.236-.345%201.462-.626.173-.216.268-.457.325-.692.424.195.93.374%201.372.374.151%200%20.294-.021.423-.068.732-.27.944-.704.993-1.021.009-.061.003-.119.002-.179.266.086.538.147.789.147.15%200%20.294-.021.423-.069.542-.2.797-.489.914-.754.237.147.478.258.704.288.106.014.205.021.296.021.356%200%20.595-.101.767-.229.438.435%201.094.992%201.656%201.067.106.014.205.021.296.021a1.56%201.56%200%200%200%20.323-.035c.17.575.453%201.289.866%201.605.358.273.665.362.914.362a.99.99%200%200%200%20.421-.093%201.03%201.03%200%200%200%20.245-.164c.168.428.39.846.68%201.068.358.273.665.362.913.362a.99.99%200%200%200%20.421-.093c.317-.148.512-.448.639-.762.251.157.495.257.726.257.127%200%20.25-.024.37-.071.427-.17.706-.617.841-1.314.022-.015.047-.022.068-.038.067-.051.133-.104.196-.159-.443%201.486-1.107%202.761-2.086%203.257zM8.66%209.925a.5.5%200%201%200-1%200c0%20.653-.818%201.205-1.787%201.205s-1.787-.552-1.787-1.205a.5.5%200%201%200-1%200c0%201.216%201.25%202.205%202.787%202.205s2.787-.989%202.787-2.205zm4.4%2015.965l-.208.097c-2.661%201.258-4.708%201.436-6.086.527-1.542-1.017-1.88-3.19-1.844-4.198a.4.4%200%200%200-.385-.414c-.242-.029-.406.164-.414.385-.046%201.249.367%203.686%202.202%204.896.708.467%201.547.7%202.51.7%201.248%200%202.706-.392%204.362-1.174l.185-.086a.4.4%200%200%200%20.205-.527c-.089-.204-.326-.291-.527-.206zM9.547%202.292c.093.077.205.114.317.114a.5.5%200%200%200%20.318-.886L8.817.397a.5.5%200%200%200-.703.068.5.5%200%200%200%20.069.703l1.364%201.124zm-7.661-.065c.086%200%20.173-.022.253-.068l1.523-.893a.5.5%200%200%200-.506-.863l-1.523.892a.5.5%200%200%200-.179.685c.094.158.261.247.432.247z%22%20transform%3D%22matrix%28-1%200%200%201%2058%200%29%22%20fill%3D%22%233bb300%22/%3E%3Cpath%20d%3D%22M.3%2021.86V10.18q0-.46.02-.68.04-.22.18-.5.28-.54%201.34-.54%201.06%200%201.42.28.38.26.44.78.76-1.04%202.38-1.04%201.64%200%203.1%201.54%201.46%201.54%201.46%203.58%200%202.04-1.46%203.58-1.44%201.54-3.08%201.54-1.64%200-2.38-.92v4.04q0%20.46-.04.68-.02.22-.18.5-.14.3-.5.42-.36.12-.98.12-.62%200-1-.12-.36-.12-.52-.4-.14-.28-.18-.5-.02-.22-.02-.68zm3.96-9.42q-.46.54-.46%201.18%200%20.64.46%201.18.48.52%201.2.52.74%200%201.24-.52.52-.52.52-1.18%200-.66-.48-1.18-.48-.54-1.26-.54-.76%200-1.22.54zm14.741-8.36q.16-.3.54-.42.38-.12%201-.12.64%200%201.02.12.38.12.52.42.16.3.18.54.04.22.04.68v11.94q0%20.46-.04.7-.02.22-.18.5-.3.54-1.7.54-1.38%200-1.54-.98-.84.96-2.34.96-1.8%200-3.28-1.56-1.48-1.58-1.48-3.66%200-2.1%201.48-3.68%201.5-1.58%203.28-1.58%201.48%200%202.3%201v-4.2q0-.46.02-.68.04-.24.18-.52zm-3.24%2010.86q.52.54%201.26.54.74%200%201.22-.54.5-.54.5-1.18%200-.66-.48-1.22-.46-.56-1.26-.56-.8%200-1.28.56-.48.54-.48%201.2%200%20.66.52%201.2zm7.833-1.2q0-2.4%201.68-3.96%201.68-1.56%203.84-1.56%202.16%200%203.82%201.56%201.66%201.54%201.66%203.94%200%201.66-.86%202.96-.86%201.28-2.1%201.9-1.22.6-2.54.6-1.32%200-2.56-.64-1.24-.66-2.1-1.92-.84-1.28-.84-2.88zm4.18%201.44q.64.48%201.3.48.66%200%201.32-.5.66-.5.66-1.48%200-.98-.62-1.46-.62-.48-1.34-.48-.72%200-1.34.5-.62.5-.62%201.48%200%20.96.64%201.46zm11.412-1.44q0%20.84.56%201.32.56.46%201.18.46.64%200%201.18-.36.56-.38.9-.38.6%200%201.46%201.06.46.58.46%201.04%200%20.76-1.1%201.42-1.14.8-2.8.8-1.86%200-3.58-1.34-.82-.64-1.34-1.7-.52-1.08-.52-2.36%200-1.3.52-2.34.52-1.06%201.34-1.7%201.66-1.32%203.54-1.32.76%200%201.48.22.72.2%201.06.4l.32.2q.36.24.56.38.52.4.52.92%200%20.5-.42%201.14-.72%201.1-1.38%201.1-.38%200-1.08-.44-.36-.34-1.04-.34-.66%200-1.24.48-.58.48-.58%201.34z%22%20fill%3D%22green%22/%3E%3C/svg%3E"/>
                    </a>
            </div>
        </nav>
    <main class="pdoc">
            <section>
                    <h1 class="modulename">
screen_brightness_control    </h1>

                
                        <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="nn">platform</span>
<span class="kn">import</span> <span class="nn">struct</span>
<span class="kn">import</span> <span class="nn">threading</span>
<span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">traceback</span>
<span class="kn">from</span> <span class="nn">functools</span> <span class="kn">import</span> <span class="n">lru_cache</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Any</span><span class="p">,</span> <span class="n">List</span><span class="p">,</span> <span class="n">Optional</span><span class="p">,</span> <span class="n">Tuple</span><span class="p">,</span> <span class="n">Union</span>


<span class="k">def</span> <span class="nf">get_brightness</span><span class="p">(</span>
    <span class="n">display</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">method</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">verbose_error</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="nb">int</span><span class="p">]:</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Returns the current display brightness</span>

<span class="sd">    Args:</span>
<span class="sd">        display (str or int): the specific display to query</span>
<span class="sd">        method (str): the way in which displays will be accessed.</span>
<span class="sd">            On Windows this can be &#39;wmi&#39; or &#39;vcp&#39;.</span>
<span class="sd">            On Linux it&#39;s &#39;light&#39;, &#39;xrandr&#39;, &#39;ddcutil&#39; or &#39;xbacklight&#39;.</span>
<span class="sd">        verbose_error (bool): controls the level of detail in the error messages</span>

<span class="sd">    Returns:</span>
<span class="sd">        int: an integer from 0 to 100 if only one display is detected</span>
<span class="sd">        list: if there a multiple displays connected it may return a list of integers (invalid monitors return `None`)</span>

<span class="sd">    Example:</span>
<span class="sd">        ```python</span>
<span class="sd">        import screen_brightness_control as sbc</span>

<span class="sd">        # get the current screen brightness (for all detected displays)</span>
<span class="sd">        current_brightness = sbc.get_brightness()</span>

<span class="sd">        # get the brightness of the primary display</span>
<span class="sd">        primary_brightness = sbc.get_brightness(display=0)</span>

<span class="sd">        # get the brightness of the secondary display (if connected)</span>
<span class="sd">        secondary_brightness = sbc.get_brightness(display=1)</span>
<span class="sd">        ```</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">return</span> <span class="n">__brightness</span><span class="p">(</span><span class="n">display</span><span class="o">=</span><span class="n">display</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="n">method</span><span class="p">,</span> <span class="n">meta_method</span><span class="o">=</span><span class="s1">&#39;get&#39;</span><span class="p">,</span> <span class="n">verbose_error</span><span class="o">=</span><span class="n">verbose_error</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">set_brightness</span><span class="p">(</span>
    <span class="n">value</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span>
    <span class="n">display</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">method</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">force</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">verbose_error</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">no_return</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="nb">int</span><span class="p">]:</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Sets the screen brightness</span>

<span class="sd">    Args:</span>
<span class="sd">        value (int or float or str): a value 0 to 100. This is a percentage or a string as &#39;+5&#39; or &#39;-5&#39;</span>
<span class="sd">        display (int or str): the specific display to adjust</span>
<span class="sd">        method (str): the way in which displays will be accessed.</span>
<span class="sd">            On Windows this can be &#39;wmi&#39; or &#39;vcp&#39;.</span>
<span class="sd">            On Linux it&#39;s &#39;light&#39;, &#39;xrandr&#39;, &#39;ddcutil&#39; or &#39;xbacklight&#39;.</span>
<span class="sd">        force (bool): [*Linux Only*] if False the brightness will never be set lower than 1.</span>
<span class="sd">            This is because on most displays a brightness of 0 will turn off the backlight.</span>
<span class="sd">            If True, this check is bypassed</span>
<span class="sd">        verbose_error (bool): boolean value controls the amount of detail error messages will contain</span>
<span class="sd">        no_return (bool): if False, this function returns new brightness (by calling `get_brightness`).</span>
<span class="sd">            If True, this function returns None (default behaviour).</span>

<span class="sd">    Returns:</span>
<span class="sd">        None: if the `no_return` kwarg is `True`</span>
<span class="sd">        list: list of ints (0 to 100) only if the `no_return` kwarg is `False`</span>
<span class="sd">        int: if only one display is affected and the `no_return` kwarg is `False`</span>

<span class="sd">    Example:</span>
<span class="sd">        ```python</span>
<span class="sd">        import screen_brightness_control as sbc</span>

<span class="sd">        # set brightness to 50%</span>
<span class="sd">        sbc.set_brightness(50)</span>

<span class="sd">        # set brightness to 0%</span>
<span class="sd">        sbc.set_brightness(0, force=True)</span>

<span class="sd">        # increase brightness by 25%</span>
<span class="sd">        sbc.set_brightness(&#39;+25&#39;)</span>

<span class="sd">        # decrease brightness by 30%</span>
<span class="sd">        sbc.set_brightness(&#39;-30&#39;)</span>

<span class="sd">        # set the brightness of display 0 to 50%</span>
<span class="sd">        sbc.set_brightness(50, display=0)</span>
<span class="sd">        ```</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="s1">&#39;+&#39;</span> <span class="ow">in</span> <span class="n">value</span> <span class="ow">or</span> <span class="s1">&#39;-&#39;</span> <span class="ow">in</span> <span class="n">value</span><span class="p">):</span>
        <span class="n">value</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">value</span><span class="p">))</span>
        <span class="n">monitors</span> <span class="o">=</span> <span class="n">filter_monitors</span><span class="p">(</span><span class="n">display</span><span class="o">=</span><span class="n">display</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="n">method</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">monitors</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">output</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">monitor</span> <span class="ow">in</span> <span class="n">monitors</span><span class="p">:</span>
                <span class="n">identifier</span> <span class="o">=</span> <span class="n">Monitor</span><span class="o">.</span><span class="n">get_identifier</span><span class="p">(</span><span class="n">monitor</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>
                <span class="n">output</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                    <span class="n">set_brightness</span><span class="p">(</span>
                        <span class="n">get_brightness</span><span class="p">(</span><span class="n">display</span><span class="o">=</span><span class="n">identifier</span><span class="p">)</span> <span class="o">+</span> <span class="n">value</span><span class="p">,</span>
                        <span class="n">display</span><span class="o">=</span><span class="n">identifier</span><span class="p">,</span>
                        <span class="n">force</span><span class="o">=</span><span class="n">force</span><span class="p">,</span>
                        <span class="n">verbose_error</span><span class="o">=</span><span class="n">verbose_error</span><span class="p">,</span>
                        <span class="n">no_return</span><span class="o">=</span><span class="n">no_return</span>
                    <span class="p">)</span>
                <span class="p">)</span>
            <span class="n">output</span> <span class="o">=</span> <span class="n">flatten_list</span><span class="p">(</span><span class="n">output</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">output</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">output</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span> <span class="k">else</span> <span class="n">output</span>

        <span class="n">value</span> <span class="o">+=</span> <span class="n">get_brightness</span><span class="p">(</span><span class="n">display</span><span class="o">=</span><span class="n">Monitor</span><span class="o">.</span><span class="n">get_identifier</span><span class="p">(</span><span class="n">monitors</span><span class="p">[</span><span class="mi">0</span><span class="p">])[</span><span class="mi">1</span><span class="p">])</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">value</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">value</span><span class="p">)))</span>

    <span class="c1"># make sure value is within bounds</span>
    <span class="n">value</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="nb">min</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="n">value</span><span class="p">),</span> <span class="mi">0</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">platform</span><span class="o">.</span><span class="n">system</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;Linux&#39;</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">force</span><span class="p">:</span>
        <span class="n">value</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">__brightness</span><span class="p">(</span>
        <span class="n">value</span><span class="p">,</span> <span class="n">display</span><span class="o">=</span><span class="n">display</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="n">method</span><span class="p">,</span>
        <span class="n">meta_method</span><span class="o">=</span><span class="s1">&#39;set&#39;</span><span class="p">,</span> <span class="n">no_return</span><span class="o">=</span><span class="n">no_return</span><span class="p">,</span>
        <span class="n">verbose_error</span><span class="o">=</span><span class="n">verbose_error</span>
    <span class="p">)</span>


<span class="k">def</span> <span class="nf">fade_brightness</span><span class="p">(</span>
    <span class="n">finish</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span>
    <span class="n">start</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">interval</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.01</span><span class="p">,</span>
    <span class="n">increment</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">blocking</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">],</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="nb">int</span><span class="p">]:</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    A function to somewhat gently fade the screen brightness from `start` to `finish`</span>

<span class="sd">    Args:</span>
<span class="sd">        finish (int or str): the brightness level to end up on</span>
<span class="sd">        start (int or str): where the brightness should fade from.</span>
<span class="sd">            If not specified the function starts from the current screen brightness</span>
<span class="sd">        interval (float or int): the time delay between each step in brightness</span>
<span class="sd">        increment (int): the amount to change the brightness by per step</span>
<span class="sd">        blocking (bool): whether this should occur in the main thread (`True`) or a new daemonic thread (`False`)</span>
<span class="sd">        kwargs (dict): passed directly to `set_brightness`.</span>
<span class="sd">            Any compatible kwargs are passed to `filter_monitors` as well. (eg: display, method...)</span>

<span class="sd">    Returns:</span>
<span class="sd">        list: list of `threading.Thread` objects if `blocking == False`,</span>
<span class="sd">            otherwise it returns the result of `get_brightness()`</span>

<span class="sd">    Example:</span>
<span class="sd">        ```python</span>
<span class="sd">        import screen_brightness_control as sbc</span>

<span class="sd">        # fade brightness from the current brightness to 50%</span>
<span class="sd">        sbc.fade_brightness(50)</span>

<span class="sd">        # fade the brightness from 25% to 75%</span>
<span class="sd">        sbc.fade_brightness(75, start=25)</span>

<span class="sd">        # fade the brightness from the current value to 100% in steps of 10%</span>
<span class="sd">        sbc.fade_brightness(100, increment=10)</span>

<span class="sd">        # fade the brightness from 100% to 90% with time intervals of 0.1 seconds</span>
<span class="sd">        sbc.fade_brightness(90, start=100, interval=0.1)</span>

<span class="sd">        # fade the brightness to 100% in a new thread</span>
<span class="sd">        sbc.fade_brightness(100, blocking=False)</span>
<span class="sd">        ```</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">def</span> <span class="nf">fade</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">finish</span><span class="p">,</span> <span class="n">increment</span><span class="p">,</span> <span class="n">monitor</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">min</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">finish</span><span class="p">),</span> <span class="nb">max</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">finish</span><span class="p">),</span> <span class="n">increment</span><span class="p">):</span>
            <span class="n">val</span> <span class="o">=</span> <span class="n">i</span>
            <span class="k">if</span> <span class="n">start</span> <span class="o">&gt;</span> <span class="n">finish</span><span class="p">:</span>
                <span class="n">val</span> <span class="o">=</span> <span class="n">start</span> <span class="o">-</span> <span class="p">(</span><span class="n">val</span> <span class="o">-</span> <span class="n">finish</span><span class="p">)</span>
            <span class="n">monitor</span><span class="o">.</span><span class="n">set_brightness</span><span class="p">(</span><span class="n">val</span><span class="p">,</span> <span class="n">no_return</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">interval</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">monitor</span><span class="o">.</span><span class="n">get_brightness</span><span class="p">()</span> <span class="o">!=</span> <span class="n">finish</span><span class="p">:</span>
            <span class="n">monitor</span><span class="o">.</span><span class="n">set_brightness</span><span class="p">(</span><span class="n">finish</span><span class="p">,</span> <span class="n">no_return</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">err_msg</span><span class="p">(</span><span class="n">e</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="se">\n\t</span><span class="s1">filter_monitors -&gt; </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s1">&#39;</span>

    <span class="n">threads</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">if</span> <span class="s1">&#39;verbose_error&#39;</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">:</span>
        <span class="k">del</span> <span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;verbose_error&#39;</span><span class="p">]</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="c1"># make sure only compatible kwargs are passed to filter_monitors</span>
        <span class="n">available_monitors</span> <span class="o">=</span> <span class="n">filter_monitors</span><span class="p">(</span>
            <span class="o">**</span><span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="n">v</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">k</span> <span class="ow">in</span> <span class="p">(</span>
                <span class="s1">&#39;display&#39;</span><span class="p">,</span> <span class="s1">&#39;haystack&#39;</span><span class="p">,</span> <span class="s1">&#39;method&#39;</span><span class="p">,</span> <span class="s1">&#39;include&#39;</span>
            <span class="p">)}</span>
        <span class="p">)</span>
    <span class="k">except</span> <span class="p">(</span><span class="ne">IndexError</span><span class="p">,</span> <span class="ne">LookupError</span><span class="p">)</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">e</span><span class="p">,</span> <span class="ne">LookupError</span><span class="p">)</span> <span class="ow">and</span> <span class="n">platform</span><span class="o">.</span><span class="n">system</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;Linux&#39;</span> <span class="ow">and</span> <span class="n">method</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="c1"># if a user ONLY has XBacklight installed and no method was specified</span>
            <span class="c1"># then filter_monitors will raise a LookupError</span>
            <span class="n">available_monitors</span> <span class="o">=</span> <span class="p">[</span><span class="n">method</span><span class="o">.</span><span class="n">XBacklight</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">ScreenBrightnessError</span><span class="p">(</span><span class="n">err_msg</span><span class="p">(</span><span class="n">e</span><span class="p">))</span> <span class="kn">from</span> <span class="nn">e</span>
    <span class="k">except</span> <span class="ne">ValueError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">platform</span><span class="o">.</span><span class="n">system</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;Linux&#39;</span> <span class="ow">and</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;method&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;xbacklight&#39;</span><span class="p">):</span>
            <span class="n">available_monitors</span> <span class="o">=</span> <span class="p">[</span><span class="n">method</span><span class="o">.</span><span class="n">XBacklight</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">ScreenBrightnessError</span><span class="p">(</span><span class="n">err_msg</span><span class="p">(</span><span class="n">e</span><span class="p">))</span> <span class="kn">from</span> <span class="nn">e</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">ScreenBrightnessError</span><span class="p">(</span><span class="n">err_msg</span><span class="p">(</span><span class="n">e</span><span class="p">))</span> <span class="kn">from</span> <span class="nn">e</span>

    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">available_monitors</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="p">(</span>
                <span class="n">platform</span><span class="o">.</span><span class="n">system</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;Linux&#39;</span>
                <span class="ow">and</span> <span class="nb">str</span><span class="p">(</span><span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;method&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;xbacklight&#39;</span>
            <span class="p">):</span>
                <span class="n">monitor</span> <span class="o">=</span> <span class="n">i</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">monitor</span> <span class="o">=</span> <span class="n">Monitor</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>

            <span class="c1"># same effect as monitor.is_active()</span>
            <span class="n">current</span> <span class="o">=</span> <span class="n">monitor</span><span class="o">.</span><span class="n">get_brightness</span><span class="p">()</span>
            <span class="n">st</span><span class="p">,</span> <span class="n">fi</span> <span class="o">=</span> <span class="n">start</span><span class="p">,</span> <span class="n">finish</span>
            <span class="c1"># convert strings like &#39;+5&#39; to an actual brightness value</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">fi</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                <span class="k">if</span> <span class="s2">&quot;+&quot;</span> <span class="ow">in</span> <span class="n">fi</span> <span class="ow">or</span> <span class="s2">&quot;-&quot;</span> <span class="ow">in</span> <span class="n">fi</span><span class="p">:</span>
                    <span class="n">fi</span> <span class="o">=</span> <span class="n">current</span> <span class="o">+</span> <span class="nb">int</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">fi</span><span class="p">))</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">st</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                <span class="k">if</span> <span class="s2">&quot;+&quot;</span> <span class="ow">in</span> <span class="n">st</span> <span class="ow">or</span> <span class="s2">&quot;-&quot;</span> <span class="ow">in</span> <span class="n">st</span><span class="p">:</span>
                    <span class="n">st</span> <span class="o">=</span> <span class="n">current</span> <span class="o">+</span> <span class="nb">int</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">st</span><span class="p">))</span>

            <span class="n">st</span> <span class="o">=</span> <span class="n">current</span> <span class="k">if</span> <span class="n">st</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">st</span>
            <span class="c1"># make sure both values are within the correct range</span>
            <span class="n">fi</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">fi</span><span class="p">)),</span> <span class="mi">0</span><span class="p">),</span> <span class="mi">100</span><span class="p">)</span>
            <span class="n">st</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">st</span><span class="p">)),</span> <span class="mi">0</span><span class="p">),</span> <span class="mi">100</span><span class="p">)</span>

            <span class="n">t1</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">fade</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="p">(</span><span class="n">st</span><span class="p">,</span> <span class="n">fi</span><span class="p">,</span> <span class="n">increment</span><span class="p">,</span> <span class="n">monitor</span><span class="p">))</span>
            <span class="n">t1</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
            <span class="n">threads</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">t1</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
            <span class="k">pass</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">blocking</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">threads</span>

    <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">threads</span><span class="p">:</span>
        <span class="n">t</span><span class="o">.</span><span class="n">join</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">get_brightness</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">list_monitors_info</span><span class="p">(</span><span class="n">method</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">allow_duplicates</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">dict</span><span class="p">]:</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    list detailed information about all monitors that are controllable by this library</span>

<span class="sd">    Args:</span>
<span class="sd">        method (str): the method to use to list the available monitors.</span>
<span class="sd">            On Windows this can be `&#39;wmi&#39;` or `&#39;vcp&#39;`.</span>
<span class="sd">            On Linux this can be `&#39;light&#39;`, `&#39;xrandr&#39;`, `&#39;ddcutil&#39;` or `&#39;sysfiles&#39;`.</span>
<span class="sd">        allow_duplicates (bool): whether to filter out duplicate displays or not</span>

<span class="sd">    Returns:</span>
<span class="sd">        list: list of dictionaries</span>

<span class="sd">    Example:</span>
<span class="sd">        ```python</span>
<span class="sd">        import screen_brightness_control as sbc</span>
<span class="sd">        monitors = sbc.list_monitors_info()</span>
<span class="sd">        for monitor in monitors:</span>
<span class="sd">            print(&#39;=======================&#39;)</span>
<span class="sd">            # the manufacturer name plus the model</span>
<span class="sd">            print(&#39;Name:&#39;, monitor[&#39;name&#39;])</span>
<span class="sd">            # the general model of the display</span>
<span class="sd">            print(&#39;Model:&#39;, monitor[&#39;model&#39;])</span>
<span class="sd">            # the serial of the display</span>
<span class="sd">            print(&#39;Serial:&#39;, monitor[&#39;serial&#39;])</span>
<span class="sd">            # the name of the brand of the monitor</span>
<span class="sd">            print(&#39;Manufacturer:&#39;, monitor[&#39;manufacturer&#39;])</span>
<span class="sd">            # the 3 letter code corresponding to the brand name, EG: BNQ -&gt; BenQ</span>
<span class="sd">            print(&#39;Manufacturer ID:&#39;, monitor[&#39;manufacturer_id&#39;])</span>
<span class="sd">            # the index of that display FOR THE SPECIFIC METHOD THE DISPLAY USES</span>
<span class="sd">            print(&#39;Index:&#39;, monitor[&#39;index&#39;])</span>
<span class="sd">            # the method this monitor can be addressed by</span>
<span class="sd">            print(&#39;Method:&#39;, monitor[&#39;method&#39;])</span>
<span class="sd">            # the EDID string associated with that monitor</span>
<span class="sd">            print(&#39;EDID:&#39;, monitor[&#39;edid&#39;])</span>
<span class="sd">        ```</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">info</span> <span class="o">=</span> <span class="n">__cache__</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;monitors_info&#39;</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="n">method</span><span class="p">,</span> <span class="n">allow_duplicates</span><span class="o">=</span><span class="n">allow_duplicates</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">info</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">info</span> <span class="o">=</span> <span class="nb">globals</span><span class="p">()[</span><span class="s1">&#39;method&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">list_monitors_info</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="n">method</span><span class="p">,</span> <span class="n">allow_duplicates</span><span class="o">=</span><span class="n">allow_duplicates</span><span class="p">)</span>
        <span class="n">__cache__</span><span class="o">.</span><span class="n">store</span><span class="p">(</span><span class="s1">&#39;monitors_info&#39;</span><span class="p">,</span> <span class="n">info</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="n">method</span><span class="p">,</span> <span class="n">allow_duplicates</span><span class="o">=</span><span class="n">allow_duplicates</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">info</span>


<span class="k">def</span> <span class="nf">list_monitors</span><span class="p">(</span><span class="n">method</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    List the names of all detected monitors</span>

<span class="sd">    Args:</span>
<span class="sd">        method (str): the method to use to list the available monitors.</span>
<span class="sd">            On Windows this can be `&#39;wmi&#39;` or `&#39;vcp&#39;`.</span>
<span class="sd">            On Linux this can be `&#39;light&#39;`, `&#39;xrandr&#39;`, `&#39;ddcutil&#39;` or `&#39;sysfiles&#39;`.</span>

<span class="sd">    Returns:</span>
<span class="sd">        list: list of strings</span>

<span class="sd">    Example:</span>
<span class="sd">        ```python</span>
<span class="sd">        import screen_brightness_control as sbc</span>
<span class="sd">        monitor_names = sbc.list_monitors()</span>
<span class="sd">        # eg: [&#39;BenQ GL2450H&#39;, &#39;Dell U2211H&#39;]</span>
<span class="sd">        ```</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">i</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">list_monitors_info</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="n">method</span><span class="p">)]</span>


<span class="k">class</span> <span class="nc">EDID</span><span class="p">:</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Simple structure and method to extract monitor serial and name from an EDID string.</span>

<span class="sd">    The EDID parsing was created with inspiration from the [pyedid library](https://github.com/jojonas/pyedid)</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">EDID_FORMAT</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="p">(</span>
        <span class="s2">&quot;&gt;&quot;</span>     <span class="c1"># big-endian</span>
        <span class="s2">&quot;8s&quot;</span>    <span class="c1"># constant header (8 bytes)</span>
        <span class="s2">&quot;H&quot;</span>     <span class="c1"># manufacturer id (2 bytes)</span>
        <span class="s2">&quot;H&quot;</span>     <span class="c1"># product id (2 bytes)</span>
        <span class="s2">&quot;I&quot;</span>     <span class="c1"># serial number (4 bytes)</span>
        <span class="s2">&quot;B&quot;</span>     <span class="c1"># manufactoring week (1 byte)</span>
        <span class="s2">&quot;B&quot;</span>     <span class="c1"># manufactoring year (1 byte)</span>
        <span class="s2">&quot;B&quot;</span>     <span class="c1"># edid version (1 byte)</span>
        <span class="s2">&quot;B&quot;</span>     <span class="c1"># edid revision (1 byte)</span>
        <span class="s2">&quot;B&quot;</span>     <span class="c1"># video input type (1 byte)</span>
        <span class="s2">&quot;B&quot;</span>     <span class="c1"># horizontal size in cm (1 byte)</span>
        <span class="s2">&quot;B&quot;</span>     <span class="c1"># vertical size in cm (1 byte)</span>
        <span class="s2">&quot;B&quot;</span>     <span class="c1"># display gamma (1 byte)</span>
        <span class="s2">&quot;B&quot;</span>     <span class="c1"># supported features (1 byte)</span>
        <span class="s2">&quot;10s&quot;</span>   <span class="c1"># color characteristics (10 bytes)</span>
        <span class="s2">&quot;H&quot;</span>     <span class="c1"># supported timings (2 bytes)</span>
        <span class="s2">&quot;B&quot;</span>     <span class="c1"># reserved timing (1 byte)</span>
        <span class="s2">&quot;16s&quot;</span>   <span class="c1"># EDID supported timings (16 bytes)</span>
        <span class="s2">&quot;18s&quot;</span>   <span class="c1"># detailed timing block 1 (18 bytes)</span>
        <span class="s2">&quot;18s&quot;</span>   <span class="c1"># detailed timing block 2 (18 bytes)</span>
        <span class="s2">&quot;18s&quot;</span>   <span class="c1"># detailed timing block 3 (18 bytes)</span>
        <span class="s2">&quot;18s&quot;</span>   <span class="c1"># detailed timing block 4 (18 bytes)</span>
        <span class="s2">&quot;B&quot;</span>     <span class="c1"># extension flag (1 byte)</span>
        <span class="s2">&quot;B&quot;</span>     <span class="c1"># checksum (1 byte)</span>
    <span class="p">)</span>
    <span class="sd">&#39;&#39;&#39;The byte structure for EDID strings&#39;&#39;&#39;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">parse_edid</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">edid</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">],</span> <span class="nb">str</span><span class="p">]:</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Takes an EDID string (as string hex, formatted as: &#39;00ffffff00...&#39;) and</span>
<span class="sd">        attempts to extract the monitor&#39;s name and serial number from it</span>

<span class="sd">        Args:</span>
<span class="sd">            edid (str): the edid string</span>

<span class="sd">        Returns:</span>
<span class="sd">            tuple: First item can be None or str. Second item is always str.</span>
<span class="sd">                This represents the name and serial respectively.</span>
<span class="sd">                If the name (first item) is None then this function likely</span>
<span class="sd">                failed to extract the serial correctly.</span>

<span class="sd">        Example:</span>
<span class="sd">            ```python</span>
<span class="sd">            import screen_brightness_control as sbc</span>

<span class="sd">            edid = sbc.list_monitors_info()[0][&#39;edid&#39;]</span>
<span class="sd">            name, serial = sbc.EDID.parse_edid(edid)</span>
<span class="sd">            if name is not None:</span>
<span class="sd">                print(&#39;Success!&#39;)</span>
<span class="sd">                print(&#39;Name:&#39;, name)</span>
<span class="sd">                print(&#39;Serial:&#39;, serial)</span>
<span class="sd">            else:</span>
<span class="sd">                print(&#39;Unable to extract the data&#39;)</span>
<span class="sd">            ```</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">def</span> <span class="nf">filter_hex</span><span class="p">(</span><span class="n">st</span><span class="p">):</span>
            <span class="n">st</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">st</span><span class="p">)</span>
            <span class="k">while</span> <span class="s1">&#39;</span><span class="se">\\</span><span class="s1">x&#39;</span> <span class="ow">in</span> <span class="n">st</span><span class="p">:</span>
                <span class="n">i</span> <span class="o">=</span> <span class="n">st</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\\</span><span class="s1">x&#39;</span><span class="p">)</span>
                <span class="n">st</span> <span class="o">=</span> <span class="n">st</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">st</span><span class="p">[</span><span class="n">i</span><span class="p">:</span><span class="n">i</span> <span class="o">+</span> <span class="mi">4</span><span class="p">],</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">st</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\\</span><span class="s1">n&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)[</span><span class="mi">2</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

        <span class="k">if</span> <span class="s1">&#39; &#39;</span> <span class="ow">in</span> <span class="n">edid</span><span class="p">:</span>
            <span class="n">edid</span> <span class="o">=</span> <span class="n">edid</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
        <span class="n">edid</span> <span class="o">=</span> <span class="nb">bytes</span><span class="o">.</span><span class="n">fromhex</span><span class="p">(</span><span class="n">edid</span><span class="p">)</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">struct</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="n">EDID_FORMAT</span><span class="p">,</span> <span class="n">edid</span><span class="p">)</span>
        <span class="n">serial</span> <span class="o">=</span> <span class="n">filter_hex</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="mi">18</span><span class="p">])</span>
        <span class="c1"># other info can be anywhere in this range, I don&#39;t know why</span>
        <span class="n">name</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">data</span><span class="p">[</span><span class="mi">19</span><span class="p">:</span><span class="mi">22</span><span class="p">]:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">st</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">)[</span><span class="mi">2</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">rstrip</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">)</span><span class="o">.</span><span class="n">rstrip</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\t</span><span class="s1">&#39;</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">st</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">)</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">st</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">:</span>
                    <span class="n">name</span> <span class="o">=</span> <span class="n">filter_hex</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">)</span>
                    <span class="n">name</span> <span class="o">=</span> <span class="n">name</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">capitalize</span><span class="p">()</span> <span class="o">+</span> <span class="s1">&#39; &#39;</span> <span class="o">+</span> <span class="n">name</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
            <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
                <span class="k">pass</span>
        <span class="k">return</span> <span class="n">name</span><span class="p">,</span> <span class="n">serial</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">)</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">hexdump</span><span class="p">(</span><span class="n">file</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Returns a hexadecimal string of binary data from a file</span>

<span class="sd">        Args:</span>
<span class="sd">            file (str): the file to read</span>

<span class="sd">        Returns:</span>
<span class="sd">            str: one long hex string</span>

<span class="sd">        Example:</span>
<span class="sd">            ```python</span>
<span class="sd">            from screen_brightness_control import EDID</span>

<span class="sd">            print(EDID.hexdump(&#39;/sys/class/backlight/intel_backlight/device/edid&#39;))</span>
<span class="sd">            # &#39;00ffffffffffff00...&#39;</span>
<span class="sd">            ```</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">hex_str</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="s1">&#39;rb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">char</span> <span class="ow">in</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">():</span>
                <span class="k">if</span> <span class="n">char</span> <span class="o">&lt;</span> <span class="mi">16</span><span class="p">:</span>
                    <span class="c1"># hex values less than 16 get represented as single char</span>
                    <span class="c1"># eg: 15 -&gt; &#39;f&#39; instead of &#39;0f&#39;</span>
                    <span class="n">hex_str</span> <span class="o">+=</span> <span class="s1">&#39;0&#39;</span>
                <span class="n">hex_str</span> <span class="o">+=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">char</span><span class="si">:</span><span class="s1">x</span><span class="si">}</span><span class="s1">&#39;</span>  <span class="c1"># represent binary as hex string</span>

        <span class="k">return</span> <span class="n">hex_str</span>


<span class="n">MONITOR_MANUFACTURER_CODES</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;AAC&quot;</span><span class="p">:</span> <span class="s2">&quot;AcerView&quot;</span><span class="p">,</span>
    <span class="s2">&quot;ACR&quot;</span><span class="p">:</span> <span class="s2">&quot;Acer&quot;</span><span class="p">,</span>
    <span class="s2">&quot;AOC&quot;</span><span class="p">:</span> <span class="s2">&quot;AOC&quot;</span><span class="p">,</span>
    <span class="s2">&quot;AIC&quot;</span><span class="p">:</span> <span class="s2">&quot;AG Neovo&quot;</span><span class="p">,</span>
    <span class="s2">&quot;APP&quot;</span><span class="p">:</span> <span class="s2">&quot;Apple Computer&quot;</span><span class="p">,</span>
    <span class="s2">&quot;AST&quot;</span><span class="p">:</span> <span class="s2">&quot;AST Research&quot;</span><span class="p">,</span>
    <span class="s2">&quot;AUO&quot;</span><span class="p">:</span> <span class="s2">&quot;Asus&quot;</span><span class="p">,</span>
    <span class="s2">&quot;BNQ&quot;</span><span class="p">:</span> <span class="s2">&quot;BenQ&quot;</span><span class="p">,</span>
    <span class="s2">&quot;CMO&quot;</span><span class="p">:</span> <span class="s2">&quot;Acer&quot;</span><span class="p">,</span>
    <span class="s2">&quot;CPL&quot;</span><span class="p">:</span> <span class="s2">&quot;Compal&quot;</span><span class="p">,</span>
    <span class="s2">&quot;CPQ&quot;</span><span class="p">:</span> <span class="s2">&quot;Compaq&quot;</span><span class="p">,</span>
    <span class="s2">&quot;CPT&quot;</span><span class="p">:</span> <span class="s2">&quot;Chunghwa Pciture Tubes, Ltd.&quot;</span><span class="p">,</span>
    <span class="s2">&quot;CTX&quot;</span><span class="p">:</span> <span class="s2">&quot;CTX&quot;</span><span class="p">,</span>
    <span class="s2">&quot;DEC&quot;</span><span class="p">:</span> <span class="s2">&quot;DEC&quot;</span><span class="p">,</span>
    <span class="s2">&quot;DEL&quot;</span><span class="p">:</span> <span class="s2">&quot;Dell&quot;</span><span class="p">,</span>
    <span class="s2">&quot;DPC&quot;</span><span class="p">:</span> <span class="s2">&quot;Delta&quot;</span><span class="p">,</span>
    <span class="s2">&quot;DWE&quot;</span><span class="p">:</span> <span class="s2">&quot;Daewoo&quot;</span><span class="p">,</span>
    <span class="s2">&quot;EIZ&quot;</span><span class="p">:</span> <span class="s2">&quot;EIZO&quot;</span><span class="p">,</span>
    <span class="s2">&quot;ELS&quot;</span><span class="p">:</span> <span class="s2">&quot;ELSA&quot;</span><span class="p">,</span>
    <span class="s2">&quot;ENC&quot;</span><span class="p">:</span> <span class="s2">&quot;EIZO&quot;</span><span class="p">,</span>
    <span class="s2">&quot;EPI&quot;</span><span class="p">:</span> <span class="s2">&quot;Envision&quot;</span><span class="p">,</span>
    <span class="s2">&quot;FCM&quot;</span><span class="p">:</span> <span class="s2">&quot;Funai&quot;</span><span class="p">,</span>
    <span class="s2">&quot;FUJ&quot;</span><span class="p">:</span> <span class="s2">&quot;Fujitsu&quot;</span><span class="p">,</span>
    <span class="s2">&quot;FUS&quot;</span><span class="p">:</span> <span class="s2">&quot;Fujitsu-Siemens&quot;</span><span class="p">,</span>
    <span class="s2">&quot;GSM&quot;</span><span class="p">:</span> <span class="s2">&quot;LG Electronics&quot;</span><span class="p">,</span>
    <span class="s2">&quot;GWY&quot;</span><span class="p">:</span> <span class="s2">&quot;Gateway 2000&quot;</span><span class="p">,</span>
    <span class="s2">&quot;HEI&quot;</span><span class="p">:</span> <span class="s2">&quot;Hyundai&quot;</span><span class="p">,</span>
    <span class="s2">&quot;HIT&quot;</span><span class="p">:</span> <span class="s2">&quot;Hyundai&quot;</span><span class="p">,</span>
    <span class="s2">&quot;HSL&quot;</span><span class="p">:</span> <span class="s2">&quot;Hansol&quot;</span><span class="p">,</span>
    <span class="s2">&quot;HTC&quot;</span><span class="p">:</span> <span class="s2">&quot;Hitachi/Nissei&quot;</span><span class="p">,</span>
    <span class="s2">&quot;HWP&quot;</span><span class="p">:</span> <span class="s2">&quot;HP&quot;</span><span class="p">,</span>
    <span class="s2">&quot;IBM&quot;</span><span class="p">:</span> <span class="s2">&quot;IBM&quot;</span><span class="p">,</span>
    <span class="s2">&quot;ICL&quot;</span><span class="p">:</span> <span class="s2">&quot;Fujitsu ICL&quot;</span><span class="p">,</span>
    <span class="s2">&quot;IVM&quot;</span><span class="p">:</span> <span class="s2">&quot;Iiyama&quot;</span><span class="p">,</span>
    <span class="s2">&quot;KDS&quot;</span><span class="p">:</span> <span class="s2">&quot;Korea Data Systems&quot;</span><span class="p">,</span>
    <span class="s2">&quot;LEN&quot;</span><span class="p">:</span> <span class="s2">&quot;Lenovo&quot;</span><span class="p">,</span>
    <span class="s2">&quot;LGD&quot;</span><span class="p">:</span> <span class="s2">&quot;Asus&quot;</span><span class="p">,</span>
    <span class="s2">&quot;LPL&quot;</span><span class="p">:</span> <span class="s2">&quot;Fujitsu&quot;</span><span class="p">,</span>
    <span class="s2">&quot;MAX&quot;</span><span class="p">:</span> <span class="s2">&quot;Belinea&quot;</span><span class="p">,</span>
    <span class="s2">&quot;MEI&quot;</span><span class="p">:</span> <span class="s2">&quot;Panasonic&quot;</span><span class="p">,</span>
    <span class="s2">&quot;MEL&quot;</span><span class="p">:</span> <span class="s2">&quot;Mitsubishi Electronics&quot;</span><span class="p">,</span>
    <span class="s2">&quot;MS_&quot;</span><span class="p">:</span> <span class="s2">&quot;Panasonic&quot;</span><span class="p">,</span>
    <span class="s2">&quot;NAN&quot;</span><span class="p">:</span> <span class="s2">&quot;Nanao&quot;</span><span class="p">,</span>
    <span class="s2">&quot;NEC&quot;</span><span class="p">:</span> <span class="s2">&quot;NEC&quot;</span><span class="p">,</span>
    <span class="s2">&quot;NOK&quot;</span><span class="p">:</span> <span class="s2">&quot;Nokia Data&quot;</span><span class="p">,</span>
    <span class="s2">&quot;NVD&quot;</span><span class="p">:</span> <span class="s2">&quot;Fujitsu&quot;</span><span class="p">,</span>
    <span class="s2">&quot;OPT&quot;</span><span class="p">:</span> <span class="s2">&quot;Optoma&quot;</span><span class="p">,</span>
    <span class="s2">&quot;PHL&quot;</span><span class="p">:</span> <span class="s2">&quot;Philips&quot;</span><span class="p">,</span>
    <span class="s2">&quot;REL&quot;</span><span class="p">:</span> <span class="s2">&quot;Relisys&quot;</span><span class="p">,</span>
    <span class="s2">&quot;SAN&quot;</span><span class="p">:</span> <span class="s2">&quot;Samsung&quot;</span><span class="p">,</span>
    <span class="s2">&quot;SAM&quot;</span><span class="p">:</span> <span class="s2">&quot;Samsung&quot;</span><span class="p">,</span>
    <span class="s2">&quot;SBI&quot;</span><span class="p">:</span> <span class="s2">&quot;Smarttech&quot;</span><span class="p">,</span>
    <span class="s2">&quot;SGI&quot;</span><span class="p">:</span> <span class="s2">&quot;SGI&quot;</span><span class="p">,</span>
    <span class="s2">&quot;SNY&quot;</span><span class="p">:</span> <span class="s2">&quot;Sony&quot;</span><span class="p">,</span>
    <span class="s2">&quot;SRC&quot;</span><span class="p">:</span> <span class="s2">&quot;Shamrock&quot;</span><span class="p">,</span>
    <span class="s2">&quot;SUN&quot;</span><span class="p">:</span> <span class="s2">&quot;Sun Microsystems&quot;</span><span class="p">,</span>
    <span class="s2">&quot;SEC&quot;</span><span class="p">:</span> <span class="s2">&quot;Hewlett-Packard&quot;</span><span class="p">,</span>
    <span class="s2">&quot;TAT&quot;</span><span class="p">:</span> <span class="s2">&quot;Tatung&quot;</span><span class="p">,</span>
    <span class="s2">&quot;TOS&quot;</span><span class="p">:</span> <span class="s2">&quot;Toshiba&quot;</span><span class="p">,</span>
    <span class="s2">&quot;TSB&quot;</span><span class="p">:</span> <span class="s2">&quot;Toshiba&quot;</span><span class="p">,</span>
    <span class="s2">&quot;VSC&quot;</span><span class="p">:</span> <span class="s2">&quot;ViewSonic&quot;</span><span class="p">,</span>
    <span class="s2">&quot;ZCM&quot;</span><span class="p">:</span> <span class="s2">&quot;Zenith&quot;</span><span class="p">,</span>
    <span class="s2">&quot;UNK&quot;</span><span class="p">:</span> <span class="s2">&quot;Unknown&quot;</span><span class="p">,</span>
    <span class="s2">&quot;_YV&quot;</span><span class="p">:</span> <span class="s2">&quot;Fujitsu&quot;</span><span class="p">,</span>
<span class="p">}</span>


<span class="nd">@lru_cache</span><span class="p">(</span><span class="n">maxsize</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">_monitor_brand_lookup</span><span class="p">(</span><span class="n">search</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]:</span>
    <span class="sd">&#39;&#39;&#39;internal function to search the monitor manufacturer codes dict&#39;&#39;&#39;</span>
    <span class="n">keys</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">MONITOR_MANUFACTURER_CODES</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
    <span class="n">keys_lower</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">str</span><span class="o">.</span><span class="n">lower</span><span class="p">,</span> <span class="n">keys</span><span class="p">))</span>
    <span class="n">values</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">MONITOR_MANUFACTURER_CODES</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>
    <span class="n">search</span> <span class="o">=</span> <span class="n">search</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>

    <span class="k">if</span> <span class="n">search</span> <span class="ow">in</span> <span class="n">keys_lower</span><span class="p">:</span>
        <span class="n">index</span> <span class="o">=</span> <span class="n">keys_lower</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">search</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">values_lower</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">str</span><span class="o">.</span><span class="n">lower</span><span class="p">,</span> <span class="n">values</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">search</span> <span class="ow">in</span> <span class="n">values_lower</span><span class="p">:</span>
            <span class="n">index</span> <span class="o">=</span> <span class="n">values_lower</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">search</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>
    <span class="k">return</span> <span class="n">keys</span><span class="p">[</span><span class="n">index</span><span class="p">],</span> <span class="n">values</span><span class="p">[</span><span class="n">index</span><span class="p">]</span>


<span class="k">class</span> <span class="nc">ScreenBrightnessError</span><span class="p">(</span><span class="ne">Exception</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Generic error class designed to make catching errors under one umbrella easy.</span>
<span class="sd">    Raised when the brightness cannot be set/retrieved.</span>

<span class="sd">    Example:</span>
<span class="sd">        ```python</span>
<span class="sd">        import screen_brightness_control as sbc</span>
<span class="sd">        try:</span>
<span class="sd">            sbc.set_brightness(50)</span>
<span class="sd">        except sbc.ScreenBrightnessError as error:</span>
<span class="sd">            print(error)</span>
<span class="sd">        ```</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="o">=</span><span class="s2">&quot;Cannot set/retrieve brightness level&quot;</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">message</span> <span class="o">=</span> <span class="n">message</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">message</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">Monitor</span><span class="p">():</span>
    <span class="sd">&#39;&#39;&#39;A class to manage a single monitor and its relevant information&#39;&#39;&#39;</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">display</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="nb">dict</span><span class="p">]):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Args:</span>
<span class="sd">            display (int or str or dict): the index/name/model name/serial/edid</span>
<span class="sd">                of the display you wish to control. Is passed to `filter_monitors`</span>
<span class="sd">                to decide which display to use.</span>

<span class="sd">        Raises:</span>
<span class="sd">            LookupError: if a matching display could not be found</span>
<span class="sd">            TypeError: if the given display type is not int or str</span>

<span class="sd">        Example:</span>
<span class="sd">            ```python</span>
<span class="sd">            import screen_brightness_control as sbc</span>

<span class="sd">            # create a class for the primary monitor and then a specifically named monitor</span>
<span class="sd">            primary = sbc.Monitor(0)</span>
<span class="sd">            benq_monitor = sbc.Monitor(&#39;BenQ GL2450H&#39;)</span>

<span class="sd">            # check if the benq monitor is the primary one</span>
<span class="sd">            if primary.serial == benq_monitor.serial:</span>
<span class="sd">                print(&#39;BenQ GL2450HM is the primary display&#39;)</span>
<span class="sd">            else:</span>
<span class="sd">                print(&#39;The primary display is&#39;, primary.name)</span>

<span class="sd">            # this class can also be accessed like a dictionary</span>
<span class="sd">            print(primary[&#39;name&#39;])</span>
<span class="sd">            print(benq_monitor[&#39;name&#39;])</span>
<span class="sd">            ```</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">monitors_info</span> <span class="o">=</span> <span class="n">list_monitors_info</span><span class="p">(</span><span class="n">allow_duplicates</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">display</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">display</span> <span class="ow">in</span> <span class="n">monitors_info</span><span class="p">:</span>
                <span class="n">info</span> <span class="o">=</span> <span class="n">display</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">info</span> <span class="o">=</span> <span class="n">filter_monitors</span><span class="p">(</span>
                    <span class="n">display</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">get_identifier</span><span class="p">(</span><span class="n">display</span><span class="p">),</span>
                    <span class="n">haystack</span><span class="o">=</span><span class="n">monitors_info</span>
                <span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">info</span> <span class="o">=</span> <span class="n">filter_monitors</span><span class="p">(</span><span class="n">display</span><span class="o">=</span><span class="n">display</span><span class="p">,</span> <span class="n">haystack</span><span class="o">=</span><span class="n">monitors_info</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>

        <span class="c1"># make a copy so that we don&#39;t alter the dict in-place</span>
        <span class="n">info</span> <span class="o">=</span> <span class="n">info</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">serial</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">info</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;serial&#39;</span><span class="p">)</span>
        <span class="sd">&#39;&#39;&#39;the serial number of the display or (if serial is not available) an ID assigned by the OS&#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">info</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">)</span>
        <span class="sd">&#39;&#39;&#39;the monitors manufacturer name plus its model&#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">method</span> <span class="o">=</span> <span class="n">info</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;method&#39;</span><span class="p">)</span>
        <span class="sd">&#39;&#39;&#39;the method by which this monitor can be addressed.</span>
<span class="sd">        This will be a class from either the windows or linux sub-module&#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">manufacturer</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">info</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;manufacturer&#39;</span><span class="p">)</span>
        <span class="sd">&#39;&#39;&#39;the name of the brand of the monitor&#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">manufacturer_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">info</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;manufacturer_id&#39;</span><span class="p">)</span>
        <span class="sd">&#39;&#39;&#39;the 3 letter manufacturing code corresponding to the manufacturer name&#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">info</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;model&#39;</span><span class="p">)</span>
        <span class="sd">&#39;&#39;&#39;the general model of the display&#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">index</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">info</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;index&#39;</span><span class="p">)</span>
        <span class="sd">&#39;&#39;&#39;the index of the monitor FOR THE SPECIFIC METHOD THIS MONITOR USES.&#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">edid</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">info</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;edid&#39;</span><span class="p">)</span>
        <span class="sd">&#39;&#39;&#39;a unique string returned by the monitor that contains its DDC capabilities, serial and name&#39;&#39;&#39;</span>

        <span class="c1"># this assigns any extra info that is returned to this class</span>
        <span class="c1"># eg: the &#39;interface&#39; key in XRandr monitors on Linux</span>
        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">info</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="nb">setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_identifier</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">monitor</span><span class="p">:</span> <span class="nb">dict</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]:</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Returns the piece of information used to identify this monitor.</span>
<span class="sd">        Will iterate through the EDID, serial, name and index and return the first</span>
<span class="sd">        value that is not equal to None</span>

<span class="sd">        Args:</span>
<span class="sd">            monitor (dict): extract an identifier from this dict instead of the monitor class</span>

<span class="sd">        Returns:</span>
<span class="sd">            tuple: the name of the property returned and the value of said property.</span>
<span class="sd">                EG: `(&#39;serial&#39;, &#39;123abc...&#39;)` or `(&#39;name&#39;, &#39;BenQ GL2450H&#39;)`</span>

<span class="sd">        Example:</span>
<span class="sd">            ```python</span>
<span class="sd">            import screen_brightness_control as sbc</span>
<span class="sd">            primary = sbc.Monitor(0)</span>
<span class="sd">            print(primary.get_identifier())  # eg: (&#39;serial&#39;, &#39;123abc...&#39;)</span>

<span class="sd">            secondary = sbc.list_monitors_info()[1]</span>
<span class="sd">            print(primary.get_identifier(monitor=secondary))  # eg: (&#39;serial&#39;, &#39;456def...&#39;)</span>

<span class="sd">            # you can also use the class uninitialized</span>
<span class="sd">            print(sbc.Monitor.get_identifier(secondary))  # eg: (&#39;serial&#39;, &#39;456def...&#39;)</span>
<span class="sd">            ```</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="n">monitor</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">monitor</span> <span class="o">=</span> <span class="bp">self</span>

        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="p">(</span><span class="s1">&#39;edid&#39;</span><span class="p">,</span> <span class="s1">&#39;serial&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;index&#39;</span><span class="p">):</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">monitor</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span>

    <span class="k">def</span> <span class="nf">set_brightness</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">no_return</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="nb">int</span><span class="p">]:</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Sets the brightness for this display. See `set_brightness` for the full docs</span>

<span class="sd">        Args:</span>
<span class="sd">            value (int): the brightness value to set the display to (from 0 to 100)</span>
<span class="sd">            no_return (bool): if true, this function returns `None`</span>
<span class="sd">                Otherwise it returns the result of `Monitor.get_brightness`</span>

<span class="sd">        Returns:</span>
<span class="sd">            None: if `no_return==True`</span>
<span class="sd">            int: from 0 to 100</span>

<span class="sd">        Example:</span>
<span class="sd">            ```python</span>
<span class="sd">            import screen_brightness_control as sbc</span>

<span class="sd">            # set the brightness of the primary monitor to 50%</span>
<span class="sd">            primary = sbc.Monitor(0)</span>
<span class="sd">            primary.set_brightness(50)</span>
<span class="sd">            ```</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="c1"># refresh display info, in case another display has been unplugged or something</span>
        <span class="c1"># which would change the index of this display</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">get_info</span><span class="p">()</span>
        <span class="n">value</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">min</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="mi">100</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">method</span><span class="o">.</span><span class="n">set_brightness</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">display</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">no_return</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_brightness</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">get_brightness</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Returns the brightness of this display.</span>

<span class="sd">        Returns:</span>
<span class="sd">            int: from 0 to 100</span>

<span class="sd">        Example:</span>
<span class="sd">            ```python</span>
<span class="sd">            import screen_brightness_control as sbc</span>

<span class="sd">            # get the brightness of the primary monitor</span>
<span class="sd">            primary = sbc.Monitor(0)</span>
<span class="sd">            primary_brightness = primary.get_brightness()</span>
<span class="sd">            ```</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="c1"># refresh display info, in case another display has been unplugged or something</span>
        <span class="c1"># which would change the index of this display</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">get_info</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">method</span><span class="o">.</span><span class="n">get_brightness</span><span class="p">(</span><span class="n">display</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">index</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">fade_brightness</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">,</span> <span class="nb">int</span><span class="p">]:</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Fades the brightness for this display. See `fade_brightness` for the full docs</span>

<span class="sd">        Args:</span>
<span class="sd">            args (tuple): passed directly to `fade_brightness`</span>
<span class="sd">            kwargs (dict): passed directly to `fade_brightness`.</span>
<span class="sd">                The `display` and `method` kwargs are always</span>
<span class="sd">                overwritten.</span>

<span class="sd">        Returns:</span>
<span class="sd">            threading.Thread: if the the blocking kwarg is False</span>
<span class="sd">            int: if the blocking kwarg is True</span>

<span class="sd">        Example:</span>
<span class="sd">            ```python</span>
<span class="sd">            import screen_brightness_control as sbc</span>

<span class="sd">            # fade the brightness of the primary monitor to 50%</span>
<span class="sd">            primary = sbc.Monitor(0)</span>
<span class="sd">            primary.fade_brightness(50)</span>
<span class="sd">            ```</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="c1"># refresh display info, in case another display has been unplugged or something</span>
        <span class="c1"># which would change the index of this display</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">get_info</span><span class="p">(</span><span class="n">refresh</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;display&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">index</span>
        <span class="c1"># the reason we override the method kwarg here is that</span>
        <span class="c1"># the &#39;index&#39; is method specific and `fade_brightness`</span>
        <span class="c1"># is a top-level function. `self.set_brightness` and `self.get_brightness`</span>
        <span class="c1"># call directly to the method so they don&#39;t need this step</span>
        <span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;method&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">method</span><span class="o">.</span><span class="vm">__name__</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>

        <span class="n">brightness</span> <span class="o">=</span> <span class="n">fade_brightness</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="c1"># fade_brightness will call the top-level get_brightness</span>
        <span class="c1"># function, which will return list OR int</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">brightness</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">brightness</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">brightness</span>

    <span class="k">def</span> <span class="nf">get_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">refresh</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Returns all known information about this monitor instance</span>

<span class="sd">        Args:</span>
<span class="sd">            refresh (bool): whether to refresh the information</span>
<span class="sd">                or to return the cached version</span>

<span class="sd">        Returns:</span>
<span class="sd">            dict</span>

<span class="sd">        Example:</span>
<span class="sd">            ```python</span>
<span class="sd">            import screen_brightness_control as sbc</span>

<span class="sd">            # initialize class for primary monitor</span>
<span class="sd">            primary = sbc.Monitor(0)</span>
<span class="sd">            # get the info</span>
<span class="sd">            info = primary.get_info()</span>
<span class="sd">            ```</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">refresh</span><span class="p">:</span>
            <span class="k">return</span> <span class="nb">vars</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

        <span class="n">identifier</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_identifier</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">identifier</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="c1"># refresh the info we have on this monitor</span>
            <span class="n">info</span> <span class="o">=</span> <span class="n">filter_monitors</span><span class="p">(</span><span class="n">display</span><span class="o">=</span><span class="n">identifier</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">method</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">method</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
            <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">info</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="nb">setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>

        <span class="k">return</span> <span class="nb">vars</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">is_active</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Attempts to retrieve the brightness for this display. If it works the display is deemed active</span>

<span class="sd">        Returns:</span>
<span class="sd">            bool: True means active, False means inactive</span>

<span class="sd">        Example:</span>
<span class="sd">            ```python</span>
<span class="sd">            import screen_brightness_control as sbc</span>

<span class="sd">            primary = sbc.Monitor(0)</span>
<span class="sd">            if primary.is_active():</span>
<span class="sd">                primary.set_brightness(50)</span>
<span class="sd">            ```</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">get_brightness</span><span class="p">()</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>


<span class="k">def</span> <span class="nf">filter_monitors</span><span class="p">(</span>
    <span class="n">display</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">haystack</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">dict</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">method</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">include</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">dict</span><span class="p">]:</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Searches through the information for all detected displays</span>
<span class="sd">    and attempts to return the info matching the value given.</span>
<span class="sd">    Will attempt to match against index, name, model, edid, method and serial</span>

<span class="sd">    Args:</span>
<span class="sd">        display (str or int): the display you are searching for.</span>
<span class="sd">            Can be serial, name, model number, edid string or index of the display</span>
<span class="sd">        haystack (list): the information to filter from.</span>
<span class="sd">            If this isn&#39;t set it defaults to the return of `list_monitors_info`</span>
<span class="sd">        method (str): the method the monitors use</span>
<span class="sd">        include (list): extra fields of information to sort by</span>

<span class="sd">    Raises:</span>
<span class="sd">        TypeError: if the display kwarg is not an int, str or None</span>
<span class="sd">        LookupError: if the display, does not have a match</span>

<span class="sd">    Returns:</span>
<span class="sd">        list: list of dicts</span>

<span class="sd">    Example:</span>
<span class="sd">        ```python</span>
<span class="sd">        import screen_brightness_control as sbc</span>

<span class="sd">        search = &#39;GL2450H&#39;</span>
<span class="sd">        match = sbc.filter_displays(search)</span>
<span class="sd">        print(match)</span>
<span class="sd">        # EG output: [{&#39;name&#39;: &#39;BenQ GL2450H&#39;, &#39;model&#39;: &#39;GL2450H&#39;, ... }]</span>
<span class="sd">        ```</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="c1"># if we have been provided with a list of monitors to sift through then use that</span>
    <span class="c1"># otherwise, get the info ourselves</span>
    <span class="k">if</span> <span class="n">haystack</span><span class="p">:</span>
        <span class="n">monitors_with_duplicates</span> <span class="o">=</span> <span class="n">haystack</span>
        <span class="k">if</span> <span class="n">method</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">monitors_with_duplicates</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">haystack</span> <span class="k">if</span> <span class="n">method</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="n">i</span><span class="p">[</span><span class="s1">&#39;method&#39;</span><span class="p">]</span><span class="o">.</span><span class="vm">__name__</span><span class="o">.</span><span class="n">lower</span><span class="p">()]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">monitors_with_duplicates</span> <span class="o">=</span> <span class="n">list_monitors_info</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="n">method</span><span class="p">,</span> <span class="n">allow_duplicates</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">display</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="nb">type</span><span class="p">(</span><span class="n">display</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;display kwarg must be int or str, not &quot;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">display</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">&quot;&#39;</span><span class="p">)</span>

    <span class="c1"># This loop does two things: 1. Filters out duplicate monitors and 2. Matches the display kwarg (if applicable)</span>
    <span class="n">unique_identifiers</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">monitors</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">monitor</span> <span class="ow">in</span> <span class="n">monitors_with_duplicates</span><span class="p">:</span>
        <span class="c1"># find a valid identifier for a monitor, excluding any which are equal to None</span>
        <span class="n">added</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">for</span> <span class="n">identifier</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;edid&#39;</span><span class="p">,</span> <span class="s1">&#39;serial&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;model&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="n">include</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">monitor</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">identifier</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="c1"># check we haven&#39;t already added the monitor</span>
                <span class="k">if</span> <span class="n">monitor</span><span class="p">[</span><span class="n">identifier</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">unique_identifiers</span><span class="p">:</span>
                    <span class="c1"># check if the display kwarg (if str) matches this monitor</span>
                    <span class="k">if</span> <span class="n">monitor</span><span class="p">[</span><span class="n">identifier</span><span class="p">]</span> <span class="o">==</span> <span class="n">display</span> <span class="ow">or</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">display</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                        <span class="c1"># if valid and monitor[identifier] not in unique_identifiers:</span>
                        <span class="k">if</span> <span class="ow">not</span> <span class="n">added</span><span class="p">:</span>
                            <span class="n">monitors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">monitor</span><span class="p">)</span>
                            <span class="n">unique_identifiers</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">monitor</span><span class="p">[</span><span class="n">identifier</span><span class="p">])</span>
                            <span class="n">added</span> <span class="o">=</span> <span class="kc">True</span>

                        <span class="c1"># if the display kwarg is an integer and we are currently at that index</span>
                        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">display</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">monitors</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span> <span class="o">==</span> <span class="n">display</span><span class="p">:</span>
                            <span class="k">return</span> <span class="p">[</span><span class="n">monitor</span><span class="p">]</span>
                        <span class="k">if</span> <span class="n">added</span><span class="p">:</span>
                            <span class="k">break</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="c1"># if we have already added a monitor with the same identifier</span>
                    <span class="c1"># then any info matching this monitor will match the other one</span>
                    <span class="c1"># so exit the checking now</span>
                    <span class="k">break</span>

    <span class="c1"># if no monitors matched the query OR if display kwarg was an int</span>
    <span class="c1"># if the latter and we made it this far then the int was out of range</span>
    <span class="k">if</span> <span class="n">monitors</span> <span class="o">==</span> <span class="p">[]</span> <span class="ow">or</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">display</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;no monitors found&#39;</span>
        <span class="k">if</span> <span class="n">display</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">+=</span> <span class="sa">f</span><span class="s1">&#39; with name/serial/model/edid/index of </span><span class="si">{</span><span class="nb">repr</span><span class="p">(</span><span class="n">display</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span>
        <span class="k">if</span> <span class="n">method</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">+=</span> <span class="sa">f</span><span class="s1">&#39; with method of &quot;</span><span class="si">{</span><span class="n">method</span><span class="si">}</span><span class="s1">&quot;&#39;</span>
        <span class="k">raise</span> <span class="ne">LookupError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">monitors</span>


<span class="k">def</span> <span class="nf">flatten_list</span><span class="p">(</span><span class="n">thick_list</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Any</span><span class="p">]:</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Internal function I use to flatten lists, because I do that often</span>

<span class="sd">    Args:</span>
<span class="sd">        thick_list (list): The list to be flattened. Can be as deep as you wish (within recursion limits)</span>

<span class="sd">    Returns:</span>
<span class="sd">        list: one dimensional</span>

<span class="sd">    Example:</span>
<span class="sd">        ```python</span>
<span class="sd">        import screen_brightness_control as sbc</span>
<span class="sd">        thick_list = [1, [2, [3, 4, 5], 6, 7], 8, [9, 10]]</span>
<span class="sd">        flat_list = sbc.flatten_list(thick_list)</span>
<span class="sd">        # Output: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]</span>
<span class="sd">        ```</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">flat_list</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">thick_list</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
            <span class="n">flat_list</span> <span class="o">+=</span> <span class="n">flatten_list</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">flat_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">flat_list</span>


<span class="k">def</span> <span class="nf">__brightness</span><span class="p">(</span>
    <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="n">display</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">meta_method</span><span class="o">=</span><span class="s1">&#39;get&#39;</span><span class="p">,</span> <span class="n">no_return</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">verbose_error</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span>
<span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Internal function used to get/set brightness&#39;&#39;&#39;</span>

    <span class="k">def</span> <span class="nf">format_exc</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">e</span><span class="p">):</span>
        <span class="n">errors</span><span class="o">.</span><span class="n">append</span><span class="p">((</span>
            <span class="n">name</span><span class="p">,</span> <span class="n">e</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
            <span class="n">traceback</span><span class="o">.</span><span class="n">format_exc</span><span class="p">()</span> <span class="k">if</span> <span class="n">verbose_error</span> <span class="k">else</span> <span class="n">e</span>
        <span class="p">))</span>

    <span class="n">output</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">errors</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">method</span> <span class="o">=</span> <span class="n">method</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">method</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="k">else</span> <span class="n">method</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">monitors</span> <span class="o">=</span> <span class="n">filter_monitors</span><span class="p">(</span><span class="n">display</span><span class="o">=</span><span class="n">display</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="n">method</span><span class="p">)</span>
    <span class="k">except</span> <span class="p">(</span><span class="ne">LookupError</span><span class="p">,</span> <span class="ne">ValueError</span><span class="p">)</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">platform</span><span class="o">.</span><span class="n">system</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;Linux&#39;</span> <span class="ow">and</span> <span class="n">display</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">method</span> <span class="ow">in</span> <span class="p">(</span><span class="s1">&#39;xbacklight&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">):</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">meta_method</span> <span class="o">==</span> <span class="s1">&#39;set&#39;</span><span class="p">:</span>
                    <span class="n">linux</span><span class="o">.</span><span class="n">XBacklight</span><span class="o">.</span><span class="n">set_brightness</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>
                <span class="n">output</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">linux</span><span class="o">.</span><span class="n">XBacklight</span><span class="o">.</span><span class="n">get_brightness</span><span class="p">())</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="n">format_exc</span><span class="p">(</span><span class="s1">&#39;XBacklight&#39;</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">format_exc</span><span class="p">(</span><span class="s1">&#39;filter_monitors&#39;</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">format_exc</span><span class="p">(</span><span class="s1">&#39;filter_monitors&#39;</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">monitor</span> <span class="ow">in</span> <span class="n">monitors</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">meta_method</span> <span class="o">==</span> <span class="s1">&#39;set&#39;</span><span class="p">:</span>
                    <span class="n">monitor</span><span class="p">[</span><span class="s1">&#39;method&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">set_brightness</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="n">display</span><span class="o">=</span><span class="n">monitor</span><span class="p">[</span><span class="s1">&#39;index&#39;</span><span class="p">],</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
                    <span class="k">if</span> <span class="n">no_return</span><span class="p">:</span>
                        <span class="n">output</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
                        <span class="k">continue</span>

                <span class="n">output</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">monitor</span><span class="p">[</span><span class="s1">&#39;method&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">get_brightness</span><span class="p">(</span><span class="n">display</span><span class="o">=</span><span class="n">monitor</span><span class="p">[</span><span class="s1">&#39;index&#39;</span><span class="p">],</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">))</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="n">output</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
                <span class="n">format_exc</span><span class="p">(</span><span class="n">monitor</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>

    <span class="n">output</span> <span class="o">=</span> <span class="n">flatten_list</span><span class="p">(</span><span class="n">output</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">output</span><span class="p">:</span>
        <span class="n">output_is_none</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">output</span><span class="p">)</span> <span class="o">==</span> <span class="p">{</span><span class="kc">None</span><span class="p">}</span>
        <span class="k">if</span> <span class="p">(</span>
            <span class="c1"># can&#39;t have None output if we are trying to get the brightness</span>
            <span class="p">(</span><span class="n">meta_method</span> <span class="o">==</span> <span class="s1">&#39;get&#39;</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">output_is_none</span><span class="p">)</span>
            <span class="ow">or</span> <span class="p">(</span>
                <span class="c1"># if we are setting the brightness then we CAN have a None output</span>
                <span class="c1"># but only if no_return is True.</span>
                <span class="n">meta_method</span> <span class="o">==</span> <span class="s1">&#39;set&#39;</span>
                <span class="ow">and</span> <span class="p">((</span><span class="n">no_return</span> <span class="ow">and</span> <span class="n">output_is_none</span><span class="p">)</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">output_is_none</span><span class="p">)</span>
            <span class="p">)</span>
        <span class="p">):</span>
            <span class="k">if</span> <span class="n">no_return</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">None</span>
            <span class="k">return</span> <span class="n">output</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">output</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span> <span class="k">else</span> <span class="n">output</span>

    <span class="c1"># if the function hasn&#39;t returned then it has failed</span>
    <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>
    <span class="k">if</span> <span class="n">errors</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">monitor</span><span class="p">,</span> <span class="n">exc_name</span><span class="p">,</span> <span class="n">exc</span> <span class="ow">in</span> <span class="n">errors</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">monitor</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                <span class="n">msg</span> <span class="o">+=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="se">\t</span><span class="si">{</span><span class="n">monitor</span><span class="si">}</span><span class="s1">&#39;</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o">+=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="se">\t</span><span class="si">{</span><span class="n">monitor</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span><span class="si">}</span><span class="s1"> (</span><span class="si">{</span><span class="n">monitor</span><span class="p">[</span><span class="s2">&quot;serial&quot;</span><span class="p">]</span><span class="si">}</span><span class="s1">)&#39;</span>
            <span class="n">msg</span> <span class="o">+=</span> <span class="sa">f</span><span class="s1">&#39; -&gt; </span><span class="si">{</span><span class="n">exc_name</span><span class="si">}</span><span class="s1">: &#39;</span>
            <span class="n">msg</span> <span class="o">+=</span> <span class="nb">str</span><span class="p">(</span><span class="n">exc</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39;</span><span class="se">\n\t\t</span><span class="s1">&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">msg</span> <span class="o">+=</span> <span class="s1">&#39;</span><span class="se">\t</span><span class="s1">no valid output was received from brightness methods&#39;</span>

    <span class="k">raise</span> <span class="n">ScreenBrightnessError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">__Cache</span><span class="p">(</span><span class="nb">dict</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;class to cache data with a short shelf life&#39;&#39;&#39;</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">enabled</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">enabled</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">value</span><span class="p">,</span> <span class="n">expires</span><span class="p">,</span> <span class="n">orig_args</span><span class="p">,</span> <span class="n">orig_kwargs</span> <span class="o">=</span> <span class="bp">self</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">&lt;</span> <span class="n">expires</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">orig_args</span> <span class="o">==</span> <span class="n">args</span> <span class="ow">and</span> <span class="n">orig_kwargs</span> <span class="o">==</span> <span class="n">kwargs</span><span class="p">:</span>
                    <span class="k">return</span> <span class="n">value</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">del</span> <span class="bp">self</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">store</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="n">expires</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">expires</span> <span class="o">+</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">(),</span> <span class="n">args</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">expire</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">startswith</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">key</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">del</span> <span class="bp">self</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
            <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
                <span class="k">pass</span>
        <span class="k">elif</span> <span class="n">startswith</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">tuple</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
                <span class="k">if</span> <span class="n">i</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">startswith</span><span class="p">):</span>
                    <span class="k">del</span> <span class="bp">self</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>


<span class="n">__cache__</span> <span class="o">=</span> <span class="n">__Cache</span><span class="p">()</span>
<span class="n">plat</span> <span class="o">=</span> <span class="n">platform</span><span class="o">.</span><span class="n">system</span><span class="p">()</span>
<span class="k">if</span> <span class="n">plat</span> <span class="o">==</span> <span class="s1">&#39;Windows&#39;</span><span class="p">:</span>
    <span class="kn">from</span> <span class="nn">.</span> <span class="kn">import</span> <span class="n">windows</span>
    <span class="n">method</span> <span class="o">=</span> <span class="n">windows</span>
<span class="k">elif</span> <span class="n">plat</span> <span class="o">==</span> <span class="s1">&#39;Linux&#39;</span><span class="p">:</span>
    <span class="kn">from</span> <span class="nn">.</span> <span class="kn">import</span> <span class="n">linux</span>
    <span class="n">method</span> <span class="o">=</span> <span class="n">linux</span>
<span class="k">elif</span> <span class="n">plat</span> <span class="o">==</span> <span class="s1">&#39;Darwin&#39;</span><span class="p">:</span>
    <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s1">&#39;MAC is not yet supported&#39;</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">plat</span><span class="si">}</span><span class="s1"> is not yet supported&#39;</span><span class="p">)</span>
<span class="k">del</span> <span class="n">plat</span>

<span class="n">__version__</span> <span class="o">=</span> <span class="s1">&#39;0.11.2&#39;</span>
<span class="n">__author__</span> <span class="o">=</span> <span class="s1">&#39;Crozzers&#39;</span>
</pre></div>

        </details>

            </section>
                <section id="get_brightness">
                            <div class="attr function"><a class="headerlink" href="#get_brightness">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">get_brightness</span><span class="signature">(
    display: Union[str, int, NoneType] = None,
    method: Optional[str] = None,
    verbose_error: bool = False
) -&gt; Union[List[int], int]</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">get_brightness</span><span class="p">(</span>
    <span class="n">display</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">method</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">verbose_error</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="nb">int</span><span class="p">]:</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Returns the current display brightness</span>

<span class="sd">    Args:</span>
<span class="sd">        display (str or int): the specific display to query</span>
<span class="sd">        method (str): the way in which displays will be accessed.</span>
<span class="sd">            On Windows this can be &#39;wmi&#39; or &#39;vcp&#39;.</span>
<span class="sd">            On Linux it&#39;s &#39;light&#39;, &#39;xrandr&#39;, &#39;ddcutil&#39; or &#39;xbacklight&#39;.</span>
<span class="sd">        verbose_error (bool): controls the level of detail in the error messages</span>

<span class="sd">    Returns:</span>
<span class="sd">        int: an integer from 0 to 100 if only one display is detected</span>
<span class="sd">        list: if there a multiple displays connected it may return a list of integers (invalid monitors return `None`)</span>

<span class="sd">    Example:</span>
<span class="sd">        ```python</span>
<span class="sd">        import screen_brightness_control as sbc</span>

<span class="sd">        # get the current screen brightness (for all detected displays)</span>
<span class="sd">        current_brightness = sbc.get_brightness()</span>

<span class="sd">        # get the brightness of the primary display</span>
<span class="sd">        primary_brightness = sbc.get_brightness(display=0)</span>

<span class="sd">        # get the brightness of the secondary display (if connected)</span>
<span class="sd">        secondary_brightness = sbc.get_brightness(display=1)</span>
<span class="sd">        ```</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">return</span> <span class="n">__brightness</span><span class="p">(</span><span class="n">display</span><span class="o">=</span><span class="n">display</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="n">method</span><span class="p">,</span> <span class="n">meta_method</span><span class="o">=</span><span class="s1">&#39;get&#39;</span><span class="p">,</span> <span class="n">verbose_error</span><span class="o">=</span><span class="n">verbose_error</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Returns the current display brightness</p>

<h6 id="args">Args</h6>

<ul>
<li><strong>display (str or int):</strong>  the specific display to query</li>
<li><strong>method (str):</strong>  the way in which displays will be accessed.
On Windows this can be 'wmi' or 'vcp'.
On Linux it's 'light', 'xrandr', 'ddcutil' or 'xbacklight'.</li>
<li><strong>verbose_error (bool):</strong>  controls the level of detail in the error messages</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>int:</strong>  an integer from 0 to 100 if only one display is detected</li>
<li><strong>list:</strong>  if there a multiple displays connected it may return a list of integers (invalid monitors return <code>None</code>)</li>
</ul>

<h6 id="example">Example</h6>

<blockquote>
  <div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="nn">screen_brightness_control</span> <span class="k">as</span> <span class="nn">sbc</span>

<span class="c1"># get the current screen brightness (for all detected displays)</span>
<span class="n">current_brightness</span> <span class="o">=</span> <span class="n">sbc</span><span class="o">.</span><span class="n">get_brightness</span><span class="p">()</span>

<span class="c1"># get the brightness of the primary display</span>
<span class="n">primary_brightness</span> <span class="o">=</span> <span class="n">sbc</span><span class="o">.</span><span class="n">get_brightness</span><span class="p">(</span><span class="n">display</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

<span class="c1"># get the brightness of the secondary display (if connected)</span>
<span class="n">secondary_brightness</span> <span class="o">=</span> <span class="n">sbc</span><span class="o">.</span><span class="n">get_brightness</span><span class="p">(</span><span class="n">display</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</code></pre></div>
</blockquote>
</div>


                </section>
                <section id="set_brightness">
                            <div class="attr function"><a class="headerlink" href="#set_brightness">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_brightness</span><span class="signature">(
    value: Union[int, float, str],
    display: Union[str, int, NoneType] = None,
    method: Optional[str] = None,
    force: bool = False,
    verbose_error: bool = False,
    no_return: bool = True
) -&gt; Union[NoneType, List[int], int]</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">set_brightness</span><span class="p">(</span>
    <span class="n">value</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span>
    <span class="n">display</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">method</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">force</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">verbose_error</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">no_return</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="nb">int</span><span class="p">]:</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Sets the screen brightness</span>

<span class="sd">    Args:</span>
<span class="sd">        value (int or float or str): a value 0 to 100. This is a percentage or a string as &#39;+5&#39; or &#39;-5&#39;</span>
<span class="sd">        display (int or str): the specific display to adjust</span>
<span class="sd">        method (str): the way in which displays will be accessed.</span>
<span class="sd">            On Windows this can be &#39;wmi&#39; or &#39;vcp&#39;.</span>
<span class="sd">            On Linux it&#39;s &#39;light&#39;, &#39;xrandr&#39;, &#39;ddcutil&#39; or &#39;xbacklight&#39;.</span>
<span class="sd">        force (bool): [*Linux Only*] if False the brightness will never be set lower than 1.</span>
<span class="sd">            This is because on most displays a brightness of 0 will turn off the backlight.</span>
<span class="sd">            If True, this check is bypassed</span>
<span class="sd">        verbose_error (bool): boolean value controls the amount of detail error messages will contain</span>
<span class="sd">        no_return (bool): if False, this function returns new brightness (by calling `get_brightness`).</span>
<span class="sd">            If True, this function returns None (default behaviour).</span>

<span class="sd">    Returns:</span>
<span class="sd">        None: if the `no_return` kwarg is `True`</span>
<span class="sd">        list: list of ints (0 to 100) only if the `no_return` kwarg is `False`</span>
<span class="sd">        int: if only one display is affected and the `no_return` kwarg is `False`</span>

<span class="sd">    Example:</span>
<span class="sd">        ```python</span>
<span class="sd">        import screen_brightness_control as sbc</span>

<span class="sd">        # set brightness to 50%</span>
<span class="sd">        sbc.set_brightness(50)</span>

<span class="sd">        # set brightness to 0%</span>
<span class="sd">        sbc.set_brightness(0, force=True)</span>

<span class="sd">        # increase brightness by 25%</span>
<span class="sd">        sbc.set_brightness(&#39;+25&#39;)</span>

<span class="sd">        # decrease brightness by 30%</span>
<span class="sd">        sbc.set_brightness(&#39;-30&#39;)</span>

<span class="sd">        # set the brightness of display 0 to 50%</span>
<span class="sd">        sbc.set_brightness(50, display=0)</span>
<span class="sd">        ```</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="s1">&#39;+&#39;</span> <span class="ow">in</span> <span class="n">value</span> <span class="ow">or</span> <span class="s1">&#39;-&#39;</span> <span class="ow">in</span> <span class="n">value</span><span class="p">):</span>
        <span class="n">value</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">value</span><span class="p">))</span>
        <span class="n">monitors</span> <span class="o">=</span> <span class="n">filter_monitors</span><span class="p">(</span><span class="n">display</span><span class="o">=</span><span class="n">display</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="n">method</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">monitors</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">output</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">monitor</span> <span class="ow">in</span> <span class="n">monitors</span><span class="p">:</span>
                <span class="n">identifier</span> <span class="o">=</span> <span class="n">Monitor</span><span class="o">.</span><span class="n">get_identifier</span><span class="p">(</span><span class="n">monitor</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>
                <span class="n">output</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                    <span class="n">set_brightness</span><span class="p">(</span>
                        <span class="n">get_brightness</span><span class="p">(</span><span class="n">display</span><span class="o">=</span><span class="n">identifier</span><span class="p">)</span> <span class="o">+</span> <span class="n">value</span><span class="p">,</span>
                        <span class="n">display</span><span class="o">=</span><span class="n">identifier</span><span class="p">,</span>
                        <span class="n">force</span><span class="o">=</span><span class="n">force</span><span class="p">,</span>
                        <span class="n">verbose_error</span><span class="o">=</span><span class="n">verbose_error</span><span class="p">,</span>
                        <span class="n">no_return</span><span class="o">=</span><span class="n">no_return</span>
                    <span class="p">)</span>
                <span class="p">)</span>
            <span class="n">output</span> <span class="o">=</span> <span class="n">flatten_list</span><span class="p">(</span><span class="n">output</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">output</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">output</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span> <span class="k">else</span> <span class="n">output</span>

        <span class="n">value</span> <span class="o">+=</span> <span class="n">get_brightness</span><span class="p">(</span><span class="n">display</span><span class="o">=</span><span class="n">Monitor</span><span class="o">.</span><span class="n">get_identifier</span><span class="p">(</span><span class="n">monitors</span><span class="p">[</span><span class="mi">0</span><span class="p">])[</span><span class="mi">1</span><span class="p">])</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">value</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">value</span><span class="p">)))</span>

    <span class="c1"># make sure value is within bounds</span>
    <span class="n">value</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="nb">min</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="n">value</span><span class="p">),</span> <span class="mi">0</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">platform</span><span class="o">.</span><span class="n">system</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;Linux&#39;</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">force</span><span class="p">:</span>
        <span class="n">value</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">__brightness</span><span class="p">(</span>
        <span class="n">value</span><span class="p">,</span> <span class="n">display</span><span class="o">=</span><span class="n">display</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="n">method</span><span class="p">,</span>
        <span class="n">meta_method</span><span class="o">=</span><span class="s1">&#39;set&#39;</span><span class="p">,</span> <span class="n">no_return</span><span class="o">=</span><span class="n">no_return</span><span class="p">,</span>
        <span class="n">verbose_error</span><span class="o">=</span><span class="n">verbose_error</span>
    <span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Sets the screen brightness</p>

<h6 id="args">Args</h6>

<ul>
<li><strong>value (int or float or str):</strong>  a value 0 to 100. This is a percentage or a string as '+5' or '-5'</li>
<li><strong>display (int or str):</strong>  the specific display to adjust</li>
<li><strong>method (str):</strong>  the way in which displays will be accessed.
On Windows this can be 'wmi' or 'vcp'.
On Linux it's 'light', 'xrandr', 'ddcutil' or 'xbacklight'.</li>
<li><strong>force (bool):</strong>  [<em>Linux Only</em>] if False the brightness will never be set lower than 1.
This is because on most displays a brightness of 0 will turn off the backlight.
If True, this check is bypassed</li>
<li><strong>verbose_error (bool):</strong>  boolean value controls the amount of detail error messages will contain</li>
<li><strong>no_return (bool):</strong>  if False, this function returns new brightness (by calling <code><a href="#get_brightness">get_brightness</a></code>).
If True, this function returns None (default behaviour).</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>None:</strong>  if the <code>no_return</code> kwarg is <code>True</code></li>
<li><strong>list:</strong>  list of ints (0 to 100) only if the <code>no_return</code> kwarg is <code>False</code></li>
<li><strong>int:</strong>  if only one display is affected and the <code>no_return</code> kwarg is <code>False</code></li>
</ul>

<h6 id="example">Example</h6>

<blockquote>
  <div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="nn">screen_brightness_control</span> <span class="k">as</span> <span class="nn">sbc</span>

<span class="c1"># set brightness to 50%</span>
<span class="n">sbc</span><span class="o">.</span><span class="n">set_brightness</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>

<span class="c1"># set brightness to 0%</span>
<span class="n">sbc</span><span class="o">.</span><span class="n">set_brightness</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># increase brightness by 25%</span>
<span class="n">sbc</span><span class="o">.</span><span class="n">set_brightness</span><span class="p">(</span><span class="s1">&#39;+25&#39;</span><span class="p">)</span>

<span class="c1"># decrease brightness by 30%</span>
<span class="n">sbc</span><span class="o">.</span><span class="n">set_brightness</span><span class="p">(</span><span class="s1">&#39;-30&#39;</span><span class="p">)</span>

<span class="c1"># set the brightness of display 0 to 50%</span>
<span class="n">sbc</span><span class="o">.</span><span class="n">set_brightness</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span> <span class="n">display</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</code></pre></div>
</blockquote>
</div>


                </section>
                <section id="fade_brightness">
                            <div class="attr function"><a class="headerlink" href="#fade_brightness">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">fade_brightness</span><span class="signature">(
    finish: Union[int, str],
    start: Union[str, int, NoneType] = None,
    interval: float = 0.01,
    increment: int = 1,
    blocking: bool = True,
    **kwargs
) -&gt; Union[List[threading.Thread], List[int], int]</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">fade_brightness</span><span class="p">(</span>
    <span class="n">finish</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span>
    <span class="n">start</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">interval</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.01</span><span class="p">,</span>
    <span class="n">increment</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">blocking</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">],</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="nb">int</span><span class="p">]:</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    A function to somewhat gently fade the screen brightness from `start` to `finish`</span>

<span class="sd">    Args:</span>
<span class="sd">        finish (int or str): the brightness level to end up on</span>
<span class="sd">        start (int or str): where the brightness should fade from.</span>
<span class="sd">            If not specified the function starts from the current screen brightness</span>
<span class="sd">        interval (float or int): the time delay between each step in brightness</span>
<span class="sd">        increment (int): the amount to change the brightness by per step</span>
<span class="sd">        blocking (bool): whether this should occur in the main thread (`True`) or a new daemonic thread (`False`)</span>
<span class="sd">        kwargs (dict): passed directly to `set_brightness`.</span>
<span class="sd">            Any compatible kwargs are passed to `filter_monitors` as well. (eg: display, method...)</span>

<span class="sd">    Returns:</span>
<span class="sd">        list: list of `threading.Thread` objects if `blocking == False`,</span>
<span class="sd">            otherwise it returns the result of `get_brightness()`</span>

<span class="sd">    Example:</span>
<span class="sd">        ```python</span>
<span class="sd">        import screen_brightness_control as sbc</span>

<span class="sd">        # fade brightness from the current brightness to 50%</span>
<span class="sd">        sbc.fade_brightness(50)</span>

<span class="sd">        # fade the brightness from 25% to 75%</span>
<span class="sd">        sbc.fade_brightness(75, start=25)</span>

<span class="sd">        # fade the brightness from the current value to 100% in steps of 10%</span>
<span class="sd">        sbc.fade_brightness(100, increment=10)</span>

<span class="sd">        # fade the brightness from 100% to 90% with time intervals of 0.1 seconds</span>
<span class="sd">        sbc.fade_brightness(90, start=100, interval=0.1)</span>

<span class="sd">        # fade the brightness to 100% in a new thread</span>
<span class="sd">        sbc.fade_brightness(100, blocking=False)</span>
<span class="sd">        ```</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">def</span> <span class="nf">fade</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">finish</span><span class="p">,</span> <span class="n">increment</span><span class="p">,</span> <span class="n">monitor</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">min</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">finish</span><span class="p">),</span> <span class="nb">max</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">finish</span><span class="p">),</span> <span class="n">increment</span><span class="p">):</span>
            <span class="n">val</span> <span class="o">=</span> <span class="n">i</span>
            <span class="k">if</span> <span class="n">start</span> <span class="o">&gt;</span> <span class="n">finish</span><span class="p">:</span>
                <span class="n">val</span> <span class="o">=</span> <span class="n">start</span> <span class="o">-</span> <span class="p">(</span><span class="n">val</span> <span class="o">-</span> <span class="n">finish</span><span class="p">)</span>
            <span class="n">monitor</span><span class="o">.</span><span class="n">set_brightness</span><span class="p">(</span><span class="n">val</span><span class="p">,</span> <span class="n">no_return</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">interval</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">monitor</span><span class="o">.</span><span class="n">get_brightness</span><span class="p">()</span> <span class="o">!=</span> <span class="n">finish</span><span class="p">:</span>
            <span class="n">monitor</span><span class="o">.</span><span class="n">set_brightness</span><span class="p">(</span><span class="n">finish</span><span class="p">,</span> <span class="n">no_return</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">err_msg</span><span class="p">(</span><span class="n">e</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="se">\n\t</span><span class="s1">filter_monitors -&gt; </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s1">&#39;</span>

    <span class="n">threads</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">if</span> <span class="s1">&#39;verbose_error&#39;</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">:</span>
        <span class="k">del</span> <span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;verbose_error&#39;</span><span class="p">]</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="c1"># make sure only compatible kwargs are passed to filter_monitors</span>
        <span class="n">available_monitors</span> <span class="o">=</span> <span class="n">filter_monitors</span><span class="p">(</span>
            <span class="o">**</span><span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="n">v</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">k</span> <span class="ow">in</span> <span class="p">(</span>
                <span class="s1">&#39;display&#39;</span><span class="p">,</span> <span class="s1">&#39;haystack&#39;</span><span class="p">,</span> <span class="s1">&#39;method&#39;</span><span class="p">,</span> <span class="s1">&#39;include&#39;</span>
            <span class="p">)}</span>
        <span class="p">)</span>
    <span class="k">except</span> <span class="p">(</span><span class="ne">IndexError</span><span class="p">,</span> <span class="ne">LookupError</span><span class="p">)</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">e</span><span class="p">,</span> <span class="ne">LookupError</span><span class="p">)</span> <span class="ow">and</span> <span class="n">platform</span><span class="o">.</span><span class="n">system</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;Linux&#39;</span> <span class="ow">and</span> <span class="n">method</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="c1"># if a user ONLY has XBacklight installed and no method was specified</span>
            <span class="c1"># then filter_monitors will raise a LookupError</span>
            <span class="n">available_monitors</span> <span class="o">=</span> <span class="p">[</span><span class="n">method</span><span class="o">.</span><span class="n">XBacklight</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">ScreenBrightnessError</span><span class="p">(</span><span class="n">err_msg</span><span class="p">(</span><span class="n">e</span><span class="p">))</span> <span class="kn">from</span> <span class="nn">e</span>
    <span class="k">except</span> <span class="ne">ValueError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">platform</span><span class="o">.</span><span class="n">system</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;Linux&#39;</span> <span class="ow">and</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;method&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;xbacklight&#39;</span><span class="p">):</span>
            <span class="n">available_monitors</span> <span class="o">=</span> <span class="p">[</span><span class="n">method</span><span class="o">.</span><span class="n">XBacklight</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">ScreenBrightnessError</span><span class="p">(</span><span class="n">err_msg</span><span class="p">(</span><span class="n">e</span><span class="p">))</span> <span class="kn">from</span> <span class="nn">e</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">ScreenBrightnessError</span><span class="p">(</span><span class="n">err_msg</span><span class="p">(</span><span class="n">e</span><span class="p">))</span> <span class="kn">from</span> <span class="nn">e</span>

    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">available_monitors</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="p">(</span>
                <span class="n">platform</span><span class="o">.</span><span class="n">system</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;Linux&#39;</span>
                <span class="ow">and</span> <span class="nb">str</span><span class="p">(</span><span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;method&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;xbacklight&#39;</span>
            <span class="p">):</span>
                <span class="n">monitor</span> <span class="o">=</span> <span class="n">i</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">monitor</span> <span class="o">=</span> <span class="n">Monitor</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>

            <span class="c1"># same effect as monitor.is_active()</span>
            <span class="n">current</span> <span class="o">=</span> <span class="n">monitor</span><span class="o">.</span><span class="n">get_brightness</span><span class="p">()</span>
            <span class="n">st</span><span class="p">,</span> <span class="n">fi</span> <span class="o">=</span> <span class="n">start</span><span class="p">,</span> <span class="n">finish</span>
            <span class="c1"># convert strings like &#39;+5&#39; to an actual brightness value</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">fi</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                <span class="k">if</span> <span class="s2">&quot;+&quot;</span> <span class="ow">in</span> <span class="n">fi</span> <span class="ow">or</span> <span class="s2">&quot;-&quot;</span> <span class="ow">in</span> <span class="n">fi</span><span class="p">:</span>
                    <span class="n">fi</span> <span class="o">=</span> <span class="n">current</span> <span class="o">+</span> <span class="nb">int</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">fi</span><span class="p">))</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">st</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                <span class="k">if</span> <span class="s2">&quot;+&quot;</span> <span class="ow">in</span> <span class="n">st</span> <span class="ow">or</span> <span class="s2">&quot;-&quot;</span> <span class="ow">in</span> <span class="n">st</span><span class="p">:</span>
                    <span class="n">st</span> <span class="o">=</span> <span class="n">current</span> <span class="o">+</span> <span class="nb">int</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">st</span><span class="p">))</span>

            <span class="n">st</span> <span class="o">=</span> <span class="n">current</span> <span class="k">if</span> <span class="n">st</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">st</span>
            <span class="c1"># make sure both values are within the correct range</span>
            <span class="n">fi</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">fi</span><span class="p">)),</span> <span class="mi">0</span><span class="p">),</span> <span class="mi">100</span><span class="p">)</span>
            <span class="n">st</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">st</span><span class="p">)),</span> <span class="mi">0</span><span class="p">),</span> <span class="mi">100</span><span class="p">)</span>

            <span class="n">t1</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">fade</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="p">(</span><span class="n">st</span><span class="p">,</span> <span class="n">fi</span><span class="p">,</span> <span class="n">increment</span><span class="p">,</span> <span class="n">monitor</span><span class="p">))</span>
            <span class="n">t1</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
            <span class="n">threads</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">t1</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
            <span class="k">pass</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">blocking</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">threads</span>

    <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">threads</span><span class="p">:</span>
        <span class="n">t</span><span class="o">.</span><span class="n">join</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">get_brightness</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>A function to somewhat gently fade the screen brightness from <code>start</code> to <code>finish</code></p>

<h6 id="args">Args</h6>

<ul>
<li><strong>finish (int or str):</strong>  the brightness level to end up on</li>
<li><strong>start (int or str):</strong>  where the brightness should fade from.
If not specified the function starts from the current screen brightness</li>
<li><strong>interval (float or int):</strong>  the time delay between each step in brightness</li>
<li><strong>increment (int):</strong>  the amount to change the brightness by per step</li>
<li><strong>blocking (bool):</strong>  whether this should occur in the main thread (<code>True</code>) or a new daemonic thread (<code>False</code>)</li>
<li><strong>kwargs (dict):</strong>  passed directly to <code><a href="#set_brightness">set_brightness</a></code>.
Any compatible kwargs are passed to <code><a href="#filter_monitors">filter_monitors</a></code> as well. (eg: display, method...)</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>list:</strong>  list of <code>threading.Thread</code> objects if <code>blocking == False</code>,
otherwise it returns the result of <code><a href="#get_brightness">get_brightness()</a></code></li>
</ul>

<h6 id="example">Example</h6>

<blockquote>
  <div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="nn">screen_brightness_control</span> <span class="k">as</span> <span class="nn">sbc</span>

<span class="c1"># fade brightness from the current brightness to 50%</span>
<span class="n">sbc</span><span class="o">.</span><span class="n">fade_brightness</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>

<span class="c1"># fade the brightness from 25% to 75%</span>
<span class="n">sbc</span><span class="o">.</span><span class="n">fade_brightness</span><span class="p">(</span><span class="mi">75</span><span class="p">,</span> <span class="n">start</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>

<span class="c1"># fade the brightness from the current value to 100% in steps of 10%</span>
<span class="n">sbc</span><span class="o">.</span><span class="n">fade_brightness</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="n">increment</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>

<span class="c1"># fade the brightness from 100% to 90% with time intervals of 0.1 seconds</span>
<span class="n">sbc</span><span class="o">.</span><span class="n">fade_brightness</span><span class="p">(</span><span class="mi">90</span><span class="p">,</span> <span class="n">start</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">interval</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span>

<span class="c1"># fade the brightness to 100% in a new thread</span>
<span class="n">sbc</span><span class="o">.</span><span class="n">fade_brightness</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="n">blocking</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</code></pre></div>
</blockquote>
</div>


                </section>
                <section id="list_monitors_info">
                            <div class="attr function"><a class="headerlink" href="#list_monitors_info">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">list_monitors_info</span><span class="signature">(
    method: Optional[str] = None,
    allow_duplicates: bool = False
) -&gt; List[dict]</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">list_monitors_info</span><span class="p">(</span><span class="n">method</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">allow_duplicates</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">dict</span><span class="p">]:</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    list detailed information about all monitors that are controllable by this library</span>

<span class="sd">    Args:</span>
<span class="sd">        method (str): the method to use to list the available monitors.</span>
<span class="sd">            On Windows this can be `&#39;wmi&#39;` or `&#39;vcp&#39;`.</span>
<span class="sd">            On Linux this can be `&#39;light&#39;`, `&#39;xrandr&#39;`, `&#39;ddcutil&#39;` or `&#39;sysfiles&#39;`.</span>
<span class="sd">        allow_duplicates (bool): whether to filter out duplicate displays or not</span>

<span class="sd">    Returns:</span>
<span class="sd">        list: list of dictionaries</span>

<span class="sd">    Example:</span>
<span class="sd">        ```python</span>
<span class="sd">        import screen_brightness_control as sbc</span>
<span class="sd">        monitors = sbc.list_monitors_info()</span>
<span class="sd">        for monitor in monitors:</span>
<span class="sd">            print(&#39;=======================&#39;)</span>
<span class="sd">            # the manufacturer name plus the model</span>
<span class="sd">            print(&#39;Name:&#39;, monitor[&#39;name&#39;])</span>
<span class="sd">            # the general model of the display</span>
<span class="sd">            print(&#39;Model:&#39;, monitor[&#39;model&#39;])</span>
<span class="sd">            # the serial of the display</span>
<span class="sd">            print(&#39;Serial:&#39;, monitor[&#39;serial&#39;])</span>
<span class="sd">            # the name of the brand of the monitor</span>
<span class="sd">            print(&#39;Manufacturer:&#39;, monitor[&#39;manufacturer&#39;])</span>
<span class="sd">            # the 3 letter code corresponding to the brand name, EG: BNQ -&gt; BenQ</span>
<span class="sd">            print(&#39;Manufacturer ID:&#39;, monitor[&#39;manufacturer_id&#39;])</span>
<span class="sd">            # the index of that display FOR THE SPECIFIC METHOD THE DISPLAY USES</span>
<span class="sd">            print(&#39;Index:&#39;, monitor[&#39;index&#39;])</span>
<span class="sd">            # the method this monitor can be addressed by</span>
<span class="sd">            print(&#39;Method:&#39;, monitor[&#39;method&#39;])</span>
<span class="sd">            # the EDID string associated with that monitor</span>
<span class="sd">            print(&#39;EDID:&#39;, monitor[&#39;edid&#39;])</span>
<span class="sd">        ```</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">info</span> <span class="o">=</span> <span class="n">__cache__</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;monitors_info&#39;</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="n">method</span><span class="p">,</span> <span class="n">allow_duplicates</span><span class="o">=</span><span class="n">allow_duplicates</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">info</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">info</span> <span class="o">=</span> <span class="nb">globals</span><span class="p">()[</span><span class="s1">&#39;method&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">list_monitors_info</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="n">method</span><span class="p">,</span> <span class="n">allow_duplicates</span><span class="o">=</span><span class="n">allow_duplicates</span><span class="p">)</span>
        <span class="n">__cache__</span><span class="o">.</span><span class="n">store</span><span class="p">(</span><span class="s1">&#39;monitors_info&#39;</span><span class="p">,</span> <span class="n">info</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="n">method</span><span class="p">,</span> <span class="n">allow_duplicates</span><span class="o">=</span><span class="n">allow_duplicates</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">info</span>
</pre></div>

        </details>

            <div class="docstring"><p>list detailed information about all monitors that are controllable by this library</p>

<h6 id="args">Args</h6>

<ul>
<li><strong>method (str):</strong>  the method to use to list the available monitors.
On Windows this can be <code>'wmi'</code> or <code>'vcp'</code>.
On Linux this can be <code>'light'</code>, <code>'xrandr'</code>, <code>'ddcutil'</code> or <code>'sysfiles'</code>.</li>
<li><strong>allow_duplicates (bool):</strong>  whether to filter out duplicate displays or not</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>list:</strong>  list of dictionaries</li>
</ul>

<h6 id="example">Example</h6>

<blockquote>
  <div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="nn">screen_brightness_control</span> <span class="k">as</span> <span class="nn">sbc</span>
<span class="n">monitors</span> <span class="o">=</span> <span class="n">sbc</span><span class="o">.</span><span class="n">list_monitors_info</span><span class="p">()</span>
<span class="k">for</span> <span class="n">monitor</span> <span class="ow">in</span> <span class="n">monitors</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;=======================&#39;</span><span class="p">)</span>
    <span class="c1"># the manufacturer name plus the model</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Name:&#39;</span><span class="p">,</span> <span class="n">monitor</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">])</span>
    <span class="c1"># the general model of the display</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Model:&#39;</span><span class="p">,</span> <span class="n">monitor</span><span class="p">[</span><span class="s1">&#39;model&#39;</span><span class="p">])</span>
    <span class="c1"># the serial of the display</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Serial:&#39;</span><span class="p">,</span> <span class="n">monitor</span><span class="p">[</span><span class="s1">&#39;serial&#39;</span><span class="p">])</span>
    <span class="c1"># the name of the brand of the monitor</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Manufacturer:&#39;</span><span class="p">,</span> <span class="n">monitor</span><span class="p">[</span><span class="s1">&#39;manufacturer&#39;</span><span class="p">])</span>
    <span class="c1"># the 3 letter code corresponding to the brand name, EG: BNQ -&gt; BenQ</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Manufacturer ID:&#39;</span><span class="p">,</span> <span class="n">monitor</span><span class="p">[</span><span class="s1">&#39;manufacturer_id&#39;</span><span class="p">])</span>
    <span class="c1"># the index of that display FOR THE SPECIFIC METHOD THE DISPLAY USES</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Index:&#39;</span><span class="p">,</span> <span class="n">monitor</span><span class="p">[</span><span class="s1">&#39;index&#39;</span><span class="p">])</span>
    <span class="c1"># the method this monitor can be addressed by</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Method:&#39;</span><span class="p">,</span> <span class="n">monitor</span><span class="p">[</span><span class="s1">&#39;method&#39;</span><span class="p">])</span>
    <span class="c1"># the EDID string associated with that monitor</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;EDID:&#39;</span><span class="p">,</span> <span class="n">monitor</span><span class="p">[</span><span class="s1">&#39;edid&#39;</span><span class="p">])</span>
</code></pre></div>
</blockquote>
</div>


                </section>
                <section id="list_monitors">
                            <div class="attr function"><a class="headerlink" href="#list_monitors">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">list_monitors</span><span class="signature">(method: Optional[str] = None) -&gt; List[str]</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">list_monitors</span><span class="p">(</span><span class="n">method</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    List the names of all detected monitors</span>

<span class="sd">    Args:</span>
<span class="sd">        method (str): the method to use to list the available monitors.</span>
<span class="sd">            On Windows this can be `&#39;wmi&#39;` or `&#39;vcp&#39;`.</span>
<span class="sd">            On Linux this can be `&#39;light&#39;`, `&#39;xrandr&#39;`, `&#39;ddcutil&#39;` or `&#39;sysfiles&#39;`.</span>

<span class="sd">    Returns:</span>
<span class="sd">        list: list of strings</span>

<span class="sd">    Example:</span>
<span class="sd">        ```python</span>
<span class="sd">        import screen_brightness_control as sbc</span>
<span class="sd">        monitor_names = sbc.list_monitors()</span>
<span class="sd">        # eg: [&#39;BenQ GL2450H&#39;, &#39;Dell U2211H&#39;]</span>
<span class="sd">        ```</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">i</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">list_monitors_info</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="n">method</span><span class="p">)]</span>
</pre></div>

        </details>

            <div class="docstring"><p>List the names of all detected monitors</p>

<h6 id="args">Args</h6>

<ul>
<li><strong>method (str):</strong>  the method to use to list the available monitors.
On Windows this can be <code>'wmi'</code> or <code>'vcp'</code>.
On Linux this can be <code>'light'</code>, <code>'xrandr'</code>, <code>'ddcutil'</code> or <code>'sysfiles'</code>.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>list:</strong>  list of strings</li>
</ul>

<h6 id="example">Example</h6>

<blockquote>
  <div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="nn">screen_brightness_control</span> <span class="k">as</span> <span class="nn">sbc</span>
<span class="n">monitor_names</span> <span class="o">=</span> <span class="n">sbc</span><span class="o">.</span><span class="n">list_monitors</span><span class="p">()</span>
<span class="c1"># eg: [&#39;BenQ GL2450H&#39;, &#39;Dell U2211H&#39;]</span>
</code></pre></div>
</blockquote>
</div>


                </section>
                <section id="EDID">
                                <div class="attr class">
        <a class="headerlink" href="#EDID">#&nbsp;&nbsp</a>

        
        <span class="def">class</span>
        <span class="name">EDID</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span><span class="k">class</span> <span class="nc">EDID</span><span class="p">:</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Simple structure and method to extract monitor serial and name from an EDID string.</span>

<span class="sd">    The EDID parsing was created with inspiration from the [pyedid library](https://github.com/jojonas/pyedid)</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">EDID_FORMAT</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="p">(</span>
        <span class="s2">&quot;&gt;&quot;</span>     <span class="c1"># big-endian</span>
        <span class="s2">&quot;8s&quot;</span>    <span class="c1"># constant header (8 bytes)</span>
        <span class="s2">&quot;H&quot;</span>     <span class="c1"># manufacturer id (2 bytes)</span>
        <span class="s2">&quot;H&quot;</span>     <span class="c1"># product id (2 bytes)</span>
        <span class="s2">&quot;I&quot;</span>     <span class="c1"># serial number (4 bytes)</span>
        <span class="s2">&quot;B&quot;</span>     <span class="c1"># manufactoring week (1 byte)</span>
        <span class="s2">&quot;B&quot;</span>     <span class="c1"># manufactoring year (1 byte)</span>
        <span class="s2">&quot;B&quot;</span>     <span class="c1"># edid version (1 byte)</span>
        <span class="s2">&quot;B&quot;</span>     <span class="c1"># edid revision (1 byte)</span>
        <span class="s2">&quot;B&quot;</span>     <span class="c1"># video input type (1 byte)</span>
        <span class="s2">&quot;B&quot;</span>     <span class="c1"># horizontal size in cm (1 byte)</span>
        <span class="s2">&quot;B&quot;</span>     <span class="c1"># vertical size in cm (1 byte)</span>
        <span class="s2">&quot;B&quot;</span>     <span class="c1"># display gamma (1 byte)</span>
        <span class="s2">&quot;B&quot;</span>     <span class="c1"># supported features (1 byte)</span>
        <span class="s2">&quot;10s&quot;</span>   <span class="c1"># color characteristics (10 bytes)</span>
        <span class="s2">&quot;H&quot;</span>     <span class="c1"># supported timings (2 bytes)</span>
        <span class="s2">&quot;B&quot;</span>     <span class="c1"># reserved timing (1 byte)</span>
        <span class="s2">&quot;16s&quot;</span>   <span class="c1"># EDID supported timings (16 bytes)</span>
        <span class="s2">&quot;18s&quot;</span>   <span class="c1"># detailed timing block 1 (18 bytes)</span>
        <span class="s2">&quot;18s&quot;</span>   <span class="c1"># detailed timing block 2 (18 bytes)</span>
        <span class="s2">&quot;18s&quot;</span>   <span class="c1"># detailed timing block 3 (18 bytes)</span>
        <span class="s2">&quot;18s&quot;</span>   <span class="c1"># detailed timing block 4 (18 bytes)</span>
        <span class="s2">&quot;B&quot;</span>     <span class="c1"># extension flag (1 byte)</span>
        <span class="s2">&quot;B&quot;</span>     <span class="c1"># checksum (1 byte)</span>
    <span class="p">)</span>
    <span class="sd">&#39;&#39;&#39;The byte structure for EDID strings&#39;&#39;&#39;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">parse_edid</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">edid</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">],</span> <span class="nb">str</span><span class="p">]:</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Takes an EDID string (as string hex, formatted as: &#39;00ffffff00...&#39;) and</span>
<span class="sd">        attempts to extract the monitor&#39;s name and serial number from it</span>

<span class="sd">        Args:</span>
<span class="sd">            edid (str): the edid string</span>

<span class="sd">        Returns:</span>
<span class="sd">            tuple: First item can be None or str. Second item is always str.</span>
<span class="sd">                This represents the name and serial respectively.</span>
<span class="sd">                If the name (first item) is None then this function likely</span>
<span class="sd">                failed to extract the serial correctly.</span>

<span class="sd">        Example:</span>
<span class="sd">            ```python</span>
<span class="sd">            import screen_brightness_control as sbc</span>

<span class="sd">            edid = sbc.list_monitors_info()[0][&#39;edid&#39;]</span>
<span class="sd">            name, serial = sbc.EDID.parse_edid(edid)</span>
<span class="sd">            if name is not None:</span>
<span class="sd">                print(&#39;Success!&#39;)</span>
<span class="sd">                print(&#39;Name:&#39;, name)</span>
<span class="sd">                print(&#39;Serial:&#39;, serial)</span>
<span class="sd">            else:</span>
<span class="sd">                print(&#39;Unable to extract the data&#39;)</span>
<span class="sd">            ```</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">def</span> <span class="nf">filter_hex</span><span class="p">(</span><span class="n">st</span><span class="p">):</span>
            <span class="n">st</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">st</span><span class="p">)</span>
            <span class="k">while</span> <span class="s1">&#39;</span><span class="se">\\</span><span class="s1">x&#39;</span> <span class="ow">in</span> <span class="n">st</span><span class="p">:</span>
                <span class="n">i</span> <span class="o">=</span> <span class="n">st</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\\</span><span class="s1">x&#39;</span><span class="p">)</span>
                <span class="n">st</span> <span class="o">=</span> <span class="n">st</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">st</span><span class="p">[</span><span class="n">i</span><span class="p">:</span><span class="n">i</span> <span class="o">+</span> <span class="mi">4</span><span class="p">],</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">st</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\\</span><span class="s1">n&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)[</span><span class="mi">2</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

        <span class="k">if</span> <span class="s1">&#39; &#39;</span> <span class="ow">in</span> <span class="n">edid</span><span class="p">:</span>
            <span class="n">edid</span> <span class="o">=</span> <span class="n">edid</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
        <span class="n">edid</span> <span class="o">=</span> <span class="nb">bytes</span><span class="o">.</span><span class="n">fromhex</span><span class="p">(</span><span class="n">edid</span><span class="p">)</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">struct</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="n">EDID_FORMAT</span><span class="p">,</span> <span class="n">edid</span><span class="p">)</span>
        <span class="n">serial</span> <span class="o">=</span> <span class="n">filter_hex</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="mi">18</span><span class="p">])</span>
        <span class="c1"># other info can be anywhere in this range, I don&#39;t know why</span>
        <span class="n">name</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">data</span><span class="p">[</span><span class="mi">19</span><span class="p">:</span><span class="mi">22</span><span class="p">]:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">st</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">)[</span><span class="mi">2</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">rstrip</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">)</span><span class="o">.</span><span class="n">rstrip</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\t</span><span class="s1">&#39;</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">st</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">)</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">st</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">:</span>
                    <span class="n">name</span> <span class="o">=</span> <span class="n">filter_hex</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">)</span>
                    <span class="n">name</span> <span class="o">=</span> <span class="n">name</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">capitalize</span><span class="p">()</span> <span class="o">+</span> <span class="s1">&#39; &#39;</span> <span class="o">+</span> <span class="n">name</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
            <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
                <span class="k">pass</span>
        <span class="k">return</span> <span class="n">name</span><span class="p">,</span> <span class="n">serial</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">)</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">hexdump</span><span class="p">(</span><span class="n">file</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Returns a hexadecimal string of binary data from a file</span>

<span class="sd">        Args:</span>
<span class="sd">            file (str): the file to read</span>

<span class="sd">        Returns:</span>
<span class="sd">            str: one long hex string</span>

<span class="sd">        Example:</span>
<span class="sd">            ```python</span>
<span class="sd">            from screen_brightness_control import EDID</span>

<span class="sd">            print(EDID.hexdump(&#39;/sys/class/backlight/intel_backlight/device/edid&#39;))</span>
<span class="sd">            # &#39;00ffffffffffff00...&#39;</span>
<span class="sd">            ```</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">hex_str</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="s1">&#39;rb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">char</span> <span class="ow">in</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">():</span>
                <span class="k">if</span> <span class="n">char</span> <span class="o">&lt;</span> <span class="mi">16</span><span class="p">:</span>
                    <span class="c1"># hex values less than 16 get represented as single char</span>
                    <span class="c1"># eg: 15 -&gt; &#39;f&#39; instead of &#39;0f&#39;</span>
                    <span class="n">hex_str</span> <span class="o">+=</span> <span class="s1">&#39;0&#39;</span>
                <span class="n">hex_str</span> <span class="o">+=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">char</span><span class="si">:</span><span class="s1">x</span><span class="si">}</span><span class="s1">&#39;</span>  <span class="c1"># represent binary as hex string</span>

        <span class="k">return</span> <span class="n">hex_str</span>
</pre></div>

        </details>

            <div class="docstring"><p>Simple structure and method to extract monitor serial and name from an EDID string.</p>

<p>The EDID parsing was created with inspiration from the <a href="https://github.com/jojonas/pyedid">pyedid library</a></p>
</div>


                            <div id="EDID.__init__" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#EDID.__init__">#&nbsp;&nbsp</a>

        
            <span class="name">EDID</span><span class="signature">()</span>
    </div>

        
    

                            </div>
                            <div id="EDID.EDID_FORMAT" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#EDID.EDID_FORMAT">#&nbsp;&nbsp</a>

        <span class="name">EDID_FORMAT</span><span class="annotation">: str</span><span class="default_value"> = &#39;&gt;8sHHIBBBBBBBBB10sHB16s18s18s18s18sBB&#39;</span>
    </div>

            <div class="docstring"><p>The byte structure for EDID strings</p>
</div>


                            </div>
                            <div id="EDID.parse_edid" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#EDID.parse_edid">#&nbsp;&nbsp</a>

                <div class="decorator">@classmethod</div>

            <span class="def">def</span>
            <span class="name">parse_edid</span><span class="signature">(cls, edid: str) -&gt; Tuple[Optional[str], str]</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">parse_edid</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">edid</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">],</span> <span class="nb">str</span><span class="p">]:</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Takes an EDID string (as string hex, formatted as: &#39;00ffffff00...&#39;) and</span>
<span class="sd">        attempts to extract the monitor&#39;s name and serial number from it</span>

<span class="sd">        Args:</span>
<span class="sd">            edid (str): the edid string</span>

<span class="sd">        Returns:</span>
<span class="sd">            tuple: First item can be None or str. Second item is always str.</span>
<span class="sd">                This represents the name and serial respectively.</span>
<span class="sd">                If the name (first item) is None then this function likely</span>
<span class="sd">                failed to extract the serial correctly.</span>

<span class="sd">        Example:</span>
<span class="sd">            ```python</span>
<span class="sd">            import screen_brightness_control as sbc</span>

<span class="sd">            edid = sbc.list_monitors_info()[0][&#39;edid&#39;]</span>
<span class="sd">            name, serial = sbc.EDID.parse_edid(edid)</span>
<span class="sd">            if name is not None:</span>
<span class="sd">                print(&#39;Success!&#39;)</span>
<span class="sd">                print(&#39;Name:&#39;, name)</span>
<span class="sd">                print(&#39;Serial:&#39;, serial)</span>
<span class="sd">            else:</span>
<span class="sd">                print(&#39;Unable to extract the data&#39;)</span>
<span class="sd">            ```</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">def</span> <span class="nf">filter_hex</span><span class="p">(</span><span class="n">st</span><span class="p">):</span>
            <span class="n">st</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">st</span><span class="p">)</span>
            <span class="k">while</span> <span class="s1">&#39;</span><span class="se">\\</span><span class="s1">x&#39;</span> <span class="ow">in</span> <span class="n">st</span><span class="p">:</span>
                <span class="n">i</span> <span class="o">=</span> <span class="n">st</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\\</span><span class="s1">x&#39;</span><span class="p">)</span>
                <span class="n">st</span> <span class="o">=</span> <span class="n">st</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">st</span><span class="p">[</span><span class="n">i</span><span class="p">:</span><span class="n">i</span> <span class="o">+</span> <span class="mi">4</span><span class="p">],</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">st</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\\</span><span class="s1">n&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)[</span><span class="mi">2</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

        <span class="k">if</span> <span class="s1">&#39; &#39;</span> <span class="ow">in</span> <span class="n">edid</span><span class="p">:</span>
            <span class="n">edid</span> <span class="o">=</span> <span class="n">edid</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
        <span class="n">edid</span> <span class="o">=</span> <span class="nb">bytes</span><span class="o">.</span><span class="n">fromhex</span><span class="p">(</span><span class="n">edid</span><span class="p">)</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">struct</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="n">EDID_FORMAT</span><span class="p">,</span> <span class="n">edid</span><span class="p">)</span>
        <span class="n">serial</span> <span class="o">=</span> <span class="n">filter_hex</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="mi">18</span><span class="p">])</span>
        <span class="c1"># other info can be anywhere in this range, I don&#39;t know why</span>
        <span class="n">name</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">data</span><span class="p">[</span><span class="mi">19</span><span class="p">:</span><span class="mi">22</span><span class="p">]:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">st</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">)[</span><span class="mi">2</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">rstrip</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">)</span><span class="o">.</span><span class="n">rstrip</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\t</span><span class="s1">&#39;</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">st</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">)</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">st</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">:</span>
                    <span class="n">name</span> <span class="o">=</span> <span class="n">filter_hex</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">)</span>
                    <span class="n">name</span> <span class="o">=</span> <span class="n">name</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">capitalize</span><span class="p">()</span> <span class="o">+</span> <span class="s1">&#39; &#39;</span> <span class="o">+</span> <span class="n">name</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
            <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
                <span class="k">pass</span>
        <span class="k">return</span> <span class="n">name</span><span class="p">,</span> <span class="n">serial</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Takes an EDID string (as string hex, formatted as: '00ffffff00...') and
attempts to extract the monitor's name and serial number from it</p>

<h6 id="args">Args</h6>

<ul>
<li><strong>edid (str):</strong>  the edid string</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>tuple:</strong>  First item can be None or str. Second item is always str.
This represents the name and serial respectively.
If the name (first item) is None then this function likely
failed to extract the serial correctly.</li>
</ul>

<h6 id="example">Example</h6>

<blockquote>
  <div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="nn">screen_brightness_control</span> <span class="k">as</span> <span class="nn">sbc</span>

<span class="n">edid</span> <span class="o">=</span> <span class="n">sbc</span><span class="o">.</span><span class="n">list_monitors_info</span><span class="p">()[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;edid&#39;</span><span class="p">]</span>
<span class="n">name</span><span class="p">,</span> <span class="n">serial</span> <span class="o">=</span> <span class="n">sbc</span><span class="o">.</span><span class="n">EDID</span><span class="o">.</span><span class="n">parse_edid</span><span class="p">(</span><span class="n">edid</span><span class="p">)</span>
<span class="k">if</span> <span class="n">name</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Success!&#39;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Name:&#39;</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Serial:&#39;</span><span class="p">,</span> <span class="n">serial</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Unable to extract the data&#39;</span><span class="p">)</span>
</code></pre></div>
</blockquote>
</div>


                            </div>
                            <div id="EDID.hexdump" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#EDID.hexdump">#&nbsp;&nbsp</a>

                <div class="decorator">@staticmethod</div>

            <span class="def">def</span>
            <span class="name">hexdump</span><span class="signature">(file: str) -&gt; str</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">hexdump</span><span class="p">(</span><span class="n">file</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Returns a hexadecimal string of binary data from a file</span>

<span class="sd">        Args:</span>
<span class="sd">            file (str): the file to read</span>

<span class="sd">        Returns:</span>
<span class="sd">            str: one long hex string</span>

<span class="sd">        Example:</span>
<span class="sd">            ```python</span>
<span class="sd">            from screen_brightness_control import EDID</span>

<span class="sd">            print(EDID.hexdump(&#39;/sys/class/backlight/intel_backlight/device/edid&#39;))</span>
<span class="sd">            # &#39;00ffffffffffff00...&#39;</span>
<span class="sd">            ```</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">hex_str</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="s1">&#39;rb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">char</span> <span class="ow">in</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">():</span>
                <span class="k">if</span> <span class="n">char</span> <span class="o">&lt;</span> <span class="mi">16</span><span class="p">:</span>
                    <span class="c1"># hex values less than 16 get represented as single char</span>
                    <span class="c1"># eg: 15 -&gt; &#39;f&#39; instead of &#39;0f&#39;</span>
                    <span class="n">hex_str</span> <span class="o">+=</span> <span class="s1">&#39;0&#39;</span>
                <span class="n">hex_str</span> <span class="o">+=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">char</span><span class="si">:</span><span class="s1">x</span><span class="si">}</span><span class="s1">&#39;</span>  <span class="c1"># represent binary as hex string</span>

        <span class="k">return</span> <span class="n">hex_str</span>
</pre></div>

        </details>

            <div class="docstring"><p>Returns a hexadecimal string of binary data from a file</p>

<h6 id="args">Args</h6>

<ul>
<li><strong>file (str):</strong>  the file to read</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>str:</strong>  one long hex string</li>
</ul>

<h6 id="example">Example</h6>

<blockquote>
  <div class="codehilite"><pre><span></span><code><span class="kn">from</span> <span class="nn">screen_brightness_control</span> <span class="kn">import</span> <span class="n">EDID</span>

<span class="nb">print</span><span class="p">(</span><span class="n">EDID</span><span class="o">.</span><span class="n">hexdump</span><span class="p">(</span><span class="s1">&#39;/sys/class/backlight/intel_backlight/device/edid&#39;</span><span class="p">))</span>
<span class="c1"># &#39;00ffffffffffff00...&#39;</span>
</code></pre></div>
</blockquote>
</div>


                            </div>
                </section>
                <section id="ScreenBrightnessError">
                                <div class="attr class">
        <a class="headerlink" href="#ScreenBrightnessError">#&nbsp;&nbsp</a>

        
        <span class="def">class</span>
        <span class="name">ScreenBrightnessError</span><wbr>(<span class="base">builtins.Exception</span>):
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span><span class="k">class</span> <span class="nc">ScreenBrightnessError</span><span class="p">(</span><span class="ne">Exception</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Generic error class designed to make catching errors under one umbrella easy.</span>
<span class="sd">    Raised when the brightness cannot be set/retrieved.</span>

<span class="sd">    Example:</span>
<span class="sd">        ```python</span>
<span class="sd">        import screen_brightness_control as sbc</span>
<span class="sd">        try:</span>
<span class="sd">            sbc.set_brightness(50)</span>
<span class="sd">        except sbc.ScreenBrightnessError as error:</span>
<span class="sd">            print(error)</span>
<span class="sd">        ```</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="o">=</span><span class="s2">&quot;Cannot set/retrieve brightness level&quot;</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">message</span> <span class="o">=</span> <span class="n">message</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">message</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Generic error class designed to make catching errors under one umbrella easy.
Raised when the brightness cannot be set/retrieved.</p>

<h6 id="example">Example</h6>

<blockquote>
  <div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="nn">screen_brightness_control</span> <span class="k">as</span> <span class="nn">sbc</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">sbc</span><span class="o">.</span><span class="n">set_brightness</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
<span class="k">except</span> <span class="n">sbc</span><span class="o">.</span><span class="n">ScreenBrightnessError</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">error</span><span class="p">)</span>
</code></pre></div>
</blockquote>
</div>


                            <div id="ScreenBrightnessError.__init__" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#ScreenBrightnessError.__init__">#&nbsp;&nbsp</a>

        
            <span class="name">ScreenBrightnessError</span><span class="signature">(message=&#39;Cannot set/retrieve brightness level&#39;)</span>
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="o">=</span><span class="s2">&quot;Cannot set/retrieve brightness level&quot;</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">message</span> <span class="o">=</span> <span class="n">message</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">message</span><span class="p">)</span>
</pre></div>

        </details>

    

                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>builtins.BaseException</dt>
                                <dd id="ScreenBrightnessError.with_traceback" class="function">with_traceback</dd>
                <dd id="ScreenBrightnessError.args" class="variable">args</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="Monitor">
                                <div class="attr class">
        <a class="headerlink" href="#Monitor">#&nbsp;&nbsp</a>

        
        <span class="def">class</span>
        <span class="name">Monitor</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span><span class="k">class</span> <span class="nc">Monitor</span><span class="p">():</span>
    <span class="sd">&#39;&#39;&#39;A class to manage a single monitor and its relevant information&#39;&#39;&#39;</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">display</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="nb">dict</span><span class="p">]):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Args:</span>
<span class="sd">            display (int or str or dict): the index/name/model name/serial/edid</span>
<span class="sd">                of the display you wish to control. Is passed to `filter_monitors`</span>
<span class="sd">                to decide which display to use.</span>

<span class="sd">        Raises:</span>
<span class="sd">            LookupError: if a matching display could not be found</span>
<span class="sd">            TypeError: if the given display type is not int or str</span>

<span class="sd">        Example:</span>
<span class="sd">            ```python</span>
<span class="sd">            import screen_brightness_control as sbc</span>

<span class="sd">            # create a class for the primary monitor and then a specifically named monitor</span>
<span class="sd">            primary = sbc.Monitor(0)</span>
<span class="sd">            benq_monitor = sbc.Monitor(&#39;BenQ GL2450H&#39;)</span>

<span class="sd">            # check if the benq monitor is the primary one</span>
<span class="sd">            if primary.serial == benq_monitor.serial:</span>
<span class="sd">                print(&#39;BenQ GL2450HM is the primary display&#39;)</span>
<span class="sd">            else:</span>
<span class="sd">                print(&#39;The primary display is&#39;, primary.name)</span>

<span class="sd">            # this class can also be accessed like a dictionary</span>
<span class="sd">            print(primary[&#39;name&#39;])</span>
<span class="sd">            print(benq_monitor[&#39;name&#39;])</span>
<span class="sd">            ```</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">monitors_info</span> <span class="o">=</span> <span class="n">list_monitors_info</span><span class="p">(</span><span class="n">allow_duplicates</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">display</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">display</span> <span class="ow">in</span> <span class="n">monitors_info</span><span class="p">:</span>
                <span class="n">info</span> <span class="o">=</span> <span class="n">display</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">info</span> <span class="o">=</span> <span class="n">filter_monitors</span><span class="p">(</span>
                    <span class="n">display</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">get_identifier</span><span class="p">(</span><span class="n">display</span><span class="p">),</span>
                    <span class="n">haystack</span><span class="o">=</span><span class="n">monitors_info</span>
                <span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">info</span> <span class="o">=</span> <span class="n">filter_monitors</span><span class="p">(</span><span class="n">display</span><span class="o">=</span><span class="n">display</span><span class="p">,</span> <span class="n">haystack</span><span class="o">=</span><span class="n">monitors_info</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>

        <span class="c1"># make a copy so that we don&#39;t alter the dict in-place</span>
        <span class="n">info</span> <span class="o">=</span> <span class="n">info</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">serial</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">info</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;serial&#39;</span><span class="p">)</span>
        <span class="sd">&#39;&#39;&#39;the serial number of the display or (if serial is not available) an ID assigned by the OS&#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">info</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">)</span>
        <span class="sd">&#39;&#39;&#39;the monitors manufacturer name plus its model&#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">method</span> <span class="o">=</span> <span class="n">info</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;method&#39;</span><span class="p">)</span>
        <span class="sd">&#39;&#39;&#39;the method by which this monitor can be addressed.</span>
<span class="sd">        This will be a class from either the windows or linux sub-module&#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">manufacturer</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">info</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;manufacturer&#39;</span><span class="p">)</span>
        <span class="sd">&#39;&#39;&#39;the name of the brand of the monitor&#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">manufacturer_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">info</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;manufacturer_id&#39;</span><span class="p">)</span>
        <span class="sd">&#39;&#39;&#39;the 3 letter manufacturing code corresponding to the manufacturer name&#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">info</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;model&#39;</span><span class="p">)</span>
        <span class="sd">&#39;&#39;&#39;the general model of the display&#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">index</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">info</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;index&#39;</span><span class="p">)</span>
        <span class="sd">&#39;&#39;&#39;the index of the monitor FOR THE SPECIFIC METHOD THIS MONITOR USES.&#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">edid</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">info</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;edid&#39;</span><span class="p">)</span>
        <span class="sd">&#39;&#39;&#39;a unique string returned by the monitor that contains its DDC capabilities, serial and name&#39;&#39;&#39;</span>

        <span class="c1"># this assigns any extra info that is returned to this class</span>
        <span class="c1"># eg: the &#39;interface&#39; key in XRandr monitors on Linux</span>
        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">info</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="nb">setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_identifier</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">monitor</span><span class="p">:</span> <span class="nb">dict</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]:</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Returns the piece of information used to identify this monitor.</span>
<span class="sd">        Will iterate through the EDID, serial, name and index and return the first</span>
<span class="sd">        value that is not equal to None</span>

<span class="sd">        Args:</span>
<span class="sd">            monitor (dict): extract an identifier from this dict instead of the monitor class</span>

<span class="sd">        Returns:</span>
<span class="sd">            tuple: the name of the property returned and the value of said property.</span>
<span class="sd">                EG: `(&#39;serial&#39;, &#39;123abc...&#39;)` or `(&#39;name&#39;, &#39;BenQ GL2450H&#39;)`</span>

<span class="sd">        Example:</span>
<span class="sd">            ```python</span>
<span class="sd">            import screen_brightness_control as sbc</span>
<span class="sd">            primary = sbc.Monitor(0)</span>
<span class="sd">            print(primary.get_identifier())  # eg: (&#39;serial&#39;, &#39;123abc...&#39;)</span>

<span class="sd">            secondary = sbc.list_monitors_info()[1]</span>
<span class="sd">            print(primary.get_identifier(monitor=secondary))  # eg: (&#39;serial&#39;, &#39;456def...&#39;)</span>

<span class="sd">            # you can also use the class uninitialized</span>
<span class="sd">            print(sbc.Monitor.get_identifier(secondary))  # eg: (&#39;serial&#39;, &#39;456def...&#39;)</span>
<span class="sd">            ```</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="n">monitor</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">monitor</span> <span class="o">=</span> <span class="bp">self</span>

        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="p">(</span><span class="s1">&#39;edid&#39;</span><span class="p">,</span> <span class="s1">&#39;serial&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;index&#39;</span><span class="p">):</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">monitor</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span>

    <span class="k">def</span> <span class="nf">set_brightness</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">no_return</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="nb">int</span><span class="p">]:</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Sets the brightness for this display. See `set_brightness` for the full docs</span>

<span class="sd">        Args:</span>
<span class="sd">            value (int): the brightness value to set the display to (from 0 to 100)</span>
<span class="sd">            no_return (bool): if true, this function returns `None`</span>
<span class="sd">                Otherwise it returns the result of `Monitor.get_brightness`</span>

<span class="sd">        Returns:</span>
<span class="sd">            None: if `no_return==True`</span>
<span class="sd">            int: from 0 to 100</span>

<span class="sd">        Example:</span>
<span class="sd">            ```python</span>
<span class="sd">            import screen_brightness_control as sbc</span>

<span class="sd">            # set the brightness of the primary monitor to 50%</span>
<span class="sd">            primary = sbc.Monitor(0)</span>
<span class="sd">            primary.set_brightness(50)</span>
<span class="sd">            ```</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="c1"># refresh display info, in case another display has been unplugged or something</span>
        <span class="c1"># which would change the index of this display</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">get_info</span><span class="p">()</span>
        <span class="n">value</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">min</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="mi">100</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">method</span><span class="o">.</span><span class="n">set_brightness</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">display</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">no_return</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_brightness</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">get_brightness</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Returns the brightness of this display.</span>

<span class="sd">        Returns:</span>
<span class="sd">            int: from 0 to 100</span>

<span class="sd">        Example:</span>
<span class="sd">            ```python</span>
<span class="sd">            import screen_brightness_control as sbc</span>

<span class="sd">            # get the brightness of the primary monitor</span>
<span class="sd">            primary = sbc.Monitor(0)</span>
<span class="sd">            primary_brightness = primary.get_brightness()</span>
<span class="sd">            ```</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="c1"># refresh display info, in case another display has been unplugged or something</span>
        <span class="c1"># which would change the index of this display</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">get_info</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">method</span><span class="o">.</span><span class="n">get_brightness</span><span class="p">(</span><span class="n">display</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">index</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">fade_brightness</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">,</span> <span class="nb">int</span><span class="p">]:</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Fades the brightness for this display. See `fade_brightness` for the full docs</span>

<span class="sd">        Args:</span>
<span class="sd">            args (tuple): passed directly to `fade_brightness`</span>
<span class="sd">            kwargs (dict): passed directly to `fade_brightness`.</span>
<span class="sd">                The `display` and `method` kwargs are always</span>
<span class="sd">                overwritten.</span>

<span class="sd">        Returns:</span>
<span class="sd">            threading.Thread: if the the blocking kwarg is False</span>
<span class="sd">            int: if the blocking kwarg is True</span>

<span class="sd">        Example:</span>
<span class="sd">            ```python</span>
<span class="sd">            import screen_brightness_control as sbc</span>

<span class="sd">            # fade the brightness of the primary monitor to 50%</span>
<span class="sd">            primary = sbc.Monitor(0)</span>
<span class="sd">            primary.fade_brightness(50)</span>
<span class="sd">            ```</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="c1"># refresh display info, in case another display has been unplugged or something</span>
        <span class="c1"># which would change the index of this display</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">get_info</span><span class="p">(</span><span class="n">refresh</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;display&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">index</span>
        <span class="c1"># the reason we override the method kwarg here is that</span>
        <span class="c1"># the &#39;index&#39; is method specific and `fade_brightness`</span>
        <span class="c1"># is a top-level function. `self.set_brightness` and `self.get_brightness`</span>
        <span class="c1"># call directly to the method so they don&#39;t need this step</span>
        <span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;method&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">method</span><span class="o">.</span><span class="vm">__name__</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>

        <span class="n">brightness</span> <span class="o">=</span> <span class="n">fade_brightness</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="c1"># fade_brightness will call the top-level get_brightness</span>
        <span class="c1"># function, which will return list OR int</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">brightness</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">brightness</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">brightness</span>

    <span class="k">def</span> <span class="nf">get_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">refresh</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Returns all known information about this monitor instance</span>

<span class="sd">        Args:</span>
<span class="sd">            refresh (bool): whether to refresh the information</span>
<span class="sd">                or to return the cached version</span>

<span class="sd">        Returns:</span>
<span class="sd">            dict</span>

<span class="sd">        Example:</span>
<span class="sd">            ```python</span>
<span class="sd">            import screen_brightness_control as sbc</span>

<span class="sd">            # initialize class for primary monitor</span>
<span class="sd">            primary = sbc.Monitor(0)</span>
<span class="sd">            # get the info</span>
<span class="sd">            info = primary.get_info()</span>
<span class="sd">            ```</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">refresh</span><span class="p">:</span>
            <span class="k">return</span> <span class="nb">vars</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

        <span class="n">identifier</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_identifier</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">identifier</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="c1"># refresh the info we have on this monitor</span>
            <span class="n">info</span> <span class="o">=</span> <span class="n">filter_monitors</span><span class="p">(</span><span class="n">display</span><span class="o">=</span><span class="n">identifier</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">method</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">method</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
            <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">info</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="nb">setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>

        <span class="k">return</span> <span class="nb">vars</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">is_active</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Attempts to retrieve the brightness for this display. If it works the display is deemed active</span>

<span class="sd">        Returns:</span>
<span class="sd">            bool: True means active, False means inactive</span>

<span class="sd">        Example:</span>
<span class="sd">            ```python</span>
<span class="sd">            import screen_brightness_control as sbc</span>

<span class="sd">            primary = sbc.Monitor(0)</span>
<span class="sd">            if primary.is_active():</span>
<span class="sd">                primary.set_brightness(50)</span>
<span class="sd">            ```</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">get_brightness</span><span class="p">()</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>
</pre></div>

        </details>

            <div class="docstring"><p>A class to manage a single monitor and its relevant information</p>
</div>


                            <div id="Monitor.__init__" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Monitor.__init__">#&nbsp;&nbsp</a>

        
            <span class="name">Monitor</span><span class="signature">(display: Union[int, str, dict])</span>
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">display</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="nb">dict</span><span class="p">]):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Args:</span>
<span class="sd">            display (int or str or dict): the index/name/model name/serial/edid</span>
<span class="sd">                of the display you wish to control. Is passed to `filter_monitors`</span>
<span class="sd">                to decide which display to use.</span>

<span class="sd">        Raises:</span>
<span class="sd">            LookupError: if a matching display could not be found</span>
<span class="sd">            TypeError: if the given display type is not int or str</span>

<span class="sd">        Example:</span>
<span class="sd">            ```python</span>
<span class="sd">            import screen_brightness_control as sbc</span>

<span class="sd">            # create a class for the primary monitor and then a specifically named monitor</span>
<span class="sd">            primary = sbc.Monitor(0)</span>
<span class="sd">            benq_monitor = sbc.Monitor(&#39;BenQ GL2450H&#39;)</span>

<span class="sd">            # check if the benq monitor is the primary one</span>
<span class="sd">            if primary.serial == benq_monitor.serial:</span>
<span class="sd">                print(&#39;BenQ GL2450HM is the primary display&#39;)</span>
<span class="sd">            else:</span>
<span class="sd">                print(&#39;The primary display is&#39;, primary.name)</span>

<span class="sd">            # this class can also be accessed like a dictionary</span>
<span class="sd">            print(primary[&#39;name&#39;])</span>
<span class="sd">            print(benq_monitor[&#39;name&#39;])</span>
<span class="sd">            ```</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">monitors_info</span> <span class="o">=</span> <span class="n">list_monitors_info</span><span class="p">(</span><span class="n">allow_duplicates</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">display</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">display</span> <span class="ow">in</span> <span class="n">monitors_info</span><span class="p">:</span>
                <span class="n">info</span> <span class="o">=</span> <span class="n">display</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">info</span> <span class="o">=</span> <span class="n">filter_monitors</span><span class="p">(</span>
                    <span class="n">display</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">get_identifier</span><span class="p">(</span><span class="n">display</span><span class="p">),</span>
                    <span class="n">haystack</span><span class="o">=</span><span class="n">monitors_info</span>
                <span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">info</span> <span class="o">=</span> <span class="n">filter_monitors</span><span class="p">(</span><span class="n">display</span><span class="o">=</span><span class="n">display</span><span class="p">,</span> <span class="n">haystack</span><span class="o">=</span><span class="n">monitors_info</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>

        <span class="c1"># make a copy so that we don&#39;t alter the dict in-place</span>
        <span class="n">info</span> <span class="o">=</span> <span class="n">info</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">serial</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">info</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;serial&#39;</span><span class="p">)</span>
        <span class="sd">&#39;&#39;&#39;the serial number of the display or (if serial is not available) an ID assigned by the OS&#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">info</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">)</span>
        <span class="sd">&#39;&#39;&#39;the monitors manufacturer name plus its model&#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">method</span> <span class="o">=</span> <span class="n">info</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;method&#39;</span><span class="p">)</span>
        <span class="sd">&#39;&#39;&#39;the method by which this monitor can be addressed.</span>
<span class="sd">        This will be a class from either the windows or linux sub-module&#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">manufacturer</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">info</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;manufacturer&#39;</span><span class="p">)</span>
        <span class="sd">&#39;&#39;&#39;the name of the brand of the monitor&#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">manufacturer_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">info</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;manufacturer_id&#39;</span><span class="p">)</span>
        <span class="sd">&#39;&#39;&#39;the 3 letter manufacturing code corresponding to the manufacturer name&#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">info</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;model&#39;</span><span class="p">)</span>
        <span class="sd">&#39;&#39;&#39;the general model of the display&#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">index</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">info</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;index&#39;</span><span class="p">)</span>
        <span class="sd">&#39;&#39;&#39;the index of the monitor FOR THE SPECIFIC METHOD THIS MONITOR USES.&#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">edid</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">info</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;edid&#39;</span><span class="p">)</span>
        <span class="sd">&#39;&#39;&#39;a unique string returned by the monitor that contains its DDC capabilities, serial and name&#39;&#39;&#39;</span>

        <span class="c1"># this assigns any extra info that is returned to this class</span>
        <span class="c1"># eg: the &#39;interface&#39; key in XRandr monitors on Linux</span>
        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">info</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="nb">setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><h6 id="args">Args</h6>

<ul>
<li><strong>display (int or str or dict):</strong>  the index/name/model name/serial/edid
of the display you wish to control. Is passed to <code><a href="#filter_monitors">filter_monitors</a></code>
to decide which display to use.</li>
</ul>

<h6 id="raises">Raises</h6>

<ul>
<li><strong>LookupError:</strong>  if a matching display could not be found</li>
<li><strong>TypeError:</strong>  if the given display type is not int or str</li>
</ul>

<h6 id="example">Example</h6>

<blockquote>
  <div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="nn">screen_brightness_control</span> <span class="k">as</span> <span class="nn">sbc</span>

<span class="c1"># create a class for the primary monitor and then a specifically named monitor</span>
<span class="n">primary</span> <span class="o">=</span> <span class="n">sbc</span><span class="o">.</span><span class="n">Monitor</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="n">benq_monitor</span> <span class="o">=</span> <span class="n">sbc</span><span class="o">.</span><span class="n">Monitor</span><span class="p">(</span><span class="s1">&#39;BenQ GL2450H&#39;</span><span class="p">)</span>

<span class="c1"># check if the benq monitor is the primary one</span>
<span class="k">if</span> <span class="n">primary</span><span class="o">.</span><span class="n">serial</span> <span class="o">==</span> <span class="n">benq_monitor</span><span class="o">.</span><span class="n">serial</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;BenQ GL2450HM is the primary display&#39;</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The primary display is&#39;</span><span class="p">,</span> <span class="n">primary</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>

<span class="c1"># this class can also be accessed like a dictionary</span>
<span class="nb">print</span><span class="p">(</span><span class="n">primary</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">benq_monitor</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">])</span>
</code></pre></div>
</blockquote>
</div>


                            </div>
                            <div id="Monitor.serial" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Monitor.serial">#&nbsp;&nbsp</a>

        <span class="name">serial</span><span class="annotation">: str</span>
    </div>

            <div class="docstring"><p>the serial number of the display or (if serial is not available) an ID assigned by the OS</p>
</div>


                            </div>
                            <div id="Monitor.name" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Monitor.name">#&nbsp;&nbsp</a>

        <span class="name">name</span><span class="annotation">: str</span>
    </div>

            <div class="docstring"><p>the monitors manufacturer name plus its model</p>
</div>


                            </div>
                            <div id="Monitor.method" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Monitor.method">#&nbsp;&nbsp</a>

        <span class="name">method</span>
    </div>

            <div class="docstring"><p>the method by which this monitor can be addressed.
This will be a class from either the windows or linux sub-module</p>
</div>


                            </div>
                            <div id="Monitor.manufacturer" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Monitor.manufacturer">#&nbsp;&nbsp</a>

        <span class="name">manufacturer</span><span class="annotation">: str</span>
    </div>

            <div class="docstring"><p>the name of the brand of the monitor</p>
</div>


                            </div>
                            <div id="Monitor.manufacturer_id" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Monitor.manufacturer_id">#&nbsp;&nbsp</a>

        <span class="name">manufacturer_id</span><span class="annotation">: str</span>
    </div>

            <div class="docstring"><p>the 3 letter manufacturing code corresponding to the manufacturer name</p>
</div>


                            </div>
                            <div id="Monitor.model" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Monitor.model">#&nbsp;&nbsp</a>

        <span class="name">model</span><span class="annotation">: str</span>
    </div>

            <div class="docstring"><p>the general model of the display</p>
</div>


                            </div>
                            <div id="Monitor.index" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Monitor.index">#&nbsp;&nbsp</a>

        <span class="name">index</span><span class="annotation">: int</span>
    </div>

            <div class="docstring"><p>the index of the monitor FOR THE SPECIFIC METHOD THIS MONITOR USES.</p>
</div>


                            </div>
                            <div id="Monitor.edid" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Monitor.edid">#&nbsp;&nbsp</a>

        <span class="name">edid</span><span class="annotation">: str</span>
    </div>

            <div class="docstring"><p>a unique string returned by the monitor that contains its DDC capabilities, serial and name</p>
</div>


                            </div>
                            <div id="Monitor.get_identifier" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Monitor.get_identifier">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">get_identifier</span><span class="signature">(self, monitor: dict = None) -&gt; Tuple[str, Union[int, str]]</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">get_identifier</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">monitor</span><span class="p">:</span> <span class="nb">dict</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]:</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Returns the piece of information used to identify this monitor.</span>
<span class="sd">        Will iterate through the EDID, serial, name and index and return the first</span>
<span class="sd">        value that is not equal to None</span>

<span class="sd">        Args:</span>
<span class="sd">            monitor (dict): extract an identifier from this dict instead of the monitor class</span>

<span class="sd">        Returns:</span>
<span class="sd">            tuple: the name of the property returned and the value of said property.</span>
<span class="sd">                EG: `(&#39;serial&#39;, &#39;123abc...&#39;)` or `(&#39;name&#39;, &#39;BenQ GL2450H&#39;)`</span>

<span class="sd">        Example:</span>
<span class="sd">            ```python</span>
<span class="sd">            import screen_brightness_control as sbc</span>
<span class="sd">            primary = sbc.Monitor(0)</span>
<span class="sd">            print(primary.get_identifier())  # eg: (&#39;serial&#39;, &#39;123abc...&#39;)</span>

<span class="sd">            secondary = sbc.list_monitors_info()[1]</span>
<span class="sd">            print(primary.get_identifier(monitor=secondary))  # eg: (&#39;serial&#39;, &#39;456def...&#39;)</span>

<span class="sd">            # you can also use the class uninitialized</span>
<span class="sd">            print(sbc.Monitor.get_identifier(secondary))  # eg: (&#39;serial&#39;, &#39;456def...&#39;)</span>
<span class="sd">            ```</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="n">monitor</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">monitor</span> <span class="o">=</span> <span class="bp">self</span>

        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="p">(</span><span class="s1">&#39;edid&#39;</span><span class="p">,</span> <span class="s1">&#39;serial&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;index&#39;</span><span class="p">):</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">monitor</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span>
</pre></div>

        </details>

            <div class="docstring"><p>Returns the piece of information used to identify this monitor.
Will iterate through the EDID, serial, name and index and return the first
value that is not equal to None</p>

<h6 id="args">Args</h6>

<ul>
<li><strong>monitor (dict):</strong>  extract an identifier from this dict instead of the monitor class</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>tuple:</strong>  the name of the property returned and the value of said property.
EG: <code>('serial', '123abc...')</code> or <code>('name', 'BenQ GL2450H')</code></li>
</ul>

<h6 id="example">Example</h6>

<blockquote>
  <div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="nn">screen_brightness_control</span> <span class="k">as</span> <span class="nn">sbc</span>
<span class="n">primary</span> <span class="o">=</span> <span class="n">sbc</span><span class="o">.</span><span class="n">Monitor</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">primary</span><span class="o">.</span><span class="n">get_identifier</span><span class="p">())</span>  <span class="c1"># eg: (&#39;serial&#39;, &#39;123abc...&#39;)</span>

<span class="n">secondary</span> <span class="o">=</span> <span class="n">sbc</span><span class="o">.</span><span class="n">list_monitors_info</span><span class="p">()[</span><span class="mi">1</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">primary</span><span class="o">.</span><span class="n">get_identifier</span><span class="p">(</span><span class="n">monitor</span><span class="o">=</span><span class="n">secondary</span><span class="p">))</span>  <span class="c1"># eg: (&#39;serial&#39;, &#39;456def...&#39;)</span>

<span class="c1"># you can also use the class uninitialized</span>
<span class="nb">print</span><span class="p">(</span><span class="n">sbc</span><span class="o">.</span><span class="n">Monitor</span><span class="o">.</span><span class="n">get_identifier</span><span class="p">(</span><span class="n">secondary</span><span class="p">))</span>  <span class="c1"># eg: (&#39;serial&#39;, &#39;456def...&#39;)</span>
</code></pre></div>
</blockquote>
</div>


                            </div>
                            <div id="Monitor.set_brightness" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Monitor.set_brightness">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_brightness</span><span class="signature">(self, value: int, no_return: bool = True) -&gt; Optional[int]</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">set_brightness</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">no_return</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="nb">int</span><span class="p">]:</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Sets the brightness for this display. See `set_brightness` for the full docs</span>

<span class="sd">        Args:</span>
<span class="sd">            value (int): the brightness value to set the display to (from 0 to 100)</span>
<span class="sd">            no_return (bool): if true, this function returns `None`</span>
<span class="sd">                Otherwise it returns the result of `Monitor.get_brightness`</span>

<span class="sd">        Returns:</span>
<span class="sd">            None: if `no_return==True`</span>
<span class="sd">            int: from 0 to 100</span>

<span class="sd">        Example:</span>
<span class="sd">            ```python</span>
<span class="sd">            import screen_brightness_control as sbc</span>

<span class="sd">            # set the brightness of the primary monitor to 50%</span>
<span class="sd">            primary = sbc.Monitor(0)</span>
<span class="sd">            primary.set_brightness(50)</span>
<span class="sd">            ```</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="c1"># refresh display info, in case another display has been unplugged or something</span>
        <span class="c1"># which would change the index of this display</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">get_info</span><span class="p">()</span>
        <span class="n">value</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">min</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="mi">100</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">method</span><span class="o">.</span><span class="n">set_brightness</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">display</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">no_return</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_brightness</span><span class="p">()</span>
</pre></div>

        </details>

            <div class="docstring"><p>Sets the brightness for this display. See <code><a href="#Monitor.set_brightness">set_brightness</a></code> for the full docs</p>

<h6 id="args">Args</h6>

<ul>
<li><strong>value (int):</strong>  the brightness value to set the display to (from 0 to 100)</li>
<li><strong>no_return (bool):</strong>  if true, this function returns <code>None</code>
Otherwise it returns the result of <code><a href="#Monitor.get_brightness">Monitor.get_brightness</a></code></li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>None:</strong>  if <code>no_return==True</code></li>
<li><strong>int:</strong>  from 0 to 100</li>
</ul>

<h6 id="example">Example</h6>

<blockquote>
  <div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="nn">screen_brightness_control</span> <span class="k">as</span> <span class="nn">sbc</span>

<span class="c1"># set the brightness of the primary monitor to 50%</span>
<span class="n">primary</span> <span class="o">=</span> <span class="n">sbc</span><span class="o">.</span><span class="n">Monitor</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="n">primary</span><span class="o">.</span><span class="n">set_brightness</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
</code></pre></div>
</blockquote>
</div>


                            </div>
                            <div id="Monitor.get_brightness" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Monitor.get_brightness">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">get_brightness</span><span class="signature">(self) -&gt; int</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">get_brightness</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Returns the brightness of this display.</span>

<span class="sd">        Returns:</span>
<span class="sd">            int: from 0 to 100</span>

<span class="sd">        Example:</span>
<span class="sd">            ```python</span>
<span class="sd">            import screen_brightness_control as sbc</span>

<span class="sd">            # get the brightness of the primary monitor</span>
<span class="sd">            primary = sbc.Monitor(0)</span>
<span class="sd">            primary_brightness = primary.get_brightness()</span>
<span class="sd">            ```</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="c1"># refresh display info, in case another display has been unplugged or something</span>
        <span class="c1"># which would change the index of this display</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">get_info</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">method</span><span class="o">.</span><span class="n">get_brightness</span><span class="p">(</span><span class="n">display</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">index</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>

        </details>

            <div class="docstring"><p>Returns the brightness of this display.</p>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>int:</strong>  from 0 to 100</li>
</ul>

<h6 id="example">Example</h6>

<blockquote>
  <div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="nn">screen_brightness_control</span> <span class="k">as</span> <span class="nn">sbc</span>

<span class="c1"># get the brightness of the primary monitor</span>
<span class="n">primary</span> <span class="o">=</span> <span class="n">sbc</span><span class="o">.</span><span class="n">Monitor</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="n">primary_brightness</span> <span class="o">=</span> <span class="n">primary</span><span class="o">.</span><span class="n">get_brightness</span><span class="p">()</span>
</code></pre></div>
</blockquote>
</div>


                            </div>
                            <div id="Monitor.fade_brightness" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Monitor.fade_brightness">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">fade_brightness</span><span class="signature">(self, *args, **kwargs) -&gt; Union[threading.Thread, int]</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">fade_brightness</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">,</span> <span class="nb">int</span><span class="p">]:</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Fades the brightness for this display. See `fade_brightness` for the full docs</span>

<span class="sd">        Args:</span>
<span class="sd">            args (tuple): passed directly to `fade_brightness`</span>
<span class="sd">            kwargs (dict): passed directly to `fade_brightness`.</span>
<span class="sd">                The `display` and `method` kwargs are always</span>
<span class="sd">                overwritten.</span>

<span class="sd">        Returns:</span>
<span class="sd">            threading.Thread: if the the blocking kwarg is False</span>
<span class="sd">            int: if the blocking kwarg is True</span>

<span class="sd">        Example:</span>
<span class="sd">            ```python</span>
<span class="sd">            import screen_brightness_control as sbc</span>

<span class="sd">            # fade the brightness of the primary monitor to 50%</span>
<span class="sd">            primary = sbc.Monitor(0)</span>
<span class="sd">            primary.fade_brightness(50)</span>
<span class="sd">            ```</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="c1"># refresh display info, in case another display has been unplugged or something</span>
        <span class="c1"># which would change the index of this display</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">get_info</span><span class="p">(</span><span class="n">refresh</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;display&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">index</span>
        <span class="c1"># the reason we override the method kwarg here is that</span>
        <span class="c1"># the &#39;index&#39; is method specific and `fade_brightness`</span>
        <span class="c1"># is a top-level function. `self.set_brightness` and `self.get_brightness`</span>
        <span class="c1"># call directly to the method so they don&#39;t need this step</span>
        <span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;method&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">method</span><span class="o">.</span><span class="vm">__name__</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>

        <span class="n">brightness</span> <span class="o">=</span> <span class="n">fade_brightness</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="c1"># fade_brightness will call the top-level get_brightness</span>
        <span class="c1"># function, which will return list OR int</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">brightness</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">brightness</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">brightness</span>
</pre></div>

        </details>

            <div class="docstring"><p>Fades the brightness for this display. See <code><a href="#Monitor.fade_brightness">fade_brightness</a></code> for the full docs</p>

<h6 id="args">Args</h6>

<ul>
<li><strong>args (tuple):</strong>  passed directly to <code><a href="#Monitor.fade_brightness">fade_brightness</a></code></li>
<li><strong>kwargs (dict):</strong>  passed directly to <code><a href="#Monitor.fade_brightness">fade_brightness</a></code>.
The <code>display</code> and <code><a href="#Monitor.method">method</a></code> kwargs are always
overwritten.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>threading.Thread:</strong>  if the the blocking kwarg is False</li>
<li><strong>int:</strong>  if the blocking kwarg is True</li>
</ul>

<h6 id="example">Example</h6>

<blockquote>
  <div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="nn">screen_brightness_control</span> <span class="k">as</span> <span class="nn">sbc</span>

<span class="c1"># fade the brightness of the primary monitor to 50%</span>
<span class="n">primary</span> <span class="o">=</span> <span class="n">sbc</span><span class="o">.</span><span class="n">Monitor</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="n">primary</span><span class="o">.</span><span class="n">fade_brightness</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
</code></pre></div>
</blockquote>
</div>


                            </div>
                            <div id="Monitor.get_info" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Monitor.get_info">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">get_info</span><span class="signature">(self, refresh: bool = True) -&gt; dict</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">get_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">refresh</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Returns all known information about this monitor instance</span>

<span class="sd">        Args:</span>
<span class="sd">            refresh (bool): whether to refresh the information</span>
<span class="sd">                or to return the cached version</span>

<span class="sd">        Returns:</span>
<span class="sd">            dict</span>

<span class="sd">        Example:</span>
<span class="sd">            ```python</span>
<span class="sd">            import screen_brightness_control as sbc</span>

<span class="sd">            # initialize class for primary monitor</span>
<span class="sd">            primary = sbc.Monitor(0)</span>
<span class="sd">            # get the info</span>
<span class="sd">            info = primary.get_info()</span>
<span class="sd">            ```</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">refresh</span><span class="p">:</span>
            <span class="k">return</span> <span class="nb">vars</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

        <span class="n">identifier</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_identifier</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">identifier</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="c1"># refresh the info we have on this monitor</span>
            <span class="n">info</span> <span class="o">=</span> <span class="n">filter_monitors</span><span class="p">(</span><span class="n">display</span><span class="o">=</span><span class="n">identifier</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">method</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">method</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
            <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">info</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="nb">setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>

        <span class="k">return</span> <span class="nb">vars</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Returns all known information about this monitor instance</p>

<h6 id="args">Args</h6>

<ul>
<li><strong>refresh (bool):</strong>  whether to refresh the information
or to return the cached version</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li>dict</li>
</ul>

<h6 id="example">Example</h6>

<blockquote>
  <div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="nn">screen_brightness_control</span> <span class="k">as</span> <span class="nn">sbc</span>

<span class="c1"># initialize class for primary monitor</span>
<span class="n">primary</span> <span class="o">=</span> <span class="n">sbc</span><span class="o">.</span><span class="n">Monitor</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="c1"># get the info</span>
<span class="n">info</span> <span class="o">=</span> <span class="n">primary</span><span class="o">.</span><span class="n">get_info</span><span class="p">()</span>
</code></pre></div>
</blockquote>
</div>


                            </div>
                            <div id="Monitor.is_active" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Monitor.is_active">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">is_active</span><span class="signature">(self) -&gt; bool</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">is_active</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Attempts to retrieve the brightness for this display. If it works the display is deemed active</span>

<span class="sd">        Returns:</span>
<span class="sd">            bool: True means active, False means inactive</span>

<span class="sd">        Example:</span>
<span class="sd">            ```python</span>
<span class="sd">            import screen_brightness_control as sbc</span>

<span class="sd">            primary = sbc.Monitor(0)</span>
<span class="sd">            if primary.is_active():</span>
<span class="sd">                primary.set_brightness(50)</span>
<span class="sd">            ```</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">get_brightness</span><span class="p">()</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>
</pre></div>

        </details>

            <div class="docstring"><p>Attempts to retrieve the brightness for this display. If it works the display is deemed active</p>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>bool:</strong>  True means active, False means inactive</li>
</ul>

<h6 id="example">Example</h6>

<blockquote>
  <div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="nn">screen_brightness_control</span> <span class="k">as</span> <span class="nn">sbc</span>

<span class="n">primary</span> <span class="o">=</span> <span class="n">sbc</span><span class="o">.</span><span class="n">Monitor</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="k">if</span> <span class="n">primary</span><span class="o">.</span><span class="n">is_active</span><span class="p">():</span>
    <span class="n">primary</span><span class="o">.</span><span class="n">set_brightness</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
</code></pre></div>
</blockquote>
</div>


                            </div>
                </section>
                <section id="filter_monitors">
                            <div class="attr function"><a class="headerlink" href="#filter_monitors">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">filter_monitors</span><span class="signature">(
    display: Union[str, int, NoneType] = None,
    haystack: Optional[List[dict]] = None,
    method: Optional[str] = None,
    include: List[str] = []
) -&gt; List[dict]</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">filter_monitors</span><span class="p">(</span>
    <span class="n">display</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">haystack</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">dict</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">method</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">include</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">dict</span><span class="p">]:</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Searches through the information for all detected displays</span>
<span class="sd">    and attempts to return the info matching the value given.</span>
<span class="sd">    Will attempt to match against index, name, model, edid, method and serial</span>

<span class="sd">    Args:</span>
<span class="sd">        display (str or int): the display you are searching for.</span>
<span class="sd">            Can be serial, name, model number, edid string or index of the display</span>
<span class="sd">        haystack (list): the information to filter from.</span>
<span class="sd">            If this isn&#39;t set it defaults to the return of `list_monitors_info`</span>
<span class="sd">        method (str): the method the monitors use</span>
<span class="sd">        include (list): extra fields of information to sort by</span>

<span class="sd">    Raises:</span>
<span class="sd">        TypeError: if the display kwarg is not an int, str or None</span>
<span class="sd">        LookupError: if the display, does not have a match</span>

<span class="sd">    Returns:</span>
<span class="sd">        list: list of dicts</span>

<span class="sd">    Example:</span>
<span class="sd">        ```python</span>
<span class="sd">        import screen_brightness_control as sbc</span>

<span class="sd">        search = &#39;GL2450H&#39;</span>
<span class="sd">        match = sbc.filter_displays(search)</span>
<span class="sd">        print(match)</span>
<span class="sd">        # EG output: [{&#39;name&#39;: &#39;BenQ GL2450H&#39;, &#39;model&#39;: &#39;GL2450H&#39;, ... }]</span>
<span class="sd">        ```</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="c1"># if we have been provided with a list of monitors to sift through then use that</span>
    <span class="c1"># otherwise, get the info ourselves</span>
    <span class="k">if</span> <span class="n">haystack</span><span class="p">:</span>
        <span class="n">monitors_with_duplicates</span> <span class="o">=</span> <span class="n">haystack</span>
        <span class="k">if</span> <span class="n">method</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">monitors_with_duplicates</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">haystack</span> <span class="k">if</span> <span class="n">method</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="n">i</span><span class="p">[</span><span class="s1">&#39;method&#39;</span><span class="p">]</span><span class="o">.</span><span class="vm">__name__</span><span class="o">.</span><span class="n">lower</span><span class="p">()]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">monitors_with_duplicates</span> <span class="o">=</span> <span class="n">list_monitors_info</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="n">method</span><span class="p">,</span> <span class="n">allow_duplicates</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">display</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="nb">type</span><span class="p">(</span><span class="n">display</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;display kwarg must be int or str, not &quot;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">display</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">&quot;&#39;</span><span class="p">)</span>

    <span class="c1"># This loop does two things: 1. Filters out duplicate monitors and 2. Matches the display kwarg (if applicable)</span>
    <span class="n">unique_identifiers</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">monitors</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">monitor</span> <span class="ow">in</span> <span class="n">monitors_with_duplicates</span><span class="p">:</span>
        <span class="c1"># find a valid identifier for a monitor, excluding any which are equal to None</span>
        <span class="n">added</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">for</span> <span class="n">identifier</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;edid&#39;</span><span class="p">,</span> <span class="s1">&#39;serial&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;model&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="n">include</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">monitor</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">identifier</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="c1"># check we haven&#39;t already added the monitor</span>
                <span class="k">if</span> <span class="n">monitor</span><span class="p">[</span><span class="n">identifier</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">unique_identifiers</span><span class="p">:</span>
                    <span class="c1"># check if the display kwarg (if str) matches this monitor</span>
                    <span class="k">if</span> <span class="n">monitor</span><span class="p">[</span><span class="n">identifier</span><span class="p">]</span> <span class="o">==</span> <span class="n">display</span> <span class="ow">or</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">display</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                        <span class="c1"># if valid and monitor[identifier] not in unique_identifiers:</span>
                        <span class="k">if</span> <span class="ow">not</span> <span class="n">added</span><span class="p">:</span>
                            <span class="n">monitors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">monitor</span><span class="p">)</span>
                            <span class="n">unique_identifiers</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">monitor</span><span class="p">[</span><span class="n">identifier</span><span class="p">])</span>
                            <span class="n">added</span> <span class="o">=</span> <span class="kc">True</span>

                        <span class="c1"># if the display kwarg is an integer and we are currently at that index</span>
                        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">display</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">monitors</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span> <span class="o">==</span> <span class="n">display</span><span class="p">:</span>
                            <span class="k">return</span> <span class="p">[</span><span class="n">monitor</span><span class="p">]</span>
                        <span class="k">if</span> <span class="n">added</span><span class="p">:</span>
                            <span class="k">break</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="c1"># if we have already added a monitor with the same identifier</span>
                    <span class="c1"># then any info matching this monitor will match the other one</span>
                    <span class="c1"># so exit the checking now</span>
                    <span class="k">break</span>

    <span class="c1"># if no monitors matched the query OR if display kwarg was an int</span>
    <span class="c1"># if the latter and we made it this far then the int was out of range</span>
    <span class="k">if</span> <span class="n">monitors</span> <span class="o">==</span> <span class="p">[]</span> <span class="ow">or</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">display</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;no monitors found&#39;</span>
        <span class="k">if</span> <span class="n">display</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">+=</span> <span class="sa">f</span><span class="s1">&#39; with name/serial/model/edid/index of </span><span class="si">{</span><span class="nb">repr</span><span class="p">(</span><span class="n">display</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span>
        <span class="k">if</span> <span class="n">method</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">+=</span> <span class="sa">f</span><span class="s1">&#39; with method of &quot;</span><span class="si">{</span><span class="n">method</span><span class="si">}</span><span class="s1">&quot;&#39;</span>
        <span class="k">raise</span> <span class="ne">LookupError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">monitors</span>
</pre></div>

        </details>

            <div class="docstring"><p>Searches through the information for all detected displays
and attempts to return the info matching the value given.
Will attempt to match against index, name, model, edid, method and serial</p>

<h6 id="args">Args</h6>

<ul>
<li><strong>display (str or int):</strong>  the display you are searching for.
Can be serial, name, model number, edid string or index of the display</li>
<li><strong>haystack (list):</strong>  the information to filter from.
If this isn't set it defaults to the return of <code><a href="#list_monitors_info">list_monitors_info</a></code></li>
<li><strong>method (str):</strong>  the method the monitors use</li>
<li><strong>include (list):</strong>  extra fields of information to sort by</li>
</ul>

<h6 id="raises">Raises</h6>

<ul>
<li><strong>TypeError:</strong>  if the display kwarg is not an int, str or None</li>
<li><strong>LookupError:</strong>  if the display, does not have a match</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>list:</strong>  list of dicts</li>
</ul>

<h6 id="example">Example</h6>

<blockquote>
  <div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="nn">screen_brightness_control</span> <span class="k">as</span> <span class="nn">sbc</span>

<span class="n">search</span> <span class="o">=</span> <span class="s1">&#39;GL2450H&#39;</span>
<span class="n">match</span> <span class="o">=</span> <span class="n">sbc</span><span class="o">.</span><span class="n">filter_displays</span><span class="p">(</span><span class="n">search</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">match</span><span class="p">)</span>
<span class="c1"># EG output: [{&#39;name&#39;: &#39;BenQ GL2450H&#39;, &#39;model&#39;: &#39;GL2450H&#39;, ... }]</span>
</code></pre></div>
</blockquote>
</div>


                </section>
                <section id="flatten_list">
                            <div class="attr function"><a class="headerlink" href="#flatten_list">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">flatten_list</span><span class="signature">(thick_list: List[Any]) -&gt; List[Any]</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">flatten_list</span><span class="p">(</span><span class="n">thick_list</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Any</span><span class="p">]:</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Internal function I use to flatten lists, because I do that often</span>

<span class="sd">    Args:</span>
<span class="sd">        thick_list (list): The list to be flattened. Can be as deep as you wish (within recursion limits)</span>

<span class="sd">    Returns:</span>
<span class="sd">        list: one dimensional</span>

<span class="sd">    Example:</span>
<span class="sd">        ```python</span>
<span class="sd">        import screen_brightness_control as sbc</span>
<span class="sd">        thick_list = [1, [2, [3, 4, 5], 6, 7], 8, [9, 10]]</span>
<span class="sd">        flat_list = sbc.flatten_list(thick_list)</span>
<span class="sd">        # Output: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]</span>
<span class="sd">        ```</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">flat_list</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">thick_list</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
            <span class="n">flat_list</span> <span class="o">+=</span> <span class="n">flatten_list</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">flat_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">flat_list</span>
</pre></div>

        </details>

            <div class="docstring"><p>Internal function I use to flatten lists, because I do that often</p>

<h6 id="args">Args</h6>

<ul>
<li><strong>thick_list (list):</strong>  The list to be flattened. Can be as deep as you wish (within recursion limits)</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>list:</strong>  one dimensional</li>
</ul>

<h6 id="example">Example</h6>

<blockquote>
  <div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="nn">screen_brightness_control</span> <span class="k">as</span> <span class="nn">sbc</span>
<span class="n">thick_list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">],</span> <span class="mi">8</span><span class="p">,</span> <span class="p">[</span><span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">]]</span>
<span class="n">flat_list</span> <span class="o">=</span> <span class="n">sbc</span><span class="o">.</span><span class="n">flatten_list</span><span class="p">(</span><span class="n">thick_list</span><span class="p">)</span>
<span class="c1"># Output: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]</span>
</code></pre></div>
</blockquote>
</div>


                </section>
    </main>
        <script>/** elasticlunr - http://weixsong.github.io * Copyright (C) 2017 Oliver Nightingale * Copyright (C) 2017 Wei Song * MIT Licensed */!function(){function e(e){if(null===e||"object"!=typeof e)return e;var t=e.constructor();for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}var t=function(e){var n=new t.Index;return n.pipeline.add(t.trimmer,t.stopWordFilter,t.stemmer),e&&e.call(n,n),n};t.version="0.9.5",lunr=t,t.utils={},t.utils.warn=function(e){return function(t){e.console&&console.warn&&console.warn(t)}}(this),t.utils.toString=function(e){return void 0===e||null===e?"":e.toString()},t.EventEmitter=function(){this.events={}},t.EventEmitter.prototype.addListener=function(){var e=Array.prototype.slice.call(arguments),t=e.pop(),n=e;if("function"!=typeof t)throw new TypeError("last argument must be a function");n.forEach(function(e){this.hasHandler(e)||(this.events[e]=[]),this.events[e].push(t)},this)},t.EventEmitter.prototype.removeListener=function(e,t){if(this.hasHandler(e)){var n=this.events[e].indexOf(t);-1!==n&&(this.events[e].splice(n,1),0==this.events[e].length&&delete this.events[e])}},t.EventEmitter.prototype.emit=function(e){if(this.hasHandler(e)){var t=Array.prototype.slice.call(arguments,1);this.events[e].forEach(function(e){e.apply(void 0,t)},this)}},t.EventEmitter.prototype.hasHandler=function(e){return e in this.events},t.tokenizer=function(e){if(!arguments.length||null===e||void 0===e)return[];if(Array.isArray(e)){var n=e.filter(function(e){return null===e||void 0===e?!1:!0});n=n.map(function(e){return t.utils.toString(e).toLowerCase()});var i=[];return n.forEach(function(e){var n=e.split(t.tokenizer.seperator);i=i.concat(n)},this),i}return e.toString().trim().toLowerCase().split(t.tokenizer.seperator)},t.tokenizer.defaultSeperator=/[\s\-]+/,t.tokenizer.seperator=t.tokenizer.defaultSeperator,t.tokenizer.setSeperator=function(e){null!==e&&void 0!==e&&"object"==typeof e&&(t.tokenizer.seperator=e)},t.tokenizer.resetSeperator=function(){t.tokenizer.seperator=t.tokenizer.defaultSeperator},t.tokenizer.getSeperator=function(){return t.tokenizer.seperator},t.Pipeline=function(){this._queue=[]},t.Pipeline.registeredFunctions={},t.Pipeline.registerFunction=function(e,n){n in t.Pipeline.registeredFunctions&&t.utils.warn("Overwriting existing registered function: "+n),e.label=n,t.Pipeline.registeredFunctions[n]=e},t.Pipeline.getRegisteredFunction=function(e){return e in t.Pipeline.registeredFunctions!=!0?null:t.Pipeline.registeredFunctions[e]},t.Pipeline.warnIfFunctionNotRegistered=function(e){var n=e.label&&e.label in this.registeredFunctions;n||t.utils.warn("Function is not registered with pipeline. This may cause problems when serialising the index.\n",e)},t.Pipeline.load=function(e){var n=new t.Pipeline;return e.forEach(function(e){var i=t.Pipeline.getRegisteredFunction(e);if(!i)throw new Error("Cannot load un-registered function: "+e);n.add(i)}),n},t.Pipeline.prototype.add=function(){var e=Array.prototype.slice.call(arguments);e.forEach(function(e){t.Pipeline.warnIfFunctionNotRegistered(e),this._queue.push(e)},this)},t.Pipeline.prototype.after=function(e,n){t.Pipeline.warnIfFunctionNotRegistered(n);var i=this._queue.indexOf(e);if(-1===i)throw new Error("Cannot find existingFn");this._queue.splice(i+1,0,n)},t.Pipeline.prototype.before=function(e,n){t.Pipeline.warnIfFunctionNotRegistered(n);var i=this._queue.indexOf(e);if(-1===i)throw new Error("Cannot find existingFn");this._queue.splice(i,0,n)},t.Pipeline.prototype.remove=function(e){var t=this._queue.indexOf(e);-1!==t&&this._queue.splice(t,1)},t.Pipeline.prototype.run=function(e){for(var t=[],n=e.length,i=this._queue.length,o=0;n>o;o++){for(var r=e[o],s=0;i>s&&(r=this._queue[s](r,o,e),void 0!==r&&null!==r);s++);void 0!==r&&null!==r&&t.push(r)}return t},t.Pipeline.prototype.reset=function(){this._queue=[]},t.Pipeline.prototype.get=function(){return this._queue},t.Pipeline.prototype.toJSON=function(){return this._queue.map(function(e){return t.Pipeline.warnIfFunctionNotRegistered(e),e.label})},t.Index=function(){this._fields=[],this._ref="id",this.pipeline=new t.Pipeline,this.documentStore=new t.DocumentStore,this.index={},this.eventEmitter=new t.EventEmitter,this._idfCache={},this.on("add","remove","update",function(){this._idfCache={}}.bind(this))},t.Index.prototype.on=function(){var e=Array.prototype.slice.call(arguments);return this.eventEmitter.addListener.apply(this.eventEmitter,e)},t.Index.prototype.off=function(e,t){return this.eventEmitter.removeListener(e,t)},t.Index.load=function(e){e.version!==t.version&&t.utils.warn("version mismatch: current "+t.version+" importing "+e.version);var n=new this;n._fields=e.fields,n._ref=e.ref,n.documentStore=t.DocumentStore.load(e.documentStore),n.pipeline=t.Pipeline.load(e.pipeline),n.index={};for(var i in e.index)n.index[i]=t.InvertedIndex.load(e.index[i]);return n},t.Index.prototype.addField=function(e){return this._fields.push(e),this.index[e]=new t.InvertedIndex,this},t.Index.prototype.setRef=function(e){return this._ref=e,this},t.Index.prototype.saveDocument=function(e){return this.documentStore=new t.DocumentStore(e),this},t.Index.prototype.addDoc=function(e,n){if(e){var n=void 0===n?!0:n,i=e[this._ref];this.documentStore.addDoc(i,e),this._fields.forEach(function(n){var o=this.pipeline.run(t.tokenizer(e[n]));this.documentStore.addFieldLength(i,n,o.length);var r={};o.forEach(function(e){e in r?r[e]+=1:r[e]=1},this);for(var s in r){var u=r[s];u=Math.sqrt(u),this.index[n].addToken(s,{ref:i,tf:u})}},this),n&&this.eventEmitter.emit("add",e,this)}},t.Index.prototype.removeDocByRef=function(e){if(e&&this.documentStore.isDocStored()!==!1&&this.documentStore.hasDoc(e)){var t=this.documentStore.getDoc(e);this.removeDoc(t,!1)}},t.Index.prototype.removeDoc=function(e,n){if(e){var n=void 0===n?!0:n,i=e[this._ref];this.documentStore.hasDoc(i)&&(this.documentStore.removeDoc(i),this._fields.forEach(function(n){var o=this.pipeline.run(t.tokenizer(e[n]));o.forEach(function(e){this.index[n].removeToken(e,i)},this)},this),n&&this.eventEmitter.emit("remove",e,this))}},t.Index.prototype.updateDoc=function(e,t){var t=void 0===t?!0:t;this.removeDocByRef(e[this._ref],!1),this.addDoc(e,!1),t&&this.eventEmitter.emit("update",e,this)},t.Index.prototype.idf=function(e,t){var n="@"+t+"/"+e;if(Object.prototype.hasOwnProperty.call(this._idfCache,n))return this._idfCache[n];var i=this.index[t].getDocFreq(e),o=1+Math.log(this.documentStore.length/(i+1));return this._idfCache[n]=o,o},t.Index.prototype.getFields=function(){return this._fields.slice()},t.Index.prototype.search=function(e,n){if(!e)return[];e="string"==typeof e?{any:e}:JSON.parse(JSON.stringify(e));var i=null;null!=n&&(i=JSON.stringify(n));for(var o=new t.Configuration(i,this.getFields()).get(),r={},s=Object.keys(e),u=0;u<s.length;u++){var a=s[u];r[a]=this.pipeline.run(t.tokenizer(e[a]))}var l={};for(var c in o){var d=r[c]||r.any;if(d){var f=this.fieldSearch(d,c,o),h=o[c].boost;for(var p in f)f[p]=f[p]*h;for(var p in f)p in l?l[p]+=f[p]:l[p]=f[p]}}var v,g=[];for(var p in l)v={ref:p,score:l[p]},this.documentStore.hasDoc(p)&&(v.doc=this.documentStore.getDoc(p)),g.push(v);return g.sort(function(e,t){return t.score-e.score}),g},t.Index.prototype.fieldSearch=function(e,t,n){var i=n[t].bool,o=n[t].expand,r=n[t].boost,s=null,u={};return 0!==r?(e.forEach(function(e){var n=[e];1==o&&(n=this.index[t].expandToken(e));var r={};n.forEach(function(n){var o=this.index[t].getDocs(n),a=this.idf(n,t);if(s&&"AND"==i){var l={};for(var c in s)c in o&&(l[c]=o[c]);o=l}n==e&&this.fieldSearchStats(u,n,o);for(var c in o){var d=this.index[t].getTermFrequency(n,c),f=this.documentStore.getFieldLength(c,t),h=1;0!=f&&(h=1/Math.sqrt(f));var p=1;n!=e&&(p=.15*(1-(n.length-e.length)/n.length));var v=d*a*h*p;c in r?r[c]+=v:r[c]=v}},this),s=this.mergeScores(s,r,i)},this),s=this.coordNorm(s,u,e.length)):void 0},t.Index.prototype.mergeScores=function(e,t,n){if(!e)return t;if("AND"==n){var i={};for(var o in t)o in e&&(i[o]=e[o]+t[o]);return i}for(var o in t)o in e?e[o]+=t[o]:e[o]=t[o];return e},t.Index.prototype.fieldSearchStats=function(e,t,n){for(var i in n)i in e?e[i].push(t):e[i]=[t]},t.Index.prototype.coordNorm=function(e,t,n){for(var i in e)if(i in t){var o=t[i].length;e[i]=e[i]*o/n}return e},t.Index.prototype.toJSON=function(){var e={};return this._fields.forEach(function(t){e[t]=this.index[t].toJSON()},this),{version:t.version,fields:this._fields,ref:this._ref,documentStore:this.documentStore.toJSON(),index:e,pipeline:this.pipeline.toJSON()}},t.Index.prototype.use=function(e){var t=Array.prototype.slice.call(arguments,1);t.unshift(this),e.apply(this,t)},t.DocumentStore=function(e){this._save=null===e||void 0===e?!0:e,this.docs={},this.docInfo={},this.length=0},t.DocumentStore.load=function(e){var t=new this;return t.length=e.length,t.docs=e.docs,t.docInfo=e.docInfo,t._save=e.save,t},t.DocumentStore.prototype.isDocStored=function(){return this._save},t.DocumentStore.prototype.addDoc=function(t,n){this.hasDoc(t)||this.length++,this.docs[t]=this._save===!0?e(n):null},t.DocumentStore.prototype.getDoc=function(e){return this.hasDoc(e)===!1?null:this.docs[e]},t.DocumentStore.prototype.hasDoc=function(e){return e in this.docs},t.DocumentStore.prototype.removeDoc=function(e){this.hasDoc(e)&&(delete this.docs[e],delete this.docInfo[e],this.length--)},t.DocumentStore.prototype.addFieldLength=function(e,t,n){null!==e&&void 0!==e&&0!=this.hasDoc(e)&&(this.docInfo[e]||(this.docInfo[e]={}),this.docInfo[e][t]=n)},t.DocumentStore.prototype.updateFieldLength=function(e,t,n){null!==e&&void 0!==e&&0!=this.hasDoc(e)&&this.addFieldLength(e,t,n)},t.DocumentStore.prototype.getFieldLength=function(e,t){return null===e||void 0===e?0:e in this.docs&&t in this.docInfo[e]?this.docInfo[e][t]:0},t.DocumentStore.prototype.toJSON=function(){return{docs:this.docs,docInfo:this.docInfo,length:this.length,save:this._save}},t.stemmer=function(){var e={ational:"ate",tional:"tion",enci:"ence",anci:"ance",izer:"ize",bli:"ble",alli:"al",entli:"ent",eli:"e",ousli:"ous",ization:"ize",ation:"ate",ator:"ate",alism:"al",iveness:"ive",fulness:"ful",ousness:"ous",aliti:"al",iviti:"ive",biliti:"ble",logi:"log"},t={icate:"ic",ative:"",alize:"al",iciti:"ic",ical:"ic",ful:"",ness:""},n="[^aeiou]",i="[aeiouy]",o=n+"[^aeiouy]*",r=i+"[aeiou]*",s="^("+o+")?"+r+o,u="^("+o+")?"+r+o+"("+r+")?$",a="^("+o+")?"+r+o+r+o,l="^("+o+")?"+i,c=new RegExp(s),d=new RegExp(a),f=new RegExp(u),h=new RegExp(l),p=/^(.+?)(ss|i)es$/,v=/^(.+?)([^s])s$/,g=/^(.+?)eed$/,m=/^(.+?)(ed|ing)$/,y=/.$/,S=/(at|bl|iz)$/,x=new RegExp("([^aeiouylsz])\\1$"),w=new RegExp("^"+o+i+"[^aeiouwxy]$"),I=/^(.+?[^aeiou])y$/,b=/^(.+?)(ational|tional|enci|anci|izer|bli|alli|entli|eli|ousli|ization|ation|ator|alism|iveness|fulness|ousness|aliti|iviti|biliti|logi)$/,E=/^(.+?)(icate|ative|alize|iciti|ical|ful|ness)$/,D=/^(.+?)(al|ance|ence|er|ic|able|ible|ant|ement|ment|ent|ou|ism|ate|iti|ous|ive|ize)$/,F=/^(.+?)(s|t)(ion)$/,_=/^(.+?)e$/,P=/ll$/,k=new RegExp("^"+o+i+"[^aeiouwxy]$"),z=function(n){var i,o,r,s,u,a,l;if(n.length<3)return n;if(r=n.substr(0,1),"y"==r&&(n=r.toUpperCase()+n.substr(1)),s=p,u=v,s.test(n)?n=n.replace(s,"$1$2"):u.test(n)&&(n=n.replace(u,"$1$2")),s=g,u=m,s.test(n)){var z=s.exec(n);s=c,s.test(z[1])&&(s=y,n=n.replace(s,""))}else if(u.test(n)){var z=u.exec(n);i=z[1],u=h,u.test(i)&&(n=i,u=S,a=x,l=w,u.test(n)?n+="e":a.test(n)?(s=y,n=n.replace(s,"")):l.test(n)&&(n+="e"))}if(s=I,s.test(n)){var z=s.exec(n);i=z[1],n=i+"i"}if(s=b,s.test(n)){var z=s.exec(n);i=z[1],o=z[2],s=c,s.test(i)&&(n=i+e[o])}if(s=E,s.test(n)){var z=s.exec(n);i=z[1],o=z[2],s=c,s.test(i)&&(n=i+t[o])}if(s=D,u=F,s.test(n)){var z=s.exec(n);i=z[1],s=d,s.test(i)&&(n=i)}else if(u.test(n)){var z=u.exec(n);i=z[1]+z[2],u=d,u.test(i)&&(n=i)}if(s=_,s.test(n)){var z=s.exec(n);i=z[1],s=d,u=f,a=k,(s.test(i)||u.test(i)&&!a.test(i))&&(n=i)}return s=P,u=d,s.test(n)&&u.test(n)&&(s=y,n=n.replace(s,"")),"y"==r&&(n=r.toLowerCase()+n.substr(1)),n};return z}(),t.Pipeline.registerFunction(t.stemmer,"stemmer"),t.stopWordFilter=function(e){return e&&t.stopWordFilter.stopWords[e]!==!0?e:void 0},t.clearStopWords=function(){t.stopWordFilter.stopWords={}},t.addStopWords=function(e){null!=e&&Array.isArray(e)!==!1&&e.forEach(function(e){t.stopWordFilter.stopWords[e]=!0},this)},t.resetStopWords=function(){t.stopWordFilter.stopWords=t.defaultStopWords},t.defaultStopWords={"":!0,a:!0,able:!0,about:!0,across:!0,after:!0,all:!0,almost:!0,also:!0,am:!0,among:!0,an:!0,and:!0,any:!0,are:!0,as:!0,at:!0,be:!0,because:!0,been:!0,but:!0,by:!0,can:!0,cannot:!0,could:!0,dear:!0,did:!0,"do":!0,does:!0,either:!0,"else":!0,ever:!0,every:!0,"for":!0,from:!0,get:!0,got:!0,had:!0,has:!0,have:!0,he:!0,her:!0,hers:!0,him:!0,his:!0,how:!0,however:!0,i:!0,"if":!0,"in":!0,into:!0,is:!0,it:!0,its:!0,just:!0,least:!0,let:!0,like:!0,likely:!0,may:!0,me:!0,might:!0,most:!0,must:!0,my:!0,neither:!0,no:!0,nor:!0,not:!0,of:!0,off:!0,often:!0,on:!0,only:!0,or:!0,other:!0,our:!0,own:!0,rather:!0,said:!0,say:!0,says:!0,she:!0,should:!0,since:!0,so:!0,some:!0,than:!0,that:!0,the:!0,their:!0,them:!0,then:!0,there:!0,these:!0,they:!0,"this":!0,tis:!0,to:!0,too:!0,twas:!0,us:!0,wants:!0,was:!0,we:!0,were:!0,what:!0,when:!0,where:!0,which:!0,"while":!0,who:!0,whom:!0,why:!0,will:!0,"with":!0,would:!0,yet:!0,you:!0,your:!0},t.stopWordFilter.stopWords=t.defaultStopWords,t.Pipeline.registerFunction(t.stopWordFilter,"stopWordFilter"),t.trimmer=function(e){if(null===e||void 0===e)throw new Error("token should not be undefined");return e.replace(/^\W+/,"").replace(/\W+$/,"")},t.Pipeline.registerFunction(t.trimmer,"trimmer"),t.InvertedIndex=function(){this.root={docs:{},df:0}},t.InvertedIndex.load=function(e){var t=new this;return t.root=e.root,t},t.InvertedIndex.prototype.addToken=function(e,t,n){for(var n=n||this.root,i=0;i<=e.length-1;){var o=e[i];o in n||(n[o]={docs:{},df:0}),i+=1,n=n[o]}var r=t.ref;n.docs[r]?n.docs[r]={tf:t.tf}:(n.docs[r]={tf:t.tf},n.df+=1)},t.InvertedIndex.prototype.hasToken=function(e){if(!e)return!1;for(var t=this.root,n=0;n<e.length;n++){if(!t[e[n]])return!1;t=t[e[n]]}return!0},t.InvertedIndex.prototype.getNode=function(e){if(!e)return null;for(var t=this.root,n=0;n<e.length;n++){if(!t[e[n]])return null;t=t[e[n]]}return t},t.InvertedIndex.prototype.getDocs=function(e){var t=this.getNode(e);return null==t?{}:t.docs},t.InvertedIndex.prototype.getTermFrequency=function(e,t){var n=this.getNode(e);return null==n?0:t in n.docs?n.docs[t].tf:0},t.InvertedIndex.prototype.getDocFreq=function(e){var t=this.getNode(e);return null==t?0:t.df},t.InvertedIndex.prototype.removeToken=function(e,t){if(e){var n=this.getNode(e);null!=n&&t in n.docs&&(delete n.docs[t],n.df-=1)}},t.InvertedIndex.prototype.expandToken=function(e,t,n){if(null==e||""==e)return[];var t=t||[];if(void 0==n&&(n=this.getNode(e),null==n))return t;n.df>0&&t.push(e);for(var i in n)"docs"!==i&&"df"!==i&&this.expandToken(e+i,t,n[i]);return t},t.InvertedIndex.prototype.toJSON=function(){return{root:this.root}},t.Configuration=function(e,n){var e=e||"";if(void 0==n||null==n)throw new Error("fields should not be null");this.config={};var i;try{i=JSON.parse(e),this.buildUserConfig(i,n)}catch(o){t.utils.warn("user configuration parse failed, will use default configuration"),this.buildDefaultConfig(n)}},t.Configuration.prototype.buildDefaultConfig=function(e){this.reset(),e.forEach(function(e){this.config[e]={boost:1,bool:"OR",expand:!1}},this)},t.Configuration.prototype.buildUserConfig=function(e,n){var i="OR",o=!1;if(this.reset(),"bool"in e&&(i=e.bool||i),"expand"in e&&(o=e.expand||o),"fields"in e)for(var r in e.fields)if(n.indexOf(r)>-1){var s=e.fields[r],u=o;void 0!=s.expand&&(u=s.expand),this.config[r]={boost:s.boost||0===s.boost?s.boost:1,bool:s.bool||i,expand:u}}else t.utils.warn("field name in user configuration not found in index instance fields");else this.addAllFields2UserConfig(i,o,n)},t.Configuration.prototype.addAllFields2UserConfig=function(e,t,n){n.forEach(function(n){this.config[n]={boost:1,bool:e,expand:t}},this)},t.Configuration.prototype.get=function(){return this.config},t.Configuration.prototype.reset=function(){this.config={}},lunr.SortedSet=function(){this.length=0,this.elements=[]},lunr.SortedSet.load=function(e){var t=new this;return t.elements=e,t.length=e.length,t},lunr.SortedSet.prototype.add=function(){var e,t;for(e=0;e<arguments.length;e++)t=arguments[e],~this.indexOf(t)||this.elements.splice(this.locationFor(t),0,t);this.length=this.elements.length},lunr.SortedSet.prototype.toArray=function(){return this.elements.slice()},lunr.SortedSet.prototype.map=function(e,t){return this.elements.map(e,t)},lunr.SortedSet.prototype.forEach=function(e,t){return this.elements.forEach(e,t)},lunr.SortedSet.prototype.indexOf=function(e){for(var t=0,n=this.elements.length,i=n-t,o=t+Math.floor(i/2),r=this.elements[o];i>1;){if(r===e)return o;e>r&&(t=o),r>e&&(n=o),i=n-t,o=t+Math.floor(i/2),r=this.elements[o]}return r===e?o:-1},lunr.SortedSet.prototype.locationFor=function(e){for(var t=0,n=this.elements.length,i=n-t,o=t+Math.floor(i/2),r=this.elements[o];i>1;)e>r&&(t=o),r>e&&(n=o),i=n-t,o=t+Math.floor(i/2),r=this.elements[o];return r>e?o:e>r?o+1:void 0},lunr.SortedSet.prototype.intersect=function(e){for(var t=new lunr.SortedSet,n=0,i=0,o=this.length,r=e.length,s=this.elements,u=e.elements;;){if(n>o-1||i>r-1)break;s[n]!==u[i]?s[n]<u[i]?n++:s[n]>u[i]&&i++:(t.add(s[n]),n++,i++)}return t},lunr.SortedSet.prototype.clone=function(){var e=new lunr.SortedSet;return e.elements=this.toArray(),e.length=e.elements.length,e},lunr.SortedSet.prototype.union=function(e){var t,n,i;this.length>=e.length?(t=this,n=e):(t=e,n=this),i=t.clone();for(var o=0,r=n.toArray();o<r.length;o++)i.add(r[o]);return i},lunr.SortedSet.prototype.toJSON=function(){return this.toArray()},function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.elasticlunr=t()}(this,function(){return t})}();</script>
        <script>
            function escapeHTML(html) {
                return document.createElement('div').appendChild(document.createTextNode(html)).parentNode.innerHTML;
            }

            const originalContent = document.querySelector("main.pdoc");
            let currentContent = originalContent;

            function setContent(innerHTML) {
                let elem;
                if (innerHTML) {
                    elem = document.createElement("main");
                    elem.classList.add("pdoc");
                    elem.innerHTML = innerHTML;
                } else {
                    elem = originalContent;
                }
                if (currentContent !== elem) {
                    currentContent.replaceWith(elem);
                    currentContent = elem;
                }
            }

            function getSearchTerm() {
                return (new URL(window.location)).searchParams.get("search");
            }

            const searchBox = document.querySelector(".pdoc input[type=search]");
            searchBox.addEventListener("input", function () {
                let url = new URL(window.location);
                if (searchBox.value.trim()) {
                    url.hash = "";
                    url.searchParams.set("search", searchBox.value);
                } else {
                    url.searchParams.delete("search");
                }
                history.replaceState("", "", url.toString());
                onInput();
            });
            window.addEventListener("popstate", onInput);


            let searchIndex, searchErr;

            async function initialize() {
                let docs;
                try {
                    let resp = await fetch("search.json");
                    docs = await resp.json();
                } catch (e) {
                    searchErr = "Cannot fetch search index.";
                    throw e;
                }

                // Also split on html tags. this is a cheap heuristic, but good enough.
                elasticlunr.tokenizer.setSeperator(/[\s\-.;&]+|<[^>]*>/);

                if (docs._isPrebuiltIndex) {
                    console.info("using precompiled search index");
                    searchIndex = elasticlunr.Index.load(docs);
                } else {
                    console.time("building search index");
                    searchIndex = elasticlunr(function () {
                        this.addField('qualname');
                        this.addField('fullname');
                        this.addField('doc');
                        this.setRef('fullname');
                    });
                    for (let doc of docs) {
                        searchIndex.addDoc(doc);
                    }
                    console.timeEnd("building search index");
                }
                onInput();

                document.querySelector("nav.pdoc").addEventListener("click", e => {
                    if (e.target.hash) {
                        searchBox.value = "";
                        searchBox.dispatchEvent(new Event("input"));
                    }
                });
            }

            function onInput() {
                setContent((() => {
                    const search = getSearchTerm();
                    if (!search) {
                        return null
                    }
                    if (searchErr) {
                        return `<h3>Error: ${searchErr}</h3>`
                    }
                    if (!searchIndex) {
                        return "<h3>Searching...</h3>"
                    }

                    window.scrollTo({top: 0, left: 0, behavior: 'auto'});

                    const results = searchIndex.search(search, {
                        fields: {
                            qualname: {boost: 4},
                            fullname: {boost: 2},
                            doc: {boost: 1},
                        },
                        expand: true
                    });

                    let html;
                    if (results.length === 0) {
                        html = `No search results for '${escapeHTML(search)}'.`
                    } else {
                        html = `<h4>${results.length} search result${results.length > 1 ? "s" : ""} for '${escapeHTML(search)}'.</h4>`;
                    }
                    for (let result of results.slice(0, 10)) {
                        let doc = result.doc;
                        let url = `${doc.modulename.replaceAll(".", "/")}.html`;
                        if (doc.qualname) {
                            url += `#${doc.qualname}`;
                        }

                        let heading;
                        switch (result.doc.type) {
                            case "function":
                                heading = `<span class="def">${doc.funcdef}</span> <span class="name">${doc.fullname}</span><span class="signature">(${doc.parameters.join(", ")})</span>`;
                                break;
                            case "class":
                                heading = `<span class="def">class</span> <span class="name">${doc.fullname}</span>`;
                                break;
                            default:
                                heading = `<span class="name">${doc.fullname}</span>`;
                                break;
                        }
                        html += `
                        <section class="search-result">
                        <a href="${url}" class="attr ${doc.type}">${heading}</a>
                        <div class="docstring">${doc.doc}</div>
                        </section>
                    `;

                    }
                    return html;
                })());
            }

            if (getSearchTerm()) {
                initialize();
                searchBox.value = getSearchTerm();
                onInput();
            } else {
                searchBox.addEventListener("focus", initialize, {once: true});
            }

            searchBox.addEventListener("keydown", e => {
                if (["ArrowDown", "ArrowUp", "Enter"].includes(e.key)) {
                    let focused = currentContent.querySelector(".search-result.focused");
                    if (!focused) {
                        currentContent.querySelector(".search-result").classList.add("focused");
                    } else if (
                        e.key === "ArrowDown"
                        && focused.nextElementSibling
                        && focused.nextElementSibling.classList.contains("search-result")
                    ) {
                        focused.classList.remove("focused");
                        focused.nextElementSibling.classList.add("focused");
                        focused.nextElementSibling.scrollIntoView({
                            behavior: "smooth",
                            block: "nearest",
                            inline: "nearest"
                        });
                    } else if (
                        e.key === "ArrowUp"
                        && focused.previousElementSibling
                        && focused.previousElementSibling.classList.contains("search-result")
                    ) {
                        focused.classList.remove("focused");
                        focused.previousElementSibling.classList.add("focused");
                        focused.previousElementSibling.scrollIntoView({
                            behavior: "smooth",
                            block: "nearest",
                            inline: "nearest"
                        });
                    } else if (
                        e.key === "Enter"
                    ) {
                        focused.querySelector("a").click();
                    }
                }
            });
        </script>
</body>
</html>